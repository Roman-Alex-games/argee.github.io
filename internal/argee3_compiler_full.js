/********************************************************************************
 *
 * Copyright (c) 2016 by TUSA
 *
 ********************************************************************************
 *
 *  Initial Author       : Roman Glistvain
 *  Maintainers          : Roman Glistvain
 *
 *
 ********************************************************************************
 *
 *  DESCRIPTION: Common configuration variables for the ARGEE IDE
 *
 *******************************************************************************/

/*require('./argee_nst_parse.js');
ARGEE_nst_parse=PARSE;
require('./argee_nst_process.js');
ARGEE_nst_process=PROCESS;
require('./argee_obj_db.js');
require('./argee_nst_code_gen.js');
require('./util.js');
var delf=require('../common/pako_deflate.min.js');
var infl=require('../common/pako_inflate.min.js');
var pako=require('../common/pako.min.js');
*/

var debug_style="\r\n\t\t.css-treeview ul,\r\n\t\t.css-treeview li\r\n\t\t{\r\n\t\t\tpadding: 0;\r\n\t\t\tmargin: 0;\r\n\t\t\tlist-style: none;\r\n\t\t}\r\n\r\n\t\t.css-treeview input\r\n\t\t{\r\n\t\t\tposition: absolute;\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\r\n\t\t.css-treeview\r\n\t\t{\r\n\t\t\tfont: normal;\r\n\t\t\t-moz-user-select: none;\r\n\t\t\t-webkit-user-select: none;\r\n\t\t\tuser-select: none;\r\n\t\t}\r\n\r\n\t\t.css-treeview a\r\n\t\t{\r\n\t\t\tcolor: #00f;\r\n\t\t\ttext-decoration: none;\r\n\t\t}\r\n\r\n\t\t.css-treeview a:hover\r\n\t\t{\r\n\t\t\ttext-decoration: underline;\r\n\t\t}\r\n\r\n\t\t.css-treeview input + label + ul\r\n\t\t{\r\n\t\t\tmargin: 0 0 0 22px;\r\n\t\t}\r\n\r\n\t\t.css-treeview input ~ ul\r\n\t\t{\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\t.css-treeview label,\r\n\t\t.css-treeview label::before\r\n\t\t{\r\n\t\t\tcursor: pointer;\r\n\t\t}\r\n\r\n\t\t.css-treeview input:disabled + label\r\n\t\t{\r\n\t\t\tcursor: default;\r\n\t\t\topacity: .6;\r\n\t\t}\r\n\r\n\t\t.css-treeview input:checked:not(:disabled) ~ ul\r\n\t\t{\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\r\n\t\t.css-treeview label,\r\n\t\t.css-treeview label::before\r\n\t\t{\r\n\t\t\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAACgCAYAAAAFOewUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAApxJREFUeNrslM1u00AQgGdthyalFFOK+ClIIKQKyqUVQvTEE3DmAhLwAhU8QZoH4A2Q2gMSFace4MCtJ8SPBFwAkRuiHKpA6sRN/Lu7zG5i14kctaUqRGhGXnu9O/Pt7MzsMiklvF+9t2kWTDvyIrAsA0aKRRi1T0C/hJ4LUbt5/8rNpWVlp8RSr9J40b48fxFaTQ9+ft8EZ6MJYb0Ok+dnYGpmPgXwKIAvLx8vYXc5GdMAQJgQEkpjRTh36TS2U+DWW/D17WuYgm8pwJyY1npZsZKOxImOV1I/h4+O6vEg5GCZBpgmA6hX8wHKUHDRBXQYicQ4rlc3Tf0VMs8DHBS864F2YFspjgUYjKX/Az3gsdQd2eeBHwmdGWXHcgBGSkZXOXohcEXebRoQcAgjqediNY+AVyu3Z3sAKqfKoGMsewBeEIOPgQxxPJIjcGH6qtL/0AdADzKGnuuD+2tLK7Q8DhHHbOBW+KEzcHLuYc82MkEUekLiwuvVH+guQBQzOG4XdAb8EOcRcqQvDkY2iCLuxECJ43JobMXoutqGgDa2T7UqLKwt9KRyuxKVByqVXXqIoCCUCAqhUOioTWC7G4TQEOD0APy2/7G2Xpu1J4+lxeQ4TXBbITDpoVelRN/BVFbwu5oMMJUBhoXy5tmdRcMwymP2OLQaLjx9/vnBo6V3K6izATmSnMa0Dq7ferIohJhr1p01zrlz49rZF4OMs8JkX23vVQzYp+wbYGV/KpXKjvspl8tsIKCrMNAYFxj2GKS5ZWxg4ewKsJfaGMIY5KXqPz8LBBj6+yDvVP79+yDp/9F9oIx3OisHWwe7Oal0HxCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgwD8E/BZgAP0qhKj3rXO7AAAAAElFTkSuQmCC) no-repeat;\r\n\t\t}\r\n\r\n\t\t.css-treeview label,\r\n\t\t.css-treeview a,\r\n\t\t.css-treeview label::before\r\n\t\t{\r\n\t\t\tdisplay: inline-block;\r\n\t\t\theight: 16px;\r\n\t\t\tline-height: 16px;,\r\n\t\t\tvertical-align: middle;\r\n\t\t}\r\n\r\n\t\t.css-treeview label\r\n\t\t{\r\n\t\t\tbackground-position: 18px 0;\r\n\t\t}\r\n\r\n\t\t.css-treeview label::before\r\n\t\t{\r\n\t\t\tcontent: \"\";\r\n\t\t\twidth: 16px;\r\n\t\t\tmargin: 0 22px 0 0;\r\n\t\t\tvertical-align: middle;\r\n\t\t\tbackground-position: 0 -32px;\r\n\t\t}\r\n\r\n\t\t.css-treeview input:checked + label::before\r\n\t\t{\r\n\t\t\tbackground-position: 0 -16px;\r\n\t\t}\r\n\r\n\t\t/* webkit adjacent element selector bugfix */\r\n\t\t@media screen and (-webkit-min-device-pixel-ratio:0)\r\n\t\t{\r\n\t\t\t.css-treeview \r\n\t\t\t{\r\n\t\t\t\t-webkit-animation: webkit-adjacent-element-selector-bugfix infinite 1s;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@-webkit-keyframes webkit-adjacent-element-selector-bugfix \r\n\t\t\t{\r\n\t\t\t\tfrom \r\n\t\t\t\t{ \r\n\t\t\t\t\tpadding: 0;\r\n\t\t\t\t} \r\n\t\t\t\tto \r\n\t\t\t\t{ \r\n\t\t\t\t\tpadding: 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n"


var ENV=
{
FLOWCHART:0,
ARGEE:1,
NST:2,
};

var prog_view=false;

var fs;
if (typeof window ==='undefined')
{
   var fs = require('fs');
   var zlib = require('zlib');
   var Path = require('path');
}
else
{
   fs=null;
}

var device_descr=
[
	{name:"TBEN-L5-16DXP",sw_rev:"V1.2.3.4",slice_list:[0x01550028,0x846D5500],order_num:6814008},	
	{name:"TBEN-L4-16DXP",sw_rev:"V1.2.3.4",slice_list:[0x01540028,0x846D5500],order_num:6814012},		
	{name:"TBEN-L5-8DIP-8DOP",sw_rev:"V1.2.3.4",slice_list:[0x01550028,0x655B4400],order_num:6814006},
	{name:"TBEN-L4-8DIP-8DOP",sw_rev:"V1.2.3.4",slice_list:[0x01540028,0x655B4400],order_num:6814010},
	{name:"TBEN-S1-4DIP-4DOP",sw_rev:"V1.2.3.4",slice_list:[0x1500029
,0x40533300
,0x9080000
,0x1082000
,0x202082
,0x2000080
,0x2000080
,0x2000080
,0x0
,0x0
,0x0
,0x2082102
,0x80000],order_num:6814021},
	{name:"TBEN-S1-8DXP",sw_rev:"V1.2.3.4",slice_list:[0x1500029
,0x60554400
,0xa080000
,0x2082000
,0x202082
,0x2000080
,0x2000080
,0x1082102
,0x2000080
,0x2000080
,0x2000080
,0x1082102
,0x80000],order_num:6814023},

	{name:"TBEN-L4-8IOL",sw_rev:"V1.2.3.4",slice_list:[22282280, 34611460, 4793090, 4793090, 4793090, 4793090, 4793090, 4793090, 4793090, 4793090, 3670016, 6553600, 8960, 524288],order_num:6814082},
	{name:"TBEN-L5-8IOL",sw_rev:"V1.2.3.4",slice_list:[0x01550028,34611460,
									 4793090,4793090,4793090,4793090,4793090,4793090,4793090,4793090,
									 3670016,6553600,8960,0x80000],order_num:6814017},
	{name:"TBEN-S2-4IOL",sw_rev:"V1.2.3.4",slice_list:[0x01500029,1057026,4793090,4793090,4793090,4793090,2359296,6553600,0x80000],order_num:6814024},
   
	{name:"TBEN-S2-2RFID-4DXP",sw_rev:"V1.2.3.4",slice_list:[0x01500029,4261011,8650880,135296,4261011,8650880,135296,6815744,
											524288,50855936,128,128,128,128,0x80000],order_num:6814029},

	{name:"FEN20-16DXP",sw_rev:"V1.2.3.4",slice_list:[0x01500027,0x81695500],order_num:6931089},
	{name:"FEN20-4DIP-4DXP",sw_rev:"V1.2.3.4",slice_list:[0x01500127,0x41564300],order_num:6931090},
];

function createDefaultParamInit(slot)
	{
		var i,j;
		var obj=new Uint8Array(1024);
		var dt=new DataView(obj.buffer);
		var len;
		var max_obj_len_in_bits=0;
		//for(i=0;i<slices[slot].sections.length;i++)
		{
			// Handle parameters
			i=sect_type.param;
			{
				for(j=0;j<slices[slot].sections[i].objects.length;j++)
				{
					var bit_offset=slices[slot].sections[i].objects[j].offset;
					var bit_len=slices[slot].sections[i].objects[j].length;
					var default_val=slices[slot].sections[i].objects[j].defaultValue;
					if (max_obj_len_in_bits<(bit_offset+bit_len))
					{
						max_obj_len_in_bits=bit_offset+bit_len;
					}
					SetArrValue(dt,bit_offset,bit_len,default_val);
				}
				GOM.setObjArr("ARGEE_IO_PARAM",slot,obj.buffer.slice(0,((max_obj_len_in_bits+7)/8)|0));
			}
		}
	}


var order_num;
var st;
var output_file;
var proj_name;
var compiled_ast;
var source_present=0;

var command_line_compiler=1; 

var document={};

function* inBrowserDebug()
{
   var submods;
   var i;
   SIM.sim_InitDeviceStruct();
   GOM.setDestinationURL("http://"+target_ip);
   // read out slice list
   yield* GOM.objectExchange("ARGEE_DEV_NAME",0,"READ",true);
   yield* GOM.objectExchange("SAPI_APP_VER_STRING",0,"READ",true);
   yield* GOM.objectExchange("ARGEE_COMP_VER",1,"READ",true); 
   yield* GOM.objectExchange("MULTPC_ORDER_NUM",0,"READ",true); 
   yield* GOM.objectExchange("ARGEE_GET_SUB_IDS_OBJ",0,"READ",true); 

   submods=GOM.getValDataView("ARGEE_GET_SUB_IDS_OBJ",0);
   var gw_order_num=GOM.getObjNum("MULTPC_ORDER_NUM",0);
   
   var num_mods=submods.getUint32(0,true);
   for(i=1;i<num_mods;i++)
   {
      yield* GOM.objectExchange("ARGEE_IO_PARAM",i,"READ",true);
   }
   var gom_objs=
   [
      ["ARGEE_DEV_NAME",0],
      ["SAPI_APP_VER_STRING",0],
      ["ARGEE_COMP_VER",1],
      ["MULTPC_ORDER_NUM",0],
      ["ARGEE_GET_SUB_IDS_OBJ",0],
   ];
   for(i=1;i<num_mods;i++)
   {
      gom_objs[gom_objs.length]=["ARGEE_IO_PARAM",i];
   }
   
   submods=GOM.getValDataView("ARGEE_GET_SUB_IDS_OBJ",0);
   var num_mods=submods.getUint32(0,true);
   
   GOM.setObjArr("MODULE_LIST_ARRAY",0,GOM.getObjArr("ARGEE_GET_SUB_IDS_OBJ",0).slice(0,4+num_mods*4));
   
   if (SIM.getSimMode()==false)
   {
      SIM.fillSimSlots(submods);
   }
   
   var id_list=[];
   slices=[];
   for(i=0;i<num_mods;i++)
   {
      
      //yield* updateStatus("Downloading Datapoints of slot "+i);
   
      
      id_list[i]=submods.getUint32(4*i+4,true);
      var slice_obj={};
      slice_obj=SIM.simDB_constructSliceObj(i,id_list[i],gw_order_num,GOM.arrToString(GOM.getObjArr("ARGEE_DEV_NAME",0)));
      slices[slices.length]=slice_obj;
   }
   for(i=0;i<num_mods;i++)
   {
      IO_ids[i]=id_list[i];
   }
   
   SIM.setup_slot_names(GOM.getObjNum("MULTPC_ORDER_NUM",0));

   var proj_file=runARGEE_imp(unescape(source_code),gw_order_num);
   if (proj_file!=undefined)
   {
      DEB.prepareDebElems(compiled_ast);
      //var deb_gen=DEB.debugGenToString();
      GOM.finAjaxAction();
      DEB.debugStandalone();
   }
   
   
   // assume default password when using command line compiler/debugger.
   var jk=1;
}   

const deleteFolderRecursive = function(path) {
  if (fs.existsSync(path)) {
    fs.readdirSync(path).forEach((file, index) => {
      const curPath = Path.join(path, file);
      if (fs.lstatSync(curPath).isDirectory()) { // recurse
        deleteFolderRecursive(curPath);
      } else { // delete file
        fs.unlinkSync(curPath);
      }
    });
    fs.rmdirSync(path);
  }
};


function* TestAJAX()
{
   try
   {
      var json_file=process.argv[2];
      var json=JSON.parse(fs.readFileSync(json_file));
      var submods;
	  var build_dir_name="build_and_debug";
      var i;

	  if (json.build_dir!=undefined)
	  {
		  build_dir_name=json.build_dir;
	  }
      if (!fs.existsSync(build_dir_name)) fs.mkdirSync(build_dir_name); 
      SIM.sim_InitDeviceStruct();

	  //deleteFolderRecursive("build_and_debug");


	  if ((json.ip==undefined)&&(json.selected_device!=undefined))
	  {
		{
			var found=false;
			// find device
			for(i=0;i<device_descr.length;i++)
			{
				if (device_descr[i].name==json.selected_device)
				{
					GOM.setObjArr("SAPI_APP_VER_STRING",0,GOM.convStringToArr(device_descr[i].sw_rev));

					GOM.setObjArr("ARGEE_DEV_NAME",0,GOM.convStringToArr(device_descr[i].name));
					GOM.setObjNum("ARGEE_COMP_VER",0,exp_ARGEE_Kernel_Version);
					GOM.setObjNum("MULTPC_ORDER_NUM",0,device_descr[i].order_num);
					var uint32Arr=new Uint32Array(device_descr[i].slice_list.length+1);
					var j;
					uint32Arr[0]=device_descr[i].slice_list.length;
					for(j=0;j<device_descr[i].slice_list.length;j++)
					{
						uint32Arr[j+1]=device_descr[i].slice_list[j];
					}
					GOM.setObjArr("ARGEE_GET_SUB_IDS_OBJ",0,uint32Arr.buffer);
					var jk1=1;
					found=true;
					break;
				}
			}
			if (found==false)
			{
			  console.error("can not find device  "+json.selected_device);
			  return;
			}
		}
	  }
	  else
	  {
            
		  GOM.setDestinationURL("http://"+json.ip);
		  
		  if (fs.existsSync("./"+build_dir_name+"/"+"iodb.json"))
		  {
			 var iodb_json=JSON.parse(fs.readFileSync("./"+build_dir_name+"/"+"iodb.json"));
			 var jk1=1;
			 GOM.convertJsonToGOM(iodb_json);
		  }
		  else
		  {
			 // read out slice list
			 yield* GOM.objectExchange("ARGEE_DEV_NAME",0,"READ",true);
			 yield* GOM.objectExchange("SAPI_APP_VER_STRING",0,"READ",true);
			 yield* GOM.objectExchange("ARGEE_COMP_VER",1,"READ",true); 
			 yield* GOM.objectExchange("MULTPC_ORDER_NUM",0,"READ",true); 
			 yield* GOM.objectExchange("ARGEE_GET_SUB_IDS_OBJ",0,"READ",true); 


			 

			 submods=GOM.getValDataView("ARGEE_GET_SUB_IDS_OBJ",0);
			 var gw_order_num=GOM.getObjNum("MULTPC_ORDER_NUM",0);
			 
			 var num_mods=submods.getUint32(0,true);
			 for(i=1;i<num_mods;i++)
			 {
				yield* GOM.objectExchange("ARGEE_IO_PARAM",i,"READ",true);
			 }
			 var gom_objs=
			 [
				["ARGEE_DEV_NAME",0],
				["SAPI_APP_VER_STRING",0],
				["ARGEE_COMP_VER",1],
				["MULTPC_ORDER_NUM",0],
				["ARGEE_GET_SUB_IDS_OBJ",0],
			 ];
			 for(i=1;i<num_mods;i++)
			 {
				gom_objs[gom_objs.length]=["ARGEE_IO_PARAM",i];
			 }
			 var js_obj=GOM.convertToJSObj(gom_objs);
			 var json_rep=JSON.stringify(js_obj,null,2);
			 fs.writeFileSync("./"+build_dir_name+"/"+"iodb.json",json_rep);
			 var jk1=1;
		  }
	  }
      
      
      
      
      submods=GOM.getValDataView("ARGEE_GET_SUB_IDS_OBJ",0);
      var num_mods=submods.getUint32(0,true);
      
	  GOM.setObjArr("ARGEE_PROJ_DEV_NAME",0,GOM.getObjArr("ARGEE_DEV_NAME",0));
	  GOM.setObjArr("ARGEE_PROJ_APP_VER_STRING",0,GOM.getObjArr("SAPI_APP_VER_STRING",0));
		 
	  
      GOM.setObjArr("MODULE_LIST_ARRAY",0,GOM.getObjArr("ARGEE_GET_SUB_IDS_OBJ",0).slice(0,4+num_mods*4));
      
      if (SIM.getSimMode()==false)
      {
         SIM.fillSimSlots(submods);
      }
      
      var id_list=[];
      slices=[];
      for(i=0;i<num_mods;i++)
      {
         
         //yield* updateStatus("Downloading Datapoints of slot "+i);
      
         
         id_list[i]=submods.getUint32(4*i+4,true);
         var slice_obj={};
         slice_obj=SIM.simDB_constructSliceObj(i,id_list[i],gw_order_num,GOM.arrToString(GOM.getObjArr("ARGEE_DEV_NAME",0)));
         slices[slices.length]=slice_obj;
	 	  if ((json.ip==undefined)&&(json.selected_device!=undefined))
		  {
			  // create default parameters
			  createDefaultParamInit(i);
			  
		  }

      }
	  
	  
	  
      for(i=0;i<num_mods;i++)
      {
         IO_ids[i]=id_list[i];
      }
	  
	  
      
      SIM.setup_slot_names(GOM.getObjNum("MULTPC_ORDER_NUM",0));
      
      
      
      
      
      
      
      
      proj_name=json.prj_name;
	  source_present=json.source_present;
      order_num=GOM.getObjNum("MULTPC_ORDER_NUM",0);
      output_file=proj_name+".arg";
      st="";

      var out_arr="";
      for(i=0;i<json.argee_source_files.length;i++)
      {
		 var file_name_split=json.argee_source_files[i].split("/");
		 // furst remove directories
		 if (file_name_split.length>0)
		 {
			file_name_split=file_name_split[file_name_split.length-1].split(".");
			file_name_split=file_name_split[0].split("_");
		 }
		 // check if this is not a TOKO library
		 var toko_lib=false;
		 
		 var j;
		 for(j=0;j<file_name_split.length;j++)
		 {
			if ((file_name_split[j]=="V1")&&((file_name_split.length-j)==5))
			{
				toko_lib=true;
			}
		 }
		 
		 var jk=1;
         try 
		 {
		  if (fs.existsSync(json.argee_source_files[i])) {
			//file exists
		  }
		  else
		  {
			  console.error("can not open file "+json.argee_source_files[i]);
			  return;
		  }
		 } 
		 catch(err) 
		 {
		  console.error("can not open file "+json.argee_source_files[i]);
		  return;
		 }
         st=fs.readFileSync(json.argee_source_files[i]);
		 if (toko_lib==false)
		 {
			 var curr_line=1;
			 out_arr+="{[\""+json.argee_source_files[i]+"\","+curr_line+"]}";
			 for(j=0;j<st.length;j++)
			 {
				out_arr+=String.fromCharCode(st[j]);
				if (st[j]==0xa)
				{
				   curr_line++;
				   out_arr+="{[\""+json.argee_source_files[i]+"\","+curr_line+"]}";
				}
			 }
		 }
		 else
		 {
			out_arr+=st;
		 }
         out_arr+="\n";
		 
      }
	  if (json.hmi_files!=undefined)
	  {
		 for(i=0;i<json.hmi_files.length;i++)
		 {
			try 
			 {
			  if (fs.existsSync(json.hmi_files[i])) {
				//file exists
			  }
			  else
			  {
				  console.error("can not open file "+json.hmi_files[i]);
				  return;
			  }
			 } 
			 catch(err) 
			 {
			  console.error("can not open file "+json.hmi_files[i]);
			  return;
			 }
            st=fs.readFileSync(json.hmi_files[i]); 
		    out_arr+=st;
		    out_arr+="\n";
		 }
	  }
         
      var proj_file=runARGEE_imp(out_arr,order_num);
      if (proj_file!=undefined)
      {
         fs.writeFileSync("./"+build_dir_name+"/"+output_file,new Uint8Array(proj_file));
		 fs.writeFileSync("./"+build_dir_name+"/before_preproc.st",new Uint8Array(GOM.convStringToArr(out_arr)));
		 fs.writeFileSync("./"+build_dir_name+"/after_preproc.st",new Uint8Array(GOM.convStringToArr(PARSE.getProprocessedInput())));
		 if (PARSE.getTestJsHTML()!=null)
		 {
		    fs.writeFileSync("./"+build_dir_name+"/js_test.html",new Uint8Array(GOM.convStringToArr(PARSE.getTestJsHTML())));
		 }
         
         
         var js_file=process.argv[1];
         var js_file_contents=fs.readFileSync(js_file,"utf8");
         var jk1=1;
         var source_code="var proj_name=\""+proj_name+"\"\n"+"var target_ip=\""+json.ip+"\";\nvar source_code=\""+escape(out_arr)+"\";";
         var js_file=source_code+"\n"+js_file_contents+"\n";
         fs.writeFileSync("./"+build_dir_name+"/"+"tmp2.js",js_file,"utf8");
         
         
         
         /*var res="<html><head><style>"+debug_style+"</style><script>"+source_code+"\n"+js_file_contents+"\n"+"</script></head>"+"<body onload=\"startProg()\"><div id=\"vars\"></div></body></html>";*/
         var res="<html><head><style>"+debug_style+"</style><script type=\"text/javascript\" src=\"tmp2.js\"></script></head>"+"<body onload=\"startProg()\"><div id=\"vars\"></div></body></html>";
		 if (json.ip!=undefined)
		 {
			 GOM.setObjArr("ARGEE_CHECK_PASSWORD",0,GOM.convStringToArr("password"));
			 yield* GOM.objectExchange("ARGEE_CHECK_PASSWORD",0,"WRITE",true);	
			 yield* GOM.objectExchange("ARGEE_CHECK_PASSWORD",0,"READ",true);
			 var val=new Uint8Array(GOM.getObjArr("ARGEE_CHECK_PASSWORD",0));
			 if (val[0]==0)
			 {
				console.log("Wrong Password!");
				process.exit(0);
			 }
			 yield* GOM.objectExchange(proj_file,0,"STORE_ARGEE_FILE",false);
		 }
		 else
		 {
			 console.log("Project not uploaded - stored offline");
		 }

         var io_map=genIOMap();
         fs.writeFileSync("./"+build_dir_name+"/"+"ip_map.html",io_map,"utf8"); 

         
         
         fs.writeFileSync("./"+build_dir_name+"/"+"debug.html",res,"utf8");
         console.log("Project file created successfully!");
      }
      GOM.finAjaxAction();
      process.exit(0);
   }
   catch(e)
   {
      console.log("improperly formated JSON project file");
   }
/*   
   */
	GOM.finAjaxAction();
}

 
function startProg()
{ 
   var i,j;
   /*console.log("test"); 
   for(i=0;i<process.argv.length;i++)
   {
      console.log("arg "+i+":"+process.argv[i]);
   }*/

   if (typeof window === 'undefined')
   {
      
   }
   else
   {
      GOM.addAjaxAction(inBrowserDebug);
      return;
   }
   
   GOM.addAjaxAction(TestAJAX);
   return;
}
 
var nst_inst_trace_buf=128; // bytes (has to be a power of 2)
var max_prog_traces=50;


var ARGEE_Environment_Version=0x03029605
var exp_ARGEE_Kernel_Version= 0x03070000; 
var ARGEE_default_interscan_delay=2; //ms
var debug_console=false;

/*var ARGEE_elem_descr=(function()
{ 
 var hmi_elems_var_mapping=
   [
      {name:"DISPLAY_VALUE",var_list:[1]},
      {name:"HMI_DISP_NUM",var_list:[1]},
      {name:"HMI_DISP_RANGE",var_list:[1]},
      {name:"HMI_ENTER_NUM",var_list:[1]},
      {name:"HMI_BUTTON",var_list:[1]},
      {name:"HMI_ENTER_STATE",var_list:[1]},
      {name:"ENTER_VALUE",var_list:[1]},
      {name:"BUTTON",var_list:[1]},
      {name:"MULTI_STATE_DISPLAY_STRING",var_list:[1]},
      {name:"MULTI_STATE_DISPLAY_GRAPHICS",var_list:[1]},
      {name:"DROPDOWN_LIST",var_list:[1]},
      {name:"DISPLAY_VALUE_WITH_HEALTH",var_list:[3,5]},
      {name:"LINK",var_list:[0,1,2]},
      {name:"LOAD_FROM_FILE",var_list:[1,2,3,4,5]},
      {name:"STORE_TO_FILE",var_list:[1,2,3,4]},
   ];

return {
	hmi_elems_var_mapping:hmi_elems_var_mapping,
}
}());


	
var DESCR=ARGEE_elem_descr; */
   
var prj_obj_list=
[
	["ARGEE_KERN_VER_VERIFY",0],
	["ARGEE_PROJ_DEV_EXPECTED_ENV_REV",0],
	["ARGEE_PROJ_DEV_ORDER_NUM",0],
	["ARGEE_PROJ_DEV_NAME",0],
	["ARGEE_PROJ_APP_VER_STRING",0],
	["MODULE_LIST_ARRAY",0],
    ["MBS_CONNECTION_TIMEOUT",0],
	["ARGEE_CTRL_PREEMPT_POINT_OFFSET",0],
	["ARGEE_CTRL_SAVE_LR_OFFSET",0],
	["ARGEE_CTRL_SAVE_SP_OFFSET",0],
	["ARGEE_CTRL_CURR_TASK_OFFSET",0],
	["ARGEE_CTRL_FUNCT_TBL_OFFSET",0],
	["ARGEE_CTRL_FUNCT_TBL_LEN_OFFSET",0],
	["ARGEE_CTRL_IO_MAP_OFFSET",0],
	["ARGEE_CTRL_INSTR_TRACE_OFFSET",0],
	["PROG_TRACE_TBL_SEG_OFFSET_OBJ",0],	
	["ARGEE_CTRL_DIRECT_ASM_CALL_SEGM_OFFSET",0],
	["ARGEE_CTRL_INTERCYCLE_TIME",0],
	["ARGEE_CTRL_VAR_SEGM_SIZE",0],
	["ARGEE_CTRL_LR_CALLER_OFFSET",0],
	["ARGEE_CTRL_FP_CALLER_OFFSET",0],
	["ARGEE_PROJ_TYPE",0],
	["ARGEE_PROJ_TITLE",0],
	["ARGEE_PROJ_NV_CHECKSUM",0],
	["ARGEE_PROJ_CHECKSUM",0],
	["ARGEE_BOOT_PROJ_ENABLED",0],
];

var standalone_hmi_text;   
   
function runARGEE_imp(st,order_num)
{
    hmi_present=false;
    GOM.setObjNum("ARGEE_COMP_VER",1,exp_ARGEE_Kernel_Version);
    GOM.setObjNum("ARGEE_KERN_VER_VERIFY",0,GOM.getObjNum("ARGEE_COMP_VER",1));
    GOM.setObjNum("ARGEE_PROJ_DEV_ORDER_NUM",0,order_num);
    GOM.setObjNum("MULTPC_ORDER_NUM",0,order_num);
	GOM.setObjNum("ARGEE_PROJ_TYPE",0,ENV.ARGEE);
    GOM.setObjNum("ARGEE_BOOT_PROJ_ENABLED",0,1);
    GOM.setObjArr("ARGEE_PROJ_TITLE",0,GOM.convStringToArr(proj_name));
	
	if (source_present==1)
	{
		var arr1=zlib.gzipSync(st,{level:9});
		GOM.setObjArr("ARGEE_SOURCE_CODE",0,arr1.buffer);
	}
	
    standalone_hmi_text=objToString(standalone_hmi);
    standalone_hmi.initObj();


    if (findCodeSizeLimit(order_num)==0)
    {
      console.log("Device doesn't exist");
      return;
    }                

    GEN.setARM7_Mode(isArm7(order_num));
    
    if (st!=null)
    {
        var glob=ARGEE_nst_parse.parseProject(st,true);
        if (glob!=null)
        {
            var proc_ast=ARGEE_nst_process.process(glob);
            if ((proc_ast==null)||(proc_ast.empty_proj==true))
            {
                //console.log("Error: "+(e.err_msg) + " in the program on line: "+ (PARSE.getTokenStartLine()+1));
                return;
            }
            standalone_hmi.initObj();
            var hmi={list:[]};
            try
            {
                hmi=PROCESS.constructHMI_Map(proc_ast.hmi,false);
            }
            catch(e)
            {
                PARSE.setErrMsg(e);
                console.log("Error: "+(e.err_msg) + " in the program on line: "+ (PARSE.getTokenStartLine()+1));
                //var res_inner=this.document.getElementById("comp_res_id");
                //res_inner.innerHTML="Error: "+(e.err_msg) + " in the program on line: "+ (token_start_line+1);
                return;
            }
            var special_var=PROCESS.findVarElem(proc_ast,"ACTIVE_HMI_SCREEN");
            if ((special_var!=null)&&(special_var.type.data=="CHAR")&&(special_var.type.range_end!=undefined))
            {
                hmi.active_screen_offset=special_var.offset;
            }
			var standalone_hmi_renderers_text=objToString(standalone_hmi_custom_renderers);

            
            var css_str="#Overlay_pass\r\n" +
            "{\r\n" +
            "  visibility: hidden;\r\n" +
            "  position: absolute;\r\n" +
            "    top: 50%;\r\n" +
            "    left: 50%;\r\n" +
            "    width:20em;\r\n" +
            "    height:15em;\r\n" +
            "    margin-top: -2em; /*set to a negative number 1/2 of your height*/\r\n" +
            "    margin-left: -5em; /*set to a negative number 1/2 of your width*/	\r\n" +
            "  text-align:center;\r\n" +
            "  border: solid;\r\n" +
            "  background-color: #F0F0F0;\r\n" +
            "  z-index: 9999;\r\n" +
            "}\r\n" +
            "fieldset { -moz-border-radius:10px;  border-radius: 10px;  -webkit-border-radius: 10px; }\r\n"+
            "body { font-size: 75%;font-family:'"+hmi_font_family+"'; }\r\n"+
            "table {font-size: 100%;}\r\n"+
            "#grayout {\r\n" +
            "    position: fixed;\r\n" +
            "    top: 0px;\r\n" +
            "    left: 0px;\r\n" +
            "    width: 100%;\r\n" +
            "    height: 100%;\r\n" +
            "    z-index: 8888;\r\n" +
            "    visibility: hidden;\r\n" +
            "    background-color: #000;\r\n" +
            "    filter: alpha(opacity = 55);\r\n" +
            "    opacity:.50;\r\n" +
            "}\r\n";
			
			
			
			css_str+=`@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
`;
  			
            
            var html_output="<html><head><style>"+css_str+"</style><script> var standalone_hmi={"+standalone_hmi_text+"}; var standalone_hmi_custom_renderers={"+standalone_hmi_renderers_text+"};"+ 
            "var hmi_str='"+escape(JSON.stringify(hmi))+"';hmi_global=JSON.parse(unescape(hmi_str));"+
            "</script></head><body onload=\"standalone_hmi.initObj();standalone_hmi.setHMI_Elems(hmi_global);standalone_hmi.setURL(window.location.href);standalone_hmi.timer_func();\"><div id=\"grayout\"></div><div id=\"Overlay_pass\"><p id=\"DlgContent1\"></p></div><div id=\"prog\"></div></body></html>";
            if ((proc_ast.hmi.list.length>0)&&(typeof window === 'undefined'))
            {
                hmi_present=true;
                /*var zip = new JSZip();
                zip.file("hmi.html",html_output);
                var arr=zip.generate({type:"uint8array",compression:"DEFLATE",compressionOptions:{level:6}});*/
                //var pako=require('pako');
                var arr=zlib.gzipSync(html_output,{level:9});
                GOM.setObjArr("HMI_SOURCE_CODE",0,arr.buffer);
            }
			
            standalone_hmi.setHMI_Elems(hmi);

			
            if ((SIM==undefined)||(SIM.getSimMode()==false))
            {
                standalone_hmi.setURL("http://"+(target_ip));
            }
            
            //eval(hmi);
            if (ARGEE_nst_code_gen.generate(proc_ast)==true)
            {
				
				
               
               if ((GOM.getObjArr("ARGEE_RUN_CODE",0).byteLength)>=findCodeSizeLimit(GOM.getObjNum("MULTPC_ORDER_NUM",0)))
               {
                    setCompilerMessage(false,true,"Error: Code doesn't fit into allocated space: program requires "+(GOM.getObjArr("ARGEE_RUN_CODE",0).byteLength) + " bytes, availbale space: "+(findCodeSizeLimit(GOM.getObjNum("MULTPC_ORDER_NUM",0)))+" bytes");					
                    return;
               }
			   
			   
			   
               var prj_obj_list_curr=fastClone(prj_obj_list);	


				if (source_present==1)
				{
					prj_obj_list_curr[prj_obj_list_curr.length]=["ARGEE_SOURCE_CODE",0];
				}		


               if (hmi_present==true)
               {
                  prj_obj_list_curr[prj_obj_list_curr.length]=["HMI_SOURCE_CODE",0];		
               }
               prj_obj_list_curr[prj_obj_list_curr.length]=["ARGEE_RUN_CODE",0];
               var prj_file=GOM.createProjFile(prj_obj_list_curr);
               if ((prj_file==null)||((prj_file.byteLength)>=(256*1024)))
               {
                  setCompilerMessage(false,true,"Error: Project file doesn't fit into allocated space of "+(256*1024)+" bytes");					
                  return;
               }
               compiled_ast=proc_ast;
               return prj_file;
            }
        }
    }
}





/*********************************************************************************************/
/***********************************    Code Limit Database *********************************/
/*********************************************************************************************/
var code_limit_database=
[
{order_num:100001449,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-LH-16DIP                   "},
{order_num:100002195,max_bin_size:(32*1024),  arm7:false,    	name:"TBEN-LH-8IOL                    "},
{order_num:6814009  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-L4-16DIP                   "},
{order_num:6814010  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-L4-8DIP-8DOP               "},
{order_num:6814011  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-L4-16DOP                   "},
{order_num:6814012  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-L4-16DXP                   "},
{order_num:6814017  ,max_bin_size:(32*1024),  arm7:false,    	name:"TBEN-L5-8IOL                    "},
{order_num:6814020  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-S1-8DIP                    "},
{order_num:6814021  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-S1-4DIP-4DOP               "},
{order_num:6814022  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-S1-8DOP                    "},
{order_num:6814023  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-S1-8DXP                    "},
{order_num:100006468,max_bin_size:(42*1024),  arm7:false,       name:"TBEN-S1-4DXP                    "},
{order_num:6814024  ,max_bin_size:(32*1024),  arm7:false,    	name:"TBEN-S2-4IOL                    "},
{order_num:100016672,max_bin_size:(32*1024),  arm7:false,       name:"ATLAS-SF-S2-4IOL                "},
{order_num:6814025  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-S2-4AI                     "},
{order_num:6814028  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-S2-4AO                     "},
{order_num:6814029  ,max_bin_size:(32*1024),  arm7:false,    	name:"TBEN-S2-2RFID-4DXP              "},
{order_num:6814031  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-S2-2COM-4DXP               "},
{order_num:6814034  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-S1-8DIP-D                  "},
{order_num:6814061  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-L4-16DIN                   "},
{order_num:6814063  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-L4-16DON                   "},
{order_num:6814064  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-L4-16DXN                   "},
{order_num:6814073  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-S2-8DIP                    "},
{order_num:6814076  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-S2-8DXP                    "},
{order_num:6814082  ,max_bin_size:(32*1024),  arm7:false,    	name:"TBEN-L4-8IOL                    "},
{order_num:6814085  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-L5-16DIP                   "},
{order_num:6814086  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-L5-8DIP-8DOP               "},
{order_num:6814087  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-L5-16DOP                   "},
{order_num:6814088  ,max_bin_size:(42*1024),  arm7:false,    	name:"TBEN-L5-16DXP                   "},
{order_num:100000836,max_bin_size:(32*1024),  arm7:false,    	name:"TBEN-L5-4RFID-8DXP              "},
{order_num:100002462,max_bin_size:(32*1024),  arm7:false,    	name:"TBEN-L4-4RFID-8DXP              "},
{order_num:6814128  ,max_bin_size:(42*1024),  arm7:false,    	name:"FEN20-4DIN-4DXN-DIN             "},
{order_num:6814129  ,max_bin_size:(42*1024),  arm7:false,    	name:"FEN20-4DIN-4DXN                 "},
{order_num:6931090  ,max_bin_size:(42*1024),  arm7:false,    	name:"FEN20-4DIP-4DXP                 "},
{order_num:6931092  ,max_bin_size:(42*1024),  arm7:false,    	name:"FEN20-4DIP-4DXP-DIN             "},
{order_num:6814135  ,max_bin_size:(42*1024),  arm7:false,    	name:"FEN20-2AX-4DXP                  "},
{order_num:6814140  ,max_bin_size:(32*1024),  arm7:false,    	name:"FEN20-4IOL                      "},
{order_num:6811493  ,max_bin_size:(42*1024),  arm7:false,    	name:"BLCEN-8PBLT                     "},
{order_num:6931089  ,max_bin_size:(25*1024),  arm7:true,    	name:"FEN20-16DXP                     "},
{order_num:6811450  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-2M12MT-2RFID-S            "},
{order_num:6811451  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12MT-4AI4AO-VI          "},
{order_num:6811452  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12MT-8XSG-P             "},
{order_num:6811453  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12LT-2RFID-S-2RFID-S    "},
{order_num:6811454  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-6M12LT-2RFID-S-8XSG-P     "},
{order_num:6811455  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4AI4AO-VI-4AI4AO-VI"},
{order_num:6811456  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12LT-2AI-PT-2AI-PT      "},
{order_num:6811458  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4AI-VI-4AI-VI      "},
{order_num:6811459  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-16M8LT-8XSG-P-8XSG-P      "},
{order_num:6811460  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-1M12MT-1SSI               "},
{order_num:6811461  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-1M12MT-1RS232             "},
{order_num:6811462  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-1M12MT-1RS485-422         "},
{order_num:6811463  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-3M12LT-1RS232-2RFID-S     "},
{order_num:6811464  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-2M12MT-2AI-PT             "},
{order_num:6811465  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-2M12MT-2AI-TC             "},
{order_num:6811467  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12MT-4AI-TC             "},
{order_num:6811468  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12MT-4AI-VI             "},
{order_num:6811469  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4AI-VI-8XSG-P      "},
{order_num:6811470  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12MT-8DO-0.5A-P         "},
{order_num:6811473  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-8DI-N-8DO-0.5A-N   "},
{order_num:6811478  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4AI-TC-4AI-TC      "},
{order_num:6811479  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-1M12MT-1CNT-ENC           "},
{order_num:6811480  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-5M12LT-1CNT-ENC-8DI-PD    "},
{order_num:6811481  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-6M12LT-2AO-I-8XSG-P       "},
{order_num:6811482  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-6M12LT-4AI-VI-2AO-I       "},
{order_num:6811483  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-16M8LT-8DI-P-8DI-P        "},
{order_num:6811484  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-2M12MT-2RFID-A            "},
{order_num:6811485  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12VMT-8XSG-PD           "},
{order_num:6811486  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12VMT-4AI-VI            "},
{order_num:6811487  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12VMH-4DO-2A-P          "},
{order_num:6811488  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-8XSG-P-8XSG-P      "},
{order_num:6811489  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12LT-2AO-I-2AO-I        "},
{order_num:6811490  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-8DI-N-8DI-N        "},
{order_num:6811491  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4AI4AO-VI-8XSG-P   "},
{order_num:6811492  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-6M12LT-4AI-VI-2AI-PT      "},
{order_num:6811494  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12MT-2AI2AO-VI          "},
{order_num:6811497  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12VMT-8DI-P             "},
{order_num:6811499  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12MT-4IOL               "},
{order_num:6811500  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4IOL-4IOL          "},
{order_num:6811501  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-6M12LT-4IOL-2RFID-S       "},
{order_num:6811502  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4IOL-8XSG-P        "},
{order_num:6811503  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4IOL-4AI-VI        "},
{order_num:6811504  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4IOL-4AI4AO-VI     "},
{order_num:6811506  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-8DI-P-8DI-P        "},
{order_num:6811507  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4AI-VI-8DI-P       "},
{order_num:6811508  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-6M12LT-2RFID-S-8DO-0.5A-N "},
{order_num:6811509  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-5M12LT-1RS232-8XSG-P      "},
{order_num:6811512  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12MT-8DI-P              "},
{order_num:6811513  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-8DI-PD-8DI-PD      "},
{order_num:6811514  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4AO-V-8XSG-P       "},
{order_num:6811515  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-6M12LT-2AI-PT-8XSG-P      "},
{order_num:6811637  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4IOL-4IOL/CS30125  "},
{order_num:6811638  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4AI4AO-VI-4AI-VI   "},
{order_num:6811639  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-8M12LT-4AI-TC-4AI-VI      "},
{order_num:6811640  ,max_bin_size:(25*1024),  arm7:true,    	name:"BLCEN-4M12MT-4AO-V              "},
{order_num:7000086  ,max_bin_size:(1024*1024),arm7:true,   	    name:"TBEN-ARGEE-SIM                  "},
];


function findCodeSizeLimit(order_num)
{
    var i;
    for(i=0;i<code_limit_database.length;i++)
    {
        if (code_limit_database[i].order_num==order_num)
        {
            return code_limit_database[i].max_bin_size;
        }
    }
    return 0;
}

function isArm7(order_num)
{
   var i;
   for(i=0;i<code_limit_database.length;i++)
   {
        if (code_limit_database[i].order_num==order_num)
        {
            return code_limit_database[i].arm7;
        }
   }
   return 0;
}


// rempa sect_type based on IO database
var sect_type=
{
   param:3,
   diag:2,
   input:0,
   output:1,
};

var sect_names=["Input","Output","Diagnostics","Parameters"];

function findIndex(id)
{
    var i;
    for(i=0;i<slices.length;i++)
    {
        if (slices[i].id==id)
        {
            return i;
        }
    }
}


function genIOMap()
{
   
   var i,j,k,l;
   var page="";
   //var sect_colors=["Aqua","#FFEEAC","#0FF8DC","#F29136"];
   //var sect_names=["Input","Output","Diagnostics","Parameters"];
   var sect_colors=["Aqua","#FFEEAC","#dd92dd","#F29136"];
   page="<html><head><title> IO Description </title><style>  body { font-size: 75%; }</style></head><body >"
   for(i=0;i<slices.length;i++)
   {
      var name=SIM.getSlotName(i);
      page+="<h2>Slot "+i+" - "+name+"</h2>";
      for(j=0;j<4;j++)
      {
         if (slices[i].sections[j].objects.length>0)
         {
            page+="<h3><div style=\"width:fit-content;background-color:"+sect_colors[j]+";\">"+sect_names[j]+"</div></h3>";
            page+="<table border='1'>"
            page+="<tr><td>&nbspName</td><td>Bit Offset</td><td>Bit Length</td><td>Enum Values</td></tr>";
            for(k=0;k<slices[i].sections[j].objects.length;k++)
            {
               page+="<tr>";
               page+="<td>&nbsp"+slices[i].sections[j].objects[k].name+"&nbsp</td>";
               page+="<td>&nbsp"+slices[i].sections[j].objects[k].offset+"</td><td>&nbsp"+slices[i].sections[j].objects[k].length+"</td>";
               page+="<td>";
               if (slices[i].sections[j].objects[k].enumList!=undefined)
               {
                  for(l=0;l<slices[i].sections[j].objects[k].enumLen;l++)
                  {
                     page+="&nbsp"+slices[i].sections[j].objects[k].enumList[l].val+" - "+slices[i].sections[j].objects[k].enumList[l].str+"<br>";
                  }
               }
               page+="</td>"
               page+="</tr>";
            }
            page+="</table>";
         }
      }
   }
   page+="</body></html>"
   return page;
}
	
var modules_BLCEN=
[{
	mod_name:"1RS232",
	mod_id:0x1479900,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:9,
		datapoints:
		[
		{
			name:"Data rate",
			category:"RS232",
			chan_unit:"",
			bitOffset:0,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:12,
			defaultValue:6,
			enumValues:
				[
				1,
				"300 bps",
				2,
				"600 bps",
				3,
				"1200 bps",
				4,
				"2400 bps",
				5,
				"4800 bps",
				6,
				"9600 bps",
				7,
				"14.4 kbps",
				8,
				"19.2 kbps",
				9,
				"28.8 kbps",
				10,
				"38.4 kbps",
				11,
				"57.6 kbps",
				12,
				"115.2 kbps",
				],
		},
		{
			name:"Extended status/control mode",
			category:"RS232",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"RS232",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Stop bits",
			category:"RS232",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"1 bit",
				1,
				"2 bit",
				],
		},
		{
			name:"XON character",
			category:"RS232",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:17,
			enumValues:
				[
				],
		},
		{
			name:"XOFF character",
			category:"RS232",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:19,
			enumValues:
				[
				],
		},
		{
			name:"Parity bit",
			category:"RS232",
			chan_unit:"",
			bitOffset:9,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:1,
			enumValues:
				[
				0,
				"none",
				1,
				"odd",
				2,
				"even",
				],
		},
		{
			name:"Data bits",
			category:"RS232",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"7 bit",
				1,
				"8 bit",
				],
		},
		{
			name:"Data flow control",
			category:"RS232",
			chan_unit:"",
			bitOffset:12,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"none",
				1,
				"XON/XOFF",
				2,
				"RTS/CTS",
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Parameterization error",
			category:"RS232",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"RS232",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data flow control error",
			category:"RS232",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Frame error",
			category:"RS232",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer overflow",
			category:"RS232",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Input",
		num_elems:8,
		datapoints:
		[
		{
			name:"Status byte",
			category:"RS232",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In1 / Diagnostic byte",
			category:"RS232",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In2",
			category:"RS232",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In3",
			category:"RS232",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In4",
			category:"RS232",
			chan_unit:"",
			bitOffset:32,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In5",
			category:"RS232",
			chan_unit:"",
			bitOffset:40,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In6",
			category:"RS232",
			chan_unit:"",
			bitOffset:48,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In7",
			category:"RS232",
			chan_unit:"",
			bitOffset:56,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	{
		sect_name:"Output",
		num_elems:8,
		datapoints:
		[
		{
			name:"Control byte",
			category:"RS232",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out1 /ext. control byte",
			category:"RS232",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out2",
			category:"RS232",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out3",
			category:"RS232",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out4",
			category:"RS232",
			chan_unit:"",
			bitOffset:32,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out5",
			category:"RS232",
			chan_unit:"",
			bitOffset:40,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out6",
			category:"RS232",
			chan_unit:"",
			bitOffset:48,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out7",
			category:"RS232",
			chan_unit:"",
			bitOffset:56,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	]
},
{
	mod_name:"1RS485/422",
	mod_id:0x2479900,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:10,
		datapoints:
		[
		{
			name:"Data rate",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:0,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:12,
			defaultValue:6,
			enumValues:
				[
				1,
				"300 bps",
				2,
				"600 bps",
				3,
				"1200 bps",
				4,
				"2400 bps",
				5,
				"4800 bps",
				6,
				"9600 bps",
				7,
				"14.4 kbps",
				8,
				"19.2 kbps",
				9,
				"28.8 kbps",
				10,
				"38.4 kbps",
				11,
				"57.6 kbps",
				12,
				"115.2 kbps",
				],
		},
		{
			name:"Extended status/control mode",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Stop bits",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"1 bit",
				1,
				"2 bit",
				],
		},
		{
			name:"XON character",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:17,
			enumValues:
				[
				],
		},
		{
			name:"XOFF character",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:19,
			enumValues:
				[
				],
		},
		{
			name:"Parity bit",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:9,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:1,
			enumValues:
				[
				0,
				"none",
				1,
				"odd",
				2,
				"even",
				],
		},
		{
			name:"Data bits",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"7 bit",
				1,
				"8 bit",
				],
		},
		{
			name:"Data flow control",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"none",
				1,
				"XON/XOFF",
				],
		},
		{
			name:"RS422/RS485",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"RS422",
				1,
				"RS485",
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Parameterization error",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data flow control error",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Frame error",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer overflow",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Input",
		num_elems:8,
		datapoints:
		[
		{
			name:"Status byte",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In1 / Diagnostic byte",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In2",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In3",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In4",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:32,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In5",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:40,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In6",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:48,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"In7",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:56,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	{
		sect_name:"Output",
		num_elems:8,
		datapoints:
		[
		{
			name:"Control byte",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out1 /ext. control byte",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out2",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out3",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out4",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:32,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out5",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:40,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out6",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:48,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Out7",
			category:"RS485/422",
			chan_unit:"",
			bitOffset:56,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	]
},
{
	mod_name:"1SSI",
	mod_id:0x4479900,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:6,
		datapoints:
		[
		{
			name:"Sensor idle data signal test",
			category:"SSI",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"yes",
				1,
				"no",
				],
		},
		{
			name:"Invalid bits (LSB)",
			category:"SSI",
			chan_unit:"",
			bitOffset:8,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:16,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				2,
				"2",
				3,
				"3",
				4,
				"4",
				5,
				"5",
				6,
				"6",
				7,
				"7",
				8,
				"8",
				9,
				"9",
				10,
				"10",
				11,
				"11",
				12,
				"12",
				13,
				"13",
				14,
				"14",
				15,
				"15",
				],
		},
		{
			name:"Invalid bits (MSB)",
			category:"SSI",
			chan_unit:"",
			bitOffset:12,
			bitLen:3,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:8,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				2,
				"2",
				3,
				"3",
				4,
				"4",
				5,
				"5",
				6,
				"6",
				7,
				"7",
				],
		},
		{
			name:"Data rate",
			category:"SSI",
			chan_unit:"",
			bitOffset:16,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:8,
			defaultValue:1,
			enumValues:
				[
				0,
				"1000 kbps",
				1,
				"500.0 kbps",
				2,
				"250.0 kbps",
				3,
				"125.0 kbps",
				4,
				"100.0 kbps",
				5,
				"83.0 kbps",
				6,
				"71.0 kbps",
				7,
				"62.5 kbps",
				],
		},
		{
			name:"Data frame bits",
			category:"SSI",
			chan_unit:"",
			bitOffset:24,
			bitLen:6,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:32,
			defaultValue:25,
			enumValues:
				[
				1,
				"1",
				2,
				"2",
				3,
				"3",
				4,
				"4",
				5,
				"5",
				6,
				"6",
				7,
				"7",
				8,
				"8",
				9,
				"9",
				10,
				"10",
				11,
				"11",
				12,
				"12",
				13,
				"13",
				14,
				"14",
				15,
				"15",
				16,
				"16",
				17,
				"17",
				18,
				"18",
				19,
				"19",
				20,
				"20",
				21,
				"21",
				22,
				"22",
				23,
				"23",
				24,
				"24",
				25,
				"25",
				26,
				"26",
				27,
				"27",
				28,
				"28",
				29,
				"29",
				30,
				"30",
				31,
				"31",
				32,
				"32",
				],
		},
		{
			name:"Data format",
			category:"SSI",
			chan_unit:"",
			bitOffset:31,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"binary coded",
				1,
				"GRAY coded",
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"SSI group diagnostics",
			category:"SSI",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break",
			category:"SSI",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overflow",
			category:"SSI",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Underflow",
			category:"SSI",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration error",
			category:"SSI",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:5,
	},
	{
		sect_name:"Input",
		num_elems:24,
		datapoints:
		[
		{
			name:"ERR_SSI",
			category:"SSI",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"STS_OFLW",
			category:"SSI",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"STS_UFLW",
			category:"SSI",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"ERR_PARA",
			category:"SSI",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"STS_STOP",
			category:"SSI",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"STS_CMP1",
			category:"SSI",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"FLAG_CMP1",
			category:"SSI",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"REL_CMP1",
			category:"SSI",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"STS_CMP2",
			category:"SSI",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"FLAG_CMP2",
			category:"SSI",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"REL_CMP2",
			category:"SSI",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"STS_DN",
			category:"SSI",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"STS_UP",
			category:"SSI",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"SSI_DIAG1",
			category:"SSI",
			chan_unit:"",
			bitOffset:16,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"SSI_DIAG2",
			category:"SSI",
			chan_unit:"",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"SSI_DIAG3",
			category:"SSI",
			chan_unit:"",
			bitOffset:18,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"SSI_DIAG4",
			category:"SSI",
			chan_unit:"",
			bitOffset:19,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"REG_WR_AKN",
			category:"SSI",
			chan_unit:"",
			bitOffset:22,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"REG_WR_ACEPT",
			category:"SSI",
			chan_unit:"",
			bitOffset:23,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"REG_RD status byte",
			category:"SSI",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_RD_DATA 0",
			category:"SSI",
			chan_unit:"",
			bitOffset:32,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_RD_DATA 1",
			category:"SSI",
			chan_unit:"",
			bitOffset:40,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_RD_DATA 2",
			category:"SSI",
			chan_unit:"",
			bitOffset:48,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_RD_DATA 3",
			category:"SSI",
			chan_unit:"",
			bitOffset:56,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	{
		sect_name:"Output",
		num_elems:11,
		datapoints:
		[
		{
			name:"STOP",
			category:"SSI",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"EN_CMP1",
			category:"SSI",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"CLR_CMP1",
			category:"SSI",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"EN_CMP2",
			category:"SSI",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"CLR_CMP2",
			category:"SSI",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"REG_WR control byte",
			category:"SSI",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_RD control byte",
			category:"SSI",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_WR_DATA 0",
			category:"SSI",
			chan_unit:"",
			bitOffset:32,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_WR_DATA 1",
			category:"SSI",
			chan_unit:"",
			bitOffset:40,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_WR_DATA 2",
			category:"SSI",
			chan_unit:"",
			bitOffset:48,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_WR_DATA 3",
			category:"SSI",
			chan_unit:"",
			bitOffset:56,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	]
},
{
	mod_name:"4DI4DO-PD",
	mod_id:0x1563300,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Activate input filter",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:20,
	},
	{
		sect_name:"Diag",
		num_elems:2,
		datapoints:
		[
		{
			name:"Sensor supply overcurrent",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"4DI-PD",
	mod_id:0x1563000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Activate input filter",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate wire break monit. gr.",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:18,
	},
	{
		sect_name:"Diag",
		num_elems:2,
		datapoints:
		[
		{
			name:"Sensor supply overcurrent",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:10,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"8DI-PD",
	mod_id:0x1564000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Activate input filter",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate wire break monit. gr.",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:20,
	},
	{
		sect_name:"Diag",
		num_elems:2,
		datapoints:
		[
		{
			name:"Sensor supply overcurrent",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"8XSG-PD",
	mod_id:0x1574400,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"Activate input filter",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Invert digital input",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Diag",
		num_elems:2,
		datapoints:
		[
		{
			name:"Sensor supply overcurrent",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"2RFID-A",
	mod_id:0x1797700,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:6,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:22,
			bitLen:2,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:3,
			defaultValue:1,
			enumValues:
				[
				1,
				"normal access",
				2,
				"fast access",
				3,
				"multi-tag (anticollision)",
				],
		},
		{
			name:"UHF frequency band",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:20,
			bitLen:2,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:4,
			defaultValue:0,
			enumValues:
				[
				0,
				"band 1",
				1,
				"band 2",
				2,
				"band 3",
				3,
				"band 4",
				],
		},
		{
			name:"UHF transmission power level",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:3,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:8,
			defaultValue:0,
			enumValues:
				[
				0,
				"level 1",
				1,
				"level 2",
				2,
				"level 3",
				3,
				"level 4",
				4,
				"level 5",
				5,
				"level 6",
				6,
				"level 7",
				7,
				"application specific",
				],
		},
		{
			name:"Tag type",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:32,
			bitLen:7,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:21,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic detection",
				1,
				"1:Philips I-CODE SLI SL2",
				2,
				"2:Fujitsu MB89R118",
				3,
				"3:TI Tag-it HF-I Plus",
				4,
				"4:Infineon SRF55V02P",
				5,
				"5:Philips I-CODE SLI S",
				6,
				"6:Fujitsu MB89R119",
				7,
				"7:TI Tag-it HF-I",
				8,
				"8:Infineon SRF55V10P",
				9,
				"9:Turck TW-R50-K8",
				10,
				"10:Melexis MLX90129",
				11,
				"11:NXP I-CODE SLI L",
				12,
				"12:Fujitsu MB89R112",
				13,
				"13:EM4233SLIC",
				14,
				"14:reserved",
				15,
				"15:reserved",
				16,
				"16:reserved",
				17,
				"17:reserved",
				18,
				"18:reserved",
				19,
				"19:reserved",
				20,
				"20:reserved",
				],
		},
		{
			name:"Bypass time",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Parameter set",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:1,
			defaultValue:1,
			enumValues:
				[
				1,
				"extended",
				],
		},
		],
	max_size:72,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Transc. param. not supported",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module parameter invalid",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware failure transceiver",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Transc. power supply error",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:11,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:43,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"2RFID-C",
	mod_id:0x179DD00,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:3,
		datapoints:
		[
		{
			name:"Ident current overload",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Transceiver hardware error",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Transc. power supply error",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:11,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:27,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"2RFID-S",
	mod_id:0x2179CC00,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:7,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:22,
			bitLen:2,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				1,
				"normal access",
				2,
				"fast access",
				],
		},
		{
			name:"UHF frequency band",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:20,
			bitLen:2,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:4,
			defaultValue:0,
			enumValues:
				[
				0,
				"band 1",
				1,
				"band 2",
				2,
				"band 3",
				3,
				"band 4",
				],
		},
		{
			name:"UHF transmission power level",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:3,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:8,
			defaultValue:0,
			enumValues:
				[
				0,
				"level 1",
				1,
				"level 2",
				2,
				"level 3",
				3,
				"level 4",
				4,
				"level 5",
				5,
				"level 6",
				6,
				"level 7",
				7,
				"application specific",
				],
		},
		{
			name:"Tag type",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:32,
			bitLen:7,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:21,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic detection",
				1,
				"1:Philips I-CODE SLI SL2",
				2,
				"2:Fujitsu MB89R118",
				3,
				"3:TI Tag-it HF-I Plus",
				4,
				"4:Infineon SRF55V02P",
				5,
				"5:Philips I-CODE SLI S",
				6,
				"6:Fujitsu MB89R119",
				7,
				"7:TI Tag-it HF-I",
				8,
				"8:Infineon SRF55V10P",
				9,
				"9:Turck TW-R50-K8",
				10,
				"10:Melexis MLX90129",
				11,
				"11:NXP I-CODE SLI L",
				12,
				"12:Fujitsu MB89R112",
				13,
				"13:EM4233SLIC",
				14,
				"14:reserved",
				15,
				"15:reserved",
				16,
				"16:reserved",
				17,
				"17:reserved",
				18,
				"18:reserved",
				19,
				"19:reserved",
				20,
				"20:reserved",
				],
		},
		{
			name:"Bypass time",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Data alignment",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:39,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"byte 1-2 / 13-14",
				1,
				"byte 2-3 / 14-15",
				],
		},
		{
			name:"Parameter set",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:1,
			defaultValue:1,
			enumValues:
				[
				1,
				"extended",
				],
		},
		],
	max_size:72,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Transc. param. not supported",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module parameter invalid",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware failure transceiver",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Transc. power supply error",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:11,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:43,
	},
	{
		sect_name:"Input",
		num_elems:17,
		datapoints:
		[
		{
			name:"XCVR_DETUNED",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"transceiver range tuned",
				1,
				"transceiver range restricted",
				],
		},
		{
			name:"TFR",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"tag not fully read",
				1,
				"tag fully read",
				],
		},
		{
			name:"TP",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no target present",
				1,
				"target present",
				],
		},
		{
			name:"XCVR_ON",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"transceiver turned off",
				1,
				"transceiver turned on",
				],
		},
		{
			name:"XCVR_CON",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no transceiver connected",
				1,
				"transceiver connected",
				],
		},
		{
			name:"Error",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no error, error code is not up to date",
				1,
				"error occurred within last command, see error code",
				],
		},
		{
			name:"Busy",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"last command finished",
				1,
				"command processing",
				],
		},
		{
			name:"Done",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"command processing or command flag not reset",
				1,
				"last command finished, system waits for new command",
				],
		},
		{
			name:"Error code",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:16,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read data 0",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:32,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read data 1",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read data 2",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:48,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read data 3",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:56,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read data 4",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:64,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read data 5",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:72,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read data 6",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:80,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read data 7",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:88,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:280,
	},
	{
		sect_name:"Output",
		num_elems:19,
		datapoints:
		[
		{
			name:"Reset",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no reset",
				1,
				"reset",
				],
		},
		{
			name:"XCVR Info",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"command off",
				1,
				"initiate command: read transceiver info",
				],
		},
		{
			name:"TAG Info",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"command off",
				1,
				"initiate command: read tag info",
				],
		},
		{
			name:"Write",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"command off",
				1,
				"initiate command: write data",
				],
		},
		{
			name:"Read",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"command off",
				1,
				"initiate command: read data",
				],
		},
		{
			name:"TAG ID",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"command off",
				1,
				"initiate command: read UID of tag",
				],
		},
		{
			name:"Next",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"next mode inactive",
				1,
				"next mode active",
				],
		},
		{
			name:"XCVR",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"turn off transceiver",
				1,
				"turn on transceiver",
				],
		},
		{
			name:"Byte count",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:3,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:8,
			defaultValue:0,
			enumValues:
				[
				0,
				"read / write 1 byte",
				1,
				"read / write 2 byte",
				2,
				"read / write 3 byte",
				3,
				"read / write 4 byte",
				4,
				"read / write 5 byte",
				5,
				"read / write 6 byte",
				6,
				"read / write 7 byte",
				7,
				"read / write 8 byte",
				],
		},
		{
			name:"Domain",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:2,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:4,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				2,
				"2",
				3,
				"3",
				],
		},
		{
			name:"Address",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:16,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write data 0",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:32,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write data 1",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write data 2",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:48,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write data 3",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:56,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write data 4",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:64,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write data 5",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:72,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write data 6",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:80,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write data 7",
			category:"RFID channel",
			chan_unit:"Channel",
			bitOffset:88,
			bitLen:8,
			bitIncremental:96,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:280,
	},
	]
},
{
	mod_name:"8XSG-P",
	mod_id:0x2574400,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"Activate input filter",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Invert digital input",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output overcurrent",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"1CNT/ENC",
	mod_id:0x19BA900,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:17,
		datapoints:
		[
		{
			name:"Invert input A",
			category:"Counter",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Invert input B",
			category:"Counter",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Invert input Z",
			category:"Counter",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Count direction",
			category:"Counter",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"up",
				1,
				"down",
				],
		},
		{
			name:"Signal evaluation (A,B)",
			category:"Counter",
			chan_unit:"",
			bitOffset:2,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:2,
			enumValues:
				[
				0,
				"1 x: rising edge at A",
				1,
				"1 x: falling edge at A",
				2,
				"2 x: both edges at A",
				3,
				"4 x: both edges at A and B",
				],
		},
		{
			name:"Input filter (A,B)",
			category:"Counter",
			chan_unit:"",
			bitOffset:0,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"500 kHz",
				1,
				"50 kHz",
				2,
				"5 kHz",
				],
		},
		{
			name:"Encoder signal",
			category:"Counter",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"push-pull-input",
				1,
				"RS422-input",
				],
		},
		{
			name:"Synchronization with Z",
			category:"Counter",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"single",
				1,
				"periodical",
				],
		},
		{
			name:"Function DO3",
			category:"Counter",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"output",
				1,
				"encoder power supply",
				],
		},
		{
			name:"Function DI3",
			category:"Counter",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"input",
				1,
				"encoder GND",
				],
		},
		{
			name:"PullUp Z",
			category:"Counter",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Measurement mode",
			category:"Counter",
			chan_unit:"",
			bitOffset:29,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"frequency measurement",
				1,
				"period duration measurement",
				],
		},
		{
			name:"Count mode",
			category:"Counter",
			chan_unit:"",
			bitOffset:28,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"encoder",
				1,
				"pulse and direction",
				],
		},
		{
			name:"Invert Gate",
			category:"Counter",
			chan_unit:"",
			bitOffset:27,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Gate function",
			category:"Counter",
			chan_unit:"",
			bitOffset:24,
			bitLen:3,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:7,
			defaultValue:6,
			enumValues:
				[
				0,
				"counter permanently inactive",
				1,
				"DI 0 is HW gate",
				2,
				"DI 1 is HW gate",
				3,
				"DI 2 is HW gate",
				4,
				"DI 3 is HW gate",
				5,
				"Z is Gate",
				6,
				"SW gate",
				],
		},
		{
			name:"Threshold input A, B, Z",
			category:"Counter",
			chan_unit:"",
			bitOffset:16,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:16,
			defaultValue:11,
			enumValues:
				[
				0,
				"1 V",
				1,
				"1.5 V",
				2,
				"2 V",
				3,
				"2.5 V",
				4,
				"3 V",
				5,
				"4 V",
				6,
				"5 V",
				7,
				"6 V",
				8,
				"7 V",
				9,
				"8 V",
				10,
				"9 V",
				11,
				"10 V",
				12,
				"12 V",
				13,
				"14 V",
				14,
				"16 V",
				15,
				"18 V",
				],
		},
		{
			name:"REG_AUX_ADR",
			category:"Counter",
			chan_unit:"",
			bitOffset:112,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:48,
			enumValues:
				[
				],
		},
		],
	max_size:119,
	},
	{
		sect_name:"Diag",
		num_elems:7,
		datapoints:
		[
		{
			name:"Overflow occurred",
			category:"Counter",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Underflow occurred",
			category:"Counter",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Faulty/inconsistent param.",
			category:"Counter",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload DO 0",
			category:"Counter",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload DO 1",
			category:"Counter",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload DO 2",
			category:"Counter",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload DO 3",
			category:"Counter",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Input",
		num_elems:19,
		datapoints:
		[
		{
			name:"Digital In 0",
			category:"Counter",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Digital In 1",
			category:"Counter",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Digital In 2",
			category:"Counter",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Digital In 3",
			category:"Counter",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Input Z",
			category:"Counter",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Input B",
			category:"Counter",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Input A",
			category:"Counter",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Count direction",
			category:"Counter",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"down",
				1,
				"up",
				],
		},
		{
			name:"SYNC_AKN",
			category:"Counter",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"encoder not synchronized",
				1,
				"encoder synchronized",
				],
		},
		{
			name:"ERR_PARA",
			category:"Counter",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"parameter data valid",
				1,
				"inconsistent parameter data",
				],
		},
		{
			name:"STS_UFLW",
			category:"Counter",
			chan_unit:"",
			bitOffset:16,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no underflow",
				1,
				"underflow occurred",
				],
		},
		{
			name:"STS_OFLW",
			category:"Counter",
			chan_unit:"",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no overflow",
				1,
				"overflow occurred",
				],
		},
		{
			name:"STS_ZC",
			category:"Counter",
			chan_unit:"",
			bitOffset:18,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no zero crossing",
				1,
				"zero crossing occurred",
				],
		},
		{
			name:"REG_WR_AKN",
			category:"Counter",
			chan_unit:"",
			bitOffset:22,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no change in register bank",
				1,
				"register bank updated",
				],
		},
		{
			name:"REG_WR_ACEPT",
			category:"Counter",
			chan_unit:"",
			bitOffset:23,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"REG_WR_ADR error",
				1,
				"REG_WR_ADR valid",
				],
		},
		{
			name:"REG_ACT_RD_ADR",
			category:"Counter",
			chan_unit:"",
			bitOffset:24,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_RD_ABORT",
			category:"Counter",
			chan_unit:"",
			bitOffset:31,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"REG_RD_ADR valid",
				1,
				"REG_RD_ADR error",
				],
		},
		{
			name:"REG_RD_DATA",
			category:"Counter",
			chan_unit:"",
			bitOffset:32,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"AUX_RD_DATA",
			category:"Counter",
			chan_unit:"",
			bitOffset:64,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:96,
	},
	{
		sect_name:"Output",
		num_elems:11,
		datapoints:
		[
		{
			name:"Gate",
			category:"Counter",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"counter inactive",
				1,
				"counter active",
				],
		},
		{
			name:"Digital Out 0",
			category:"Counter",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Digital Out 1",
			category:"Counter",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Digital Out 2",
			category:"Counter",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Digital Out 3",
			category:"Counter",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"RES_STS",
			category:"Counter",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"inactive",
				1,
				"clear STS_OFLW and STS_UFLW",
				],
		},
		{
			name:"SYNC_REQ",
			category:"Counter",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no synchronization",
				1,
				"syncronization request",
				],
		},
		{
			name:"REG_WR_ADR",
			category:"Counter",
			chan_unit:"",
			bitOffset:16,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_WR",
			category:"Counter",
			chan_unit:"",
			bitOffset:23,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"initial state",
				1,
				"write register",
				],
		},
		{
			name:"REG_RD_ADR",
			category:"Counter",
			chan_unit:"",
			bitOffset:24,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"REG_WR_DATA",
			category:"Counter",
			chan_unit:"",
			bitOffset:32,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	]
},
{
	mod_name:"4AI4AO-V/I",
	mod_id:0x419B9900,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:8,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:4,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:13,
			defaultValue:0,
			enumValues:
				[
				0,
				"voltage -10...10 V standard",
				1,
				"voltage 0...10 V standard",
				2,
				"voltage -10...10 V NE43",
				3,
				"voltage 0...10 V NE43",
				4,
				"voltage -10...10 V extended range",
				5,
				"voltage 0...10 V extended range",
				8,
				"current 0...20 mA standard",
				9,
				"current 4...20 mA standard",
				10,
				"current 0...20 mA NE43",
				11,
				"current 4...20 mA NE43",
				12,
				"current 0...20 mA extended range",
				13,
				"current 4...20 mA extended range",
				15,
				"deactivate",
				],
		},
		{
			name:"Data format",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Operation mode",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:4,
			bitIncremental:32,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:7,
			defaultValue:0,
			enumValues:
				[
				0,
				"voltage -10...10 V standard",
				1,
				"voltage 0...10 V standard",
				2,
				"voltage -10...10 V NE43",
				3,
				"voltage 0...10 V NE43",
				4,
				"voltage -10...10 V extended range",
				5,
				"voltage 0...10 V extended range",
				15,
				"deactivate",
				],
		},
		{
			name:"Data format",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:13,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Output on module bus error",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:14,
			bitLen:2,
			bitIncremental:32,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"substitute value",
				1,
				"keep current value",
				],
		},
		{
			name:"Substitute value",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:16,
			bitIncremental:32,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:144,
	},
	{
		sect_name:"Diag",
		num_elems:7,
		datapoints:
		[
		{
			name:"Measured value out of range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break (4-20 mA only)",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Over-/underflow (NE43 only)",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output value out of range",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Over-/underflow (NE43 only)",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:11,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:15,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:79,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	]
},
{
	mod_name:"4AO-V",
	mod_id:0x427A0900,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:5,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:4,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:7,
			defaultValue:0,
			enumValues:
				[
				0,
				"voltage -10...10 V standard",
				1,
				"voltage 0...10 V standard",
				2,
				"voltage -10...10 V NE43",
				3,
				"voltage 0...10 V NE43",
				4,
				"voltage -10...10 V extended range",
				5,
				"voltage 0...10 V extended range",
				15,
				"deactivate",
				],
		},
		{
			name:"Data format",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Output on module bus error",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:2,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"substitute value",
				1,
				"keep current value",
				],
		},
		{
			name:"Substitute value",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:16,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:104,
	},
	{
		sect_name:"Diag",
		num_elems:3,
		datapoints:
		[
		{
			name:"Output value out of range",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Over-/underflow (NE43 only)",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:39,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	]
},
{
	mod_name:"2AI2AO-V/I",
	mod_id:0x21797700,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:8,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:4,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:13,
			defaultValue:0,
			enumValues:
				[
				0,
				"voltage -10...10 V standard",
				1,
				"voltage 0...10 V standard",
				2,
				"voltage -10...10 V NE43",
				3,
				"voltage 0...10 V NE43",
				4,
				"voltage -10...10 V extended range",
				5,
				"voltage 0...10 V extended range",
				8,
				"current 0...20 mA standard",
				9,
				"current 4...20 mA standard",
				10,
				"current 0...20 mA NE43",
				11,
				"current 4...20 mA NE43",
				12,
				"current 0...20 mA extended range",
				13,
				"current 4...20 mA extended range",
				15,
				"deactivate",
				],
		},
		{
			name:"Data format",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Operation mode",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:4,
			bitIncremental:32,
			channelNumStart:2,
			channelNumEnd:3,
			dataType:1,
			enumLen:7,
			defaultValue:0,
			enumValues:
				[
				0,
				"voltage -10...10 V standard",
				1,
				"voltage 0...10 V standard",
				2,
				"voltage -10...10 V NE43",
				3,
				"voltage 0...10 V NE43",
				4,
				"voltage -10...10 V extended range",
				5,
				"voltage 0...10 V extended range",
				15,
				"deactivate",
				],
		},
		{
			name:"Data format",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:2,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:13,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:2,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Output on module bus error",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:14,
			bitLen:2,
			bitIncremental:32,
			channelNumStart:2,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"substitute value",
				1,
				"keep current value",
				],
		},
		{
			name:"Substitute value",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:16,
			bitIncremental:32,
			channelNumStart:2,
			channelNumEnd:3,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:80,
	},
	{
		sect_name:"Diag",
		num_elems:7,
		datapoints:
		[
		{
			name:"Measured value out of range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break (4-20 mA only)",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Over-/underflow (NE43 only)",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output value out of range",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:2,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Over-/underflow (NE43 only)",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:11,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:2,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:15,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:2,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:47,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:2,
			channelNumEnd:3,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:32,
	},
	]
},
{
	mod_name:"4AI-TC",
	mod_id:0x42779000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"Data format",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate channel",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Thermocouple type",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:4,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:16,
			defaultValue:0,
			enumValues:
				[
				0,
				"type K -270...1370 C",
				1,
				"type B +100...1820 C",
				2,
				"type E -270...1000 C",
				3,
				"type J -210...1200 C",
				4,
				"type N -270...1300 C",
				5,
				"type R -50...1760 C",
				6,
				"type S -50...1540 C",
				7,
				"type T -270...400 C",
				8,
				"+/-50 mV",
				9,
				"+/-100 mV",
				10,
				"+/-500 mV",
				11,
				"+/-1000 mV",
				12,
				"type K -454...2498 F",
				13,
				"type J -346...2192 F",
				14,
				"type C 0...2320 C",
				15,
				"type G 0...2320 C",
				],
		},
		],
	max_size:36,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Measured value out of range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Thermocouple wire break",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Cold junction compensation wire break",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common mode voltage out of range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:39,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"2RS485-A",
	mod_id:0x217A9700,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:11,
		datapoints:
		[
		{
			name:"Data rate",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:4,
			bitIncremental:48,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:8,
			defaultValue:6,
			enumValues:
				[
				5,
				"4800 bps",
				6,
				"9600 bps",
				7,
				"14.4 kbps",
				8,
				"19.2 kbps",
				9,
				"28.8 kbps",
				10,
				"38.4 kbps",
				11,
				"57.6 kbps",
				12,
				"115.2 kbps",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:48,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Timeout",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:8,
			bitIncremental:48,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Stop bits",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:48,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"1 bit",
				1,
				"2 bit",
				],
		},
		{
			name:"Parity bit",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:9,
			bitLen:2,
			bitIncremental:48,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:3,
			defaultValue:1,
			enumValues:
				[
				0,
				"none",
				1,
				"odd",
				2,
				"even",
				],
		},
		{
			name:"Substitute char parity error",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:11,
			bitLen:1,
			bitIncremental:48,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Transmit buffer",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:2,
			bitIncremental:48,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:3,
			defaultValue:1,
			enumValues:
				[
				0,
				"process data controlled",
				1,
				"wait for complete frame",
				2,
				"send directly",
				],
		},
		{
			name:"Error frame buffering",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:14,
			bitLen:2,
			bitIncremental:48,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:3,
			defaultValue:2,
			enumValues:
				[
				0,
				"complete frame",
				1,
				"only header",
				2,
				"&lt;Null&gt;",
				],
		},
		{
			name:"Start string",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:4,
			bitIncremental:48,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivate",
				1,
				"&lt;:&gt;",
				],
		},
		{
			name:"Stop string",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:28,
			bitLen:4,
			bitIncremental:48,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:6,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivate",
				1,
				"&lt;EOT&gt;",
				2,
				"&lt;Null&gt;",
				3,
				"&lt;CrLf&gt;",
				4,
				"&lt;Cr&gt;",
				5,
				"&lt;Lf&gt;",
				],
		},
		{
			name:"Frame lenght",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:32,
			bitLen:16,
			bitIncremental:48,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:128,
	},
	{
		sect_name:"Diag",
		num_elems:7,
		datapoints:
		[
		{
			name:"Overcurrent",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parity error",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Timeout",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Tx buffer overflow",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Rx buffer overflow",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Invalid parameter",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:39,
	},
	{
		sect_name:"Input",
		num_elems:15,
		datapoints:
		[
		{
			name:"Timeout detected",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Def. no. of rec characters reached",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Stop string received",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"New diag. message available",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Flush Rx buffer acknowledge",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Flush Tx buffer acknowledge",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Channel reset acknowledge",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Acyclic parameter set activ.",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Busy",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:9,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Upper Tx buffer position reached",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:10,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Lower Tx buffer position reached",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:11,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Upper Rx buffer position reached",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Lower Rx buffer position reached",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:13,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Tx buffer empty",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:14,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Rx buffer empty",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:15,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		],
	max_size:79,
	},
	{
		sect_name:"Output",
		num_elems:5,
		datapoints:
		[
		{
			name:"Resend last frame",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Send Tx buffer",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Flush Rx buffer",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Flush Tx buffer",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		{
			name:"Channel reset",
			category:"RS485 channel",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				],
		},
		],
	max_size:39,
	},
	]
},
{
	mod_name:"4DI-N",
	mod_id:0x42003000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"8DI-N",
	mod_id:0x62004000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"4DO-2A-N",
	mod_id:0x44300300,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"4AI-V/I",
	mod_id:0x41779000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:6,
		datapoints:
		[
		{
			name:"Measurement range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0...10 V/0...20 mA",
				1,
				"-10...10 V/4...20 mA",
				],
		},
		{
			name:"Data format",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate channel",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Operation mode",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"voltage",
				1,
				"current",
				],
		},
		{
			name:"Data representation",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:2,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"standard",
				1,
				"NE43",
				2,
				"extended range",
				],
		},
		],
	max_size:37,
	},
	{
		sect_name:"Diag",
		num_elems:3,
		datapoints:
		[
		{
			name:"Measured value out of range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Over-/underflow",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:34,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"1CVI",
	mod_id:0x18B9900,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:8,
		datapoints:
		[
		{
			name:"Guarding time [n*0.1s]",
			category:"Global",
			chan_unit:"",
			bitOffset:64,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:3,
			enumValues:
				[
				],
		},
		{
			name:"Life time factor",
			category:"Global",
			chan_unit:"",
			bitOffset:72,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:3,
			enumValues:
				[
				],
		},
		{
			name:"Data rate",
			category:"Global",
			chan_unit:"",
			bitOffset:80,
			bitLen:3,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:8,
			defaultValue:4,
			enumValues:
				[
				0,
				"1000 kbps",
				1,
				"reserved",
				2,
				"500.0 kbps",
				3,
				"250.0 kbps",
				4,
				"125.0 kbps",
				5,
				"50.0 kbps",
				6,
				"20.0 kbps",
				7,
				"10.0 kbps",
				],
		},
		{
			name:"Activate terminating resistor",
			category:"Global",
			chan_unit:"",
			bitOffset:83,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate node",
			category:"Node",
			chan_unit:"node",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate guarding",
			category:"Node",
			chan_unit:"node",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input data size",
			category:"Node",
			chan_unit:"node",
			bitOffset:2,
			bitLen:3,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:1,
			enumLen:8,
			defaultValue:0,
			enumValues:
				[
				0,
				"0 bit",
				1,
				"4 bit",
				2,
				"8 bit",
				3,
				"12 bit",
				4,
				"16 bit",
				5,
				"24 bit",
				6,
				"32 bit",
				7,
				"reserved",
				],
		},
		{
			name:"Output data size",
			category:"Node",
			chan_unit:"node",
			bitOffset:5,
			bitLen:3,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:1,
			enumLen:8,
			defaultValue:0,
			enumValues:
				[
				0,
				"0 bit",
				1,
				"4 bit",
				2,
				"8 bit",
				3,
				"12 bit",
				4,
				"16 bit",
				5,
				"24 bit",
				6,
				"32 bit",
				7,
				"reserved",
				],
		},
		],
	max_size:84,
	},
	{
		sect_name:"Diag",
		num_elems:8,
		datapoints:
		[
		{
			name:"Emergencies transmitted since module start",
			category:"Global",
			chan_unit:"",
			bitOffset:32,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Node address not within permissible range (1-8)",
			category:"Global",
			chan_unit:"",
			bitOffset:33,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VC",
			category:"Global",
			chan_unit:"",
			bitOffset:34,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VE",
			category:"Global",
			chan_unit:"",
			bitOffset:35,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Emergencies transmitted since module start",
			category:"Node",
			chan_unit:"node",
			bitOffset:0,
			bitLen:1,
			bitIncremental:4,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Transmitted emergencies",
			category:"Node",
			chan_unit:"node",
			bitOffset:1,
			bitLen:1,
			bitIncremental:4,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Communication error transmitted since module start/Guard Time timeout",
			category:"Node",
			chan_unit:"node",
			bitOffset:2,
			bitLen:1,
			bitIncremental:4,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Communication error/Guard Time timeout",
			category:"Node",
			chan_unit:"node",
			bitOffset:3,
			bitLen:1,
			bitIncremental:4,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:36,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"In byte",
			category:"Node",
			chan_unit:"node",
			bitOffset:0,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Out byte",
			category:"Node",
			chan_unit:"node",
			bitOffset:0,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	]
},
{
	mod_name:"8DO-R-NO",
	mod_id:0x62000400,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"8DO-0.5A-N",
	mod_id:0x62400400,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"2AI-V",
	mod_id:0x23557000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"Measurement range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0...10 V",
				1,
				"-10...+10 V",
				],
		},
		{
			name:"Data format",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate channel",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:19,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Measured value out of range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"4DO-4A-P",
	mod_id:0x45300300,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"4DI-P",
	mod_id:0x41003000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"2AI-I",
	mod_id:0x22557000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"Measurement range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0...20 mA",
				1,
				"4...20 mA",
				],
		},
		{
			name:"Data format",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate channel",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:19,
	},
	{
		sect_name:"Diag",
		num_elems:2,
		datapoints:
		[
		{
			name:"Measured value out of range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:17,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"2AI-PT",
	mod_id:0x21577000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:6,
		datapoints:
		[
		{
			name:"Mains suppression",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"50 Hz",
				1,
				"60 Hz",
				],
		},
		{
			name:"Data format",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate channel",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"RTD type",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:4,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:16,
			defaultValue:0,
			enumValues:
				[
				0,
				"PT100, -200...850 C",
				1,
				"PT100, -200...150 C",
				2,
				"NI100, -60...250 C",
				3,
				"NI100, -60...150 C",
				4,
				"PT200, -200...850 C",
				5,
				"PT200, -200...150 C",
				6,
				"PT500, -200...850 C",
				7,
				"PT500, -200...150 C",
				8,
				"PT1000, -200...850 C",
				9,
				"PT1000, -200...150 C",
				10,
				"NI1000, -60...250 C",
				11,
				"NI1000, -60...150 C",
				12,
				"resistance, 0...100 Ohm",
				13,
				"resistance, 0...200 Ohm",
				14,
				"resistance, 0...400 Ohm",
				15,
				"resistance, 0...1000 Ohm",
				],
		},
		{
			name:"Measurement mode",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"2-wire",
				1,
				"3-wire",
				],
		},
		],
	max_size:40,
	},
	{
		sect_name:"Diag",
		num_elems:3,
		datapoints:
		[
		{
			name:"Measured value out of range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:18,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"2AI-TC",
	mod_id:0x21557000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:5,
		datapoints:
		[
		{
			name:"Mains suppression",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"50 Hz",
				1,
				"60 Hz",
				],
		},
		{
			name:"Data format",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate channel",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Thermocouple type",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:4,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:12,
			defaultValue:0,
			enumValues:
				[
				0,
				"type K, -270...1370 C",
				1,
				"type B, +100...1820 C",
				2,
				"type E, -270...1000 C",
				3,
				"type J, -210...1200 C",
				4,
				"type N, -270...1300 C",
				5,
				"type R, -50...1760 C",
				6,
				"type S, -50...1540 C",
				7,
				"type T, -270...400 C",
				8,
				"+/-50 mV",
				9,
				"+/-100 mV",
				10,
				"+/-500 mV",
				11,
				"+/-1000 mV",
				],
		},
		],
	max_size:20,
	},
	{
		sect_name:"Diag",
		num_elems:3,
		datapoints:
		[
		{
			name:"Measured value out of range",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Cold junct. comp. wire break",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:18,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Analog In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"2AO-I",
	mod_id:0x22080700,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:6,
		datapoints:
		[
		{
			name:"Output range",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0...20 mA",
				1,
				"4...20 mA",
				],
		},
		{
			name:"Data format",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Data representation",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:2,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"standard",
				1,
				"NE43",
				2,
				"extended range",
				],
		},
		{
			name:"Output on module bus error",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:2,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"substitute value",
				1,
				"keep current value",
				],
		},
		{
			name:"Substitute value",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:16,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Deactivate channel",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:56,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:32,
	},
	]
},
{
	mod_name:"2AO-V",
	mod_id:0x21080700,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Output range",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0...10 V",
				1,
				"-10...+10 V",
				],
		},
		{
			name:"Data format",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"15 bit + sign",
				1,
				"12 bit (left-justified)",
				],
		},
		{
			name:"Substitute value",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:16,
			bitIncremental:24,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:56,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Analog Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:32,
	},
	]
},
{
	mod_name:"4DO-2A-P",
	mod_id:0x43300300,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"8DO-0.5A-P",
	mod_id:0x61400400,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"8DI-P",
	mod_id:0x61004000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"4DO-0.5A-P",
	mod_id:0x41300300,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"4IOL",
	mod_id:0x409BBB00,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:12,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:4,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:5,
			defaultValue:0,
			enumValues:
				[
				0,
				"IO-Link without validation",
				2,
				"IO-Link with compatible device",
				3,
				"IO-Link with identical device",
				4,
				"DI (with parameter access)",
				8,
				"DI",
				],
		},
		{
			name:"Data storage mode",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:2,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:4,
			defaultValue:3,
			enumValues:
				[
				0,
				"activated",
				1,
				"overwrite",
				2,
				"read in",
				3,
				"deactivated, clear",
				],
		},
		{
			name:"Cycle time",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:8,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:104,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				8,
				"0.8 ms",
				16,
				"1.6 ms",
				24,
				"2.4 ms",
				32,
				"3.2 ms",
				40,
				"4.0 ms",
				48,
				"4.8 ms",
				56,
				"5.6 ms",
				64,
				"6.4 ms",
				66,
				"7.2 ms",
				68,
				"8.0 ms",
				70,
				"8.8 ms",
				72,
				"9.6 ms",
				74,
				"10.4 ms",
				76,
				"11.2 ms",
				78,
				"12.0 ms",
				80,
				"12.8 ms",
				82,
				"13.6 ms",
				84,
				"14.4 ms",
				86,
				"15.2 ms",
				88,
				"16.0 ms",
				90,
				"16.8 ms",
				92,
				"17.6 ms",
				94,
				"18.4 ms",
				96,
				"19.2 ms",
				98,
				"20.0 ms",
				100,
				"20.8 ms",
				102,
				"21.6 ms",
				104,
				"22.4 ms",
				106,
				"23.2 ms",
				108,
				"24.0 ms",
				110,
				"24.8 ms",
				112,
				"25.6 ms",
				114,
				"26.4 ms",
				116,
				"27.2 ms",
				118,
				"28.0 ms",
				120,
				"28.8 ms",
				122,
				"29.6 ms",
				124,
				"30.4 ms",
				126,
				"31.2 ms",
				128,
				"32.0 ms",
				129,
				"33.6 ms",
				130,
				"35.2 ms",
				131,
				"36.8 ms",
				132,
				"38.4 ms",
				133,
				"40.0 ms",
				134,
				"41.6 ms",
				135,
				"43.2 ms",
				136,
				"44.8 ms",
				137,
				"46.4 ms",
				138,
				"48.0 ms",
				139,
				"49.6 ms",
				140,
				"51.2 ms",
				141,
				"52.8 ms",
				142,
				"54.4 ms",
				143,
				"56.0 ms",
				144,
				"57.6 ms",
				145,
				"59.2 ms",
				146,
				"60.8 ms",
				147,
				"62.4 ms",
				148,
				"64.0 ms",
				149,
				"65.6 ms",
				150,
				"67.2 ms",
				151,
				"68.8 ms",
				152,
				"70.4 ms",
				153,
				"72.0 ms",
				154,
				"73.6 ms",
				155,
				"75.2 ms",
				156,
				"76.8 ms",
				157,
				"78.4 ms",
				158,
				"80.0 ms",
				159,
				"81.6 ms",
				160,
				"83.2 ms",
				161,
				"84.8 ms",
				162,
				"86.4 ms",
				163,
				"88.0 ms",
				164,
				"89.6 ms",
				165,
				"91.2 ms",
				166,
				"92.8 ms",
				167,
				"94.4 ms",
				168,
				"96.0 ms",
				169,
				"97.6 ms",
				170,
				"99.2 ms",
				171,
				"100.8 ms",
				172,
				"102.4 ms",
				173,
				"104.0 ms",
				174,
				"105.6 ms",
				175,
				"107.2 ms",
				176,
				"108.8 ms",
				177,
				"110.4 ms",
				178,
				"112.0 ms",
				179,
				"113.6 ms",
				180,
				"115.2 ms",
				181,
				"116.8 ms",
				182,
				"118.4 ms",
				183,
				"120.0 ms",
				184,
				"121.6 ms",
				185,
				"123.2 ms",
				186,
				"124.8 ms",
				187,
				"126.4 ms",
				188,
				"128.0 ms",
				189,
				"129.6 ms",
				190,
				"131.2 ms",
				191,
				"132.8 ms",
				],
		},
		{
			name:"Revision",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				1,
				"V1.0",
				],
		},
		{
			name:"Activate Quick Start-Up",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:17,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"diagnostic generated",
				1,
				"no diagnostic generated",
				],
		},
		{
			name:"Deactivate diagnostics Ch0",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:18,
			bitLen:2,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:4,
			defaultValue:2,
			enumValues:
				[
				0,
				"no",
				1,
				"notifications",
				2,
				"notifications and warnings",
				3,
				"yes",
				],
		},
		{
			name:"Input data mapping",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:20,
			bitLen:2,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap",
				],
		},
		{
			name:"Input data length",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:4,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:9,
			defaultValue:2,
			enumValues:
				[
				0,
				"0 byte",
				1,
				"1 byte",
				2,
				"2 byte",
				3,
				"4 byte",
				4,
				"6 byte",
				5,
				"8 byte",
				6,
				"10 byte",
				7,
				"12 byte",
				15,
				"14 byte",
				],
		},
		{
			name:"Output data mapping",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:22,
			bitLen:2,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap",
				],
		},
		{
			name:"Output data length",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:28,
			bitLen:4,
			bitIncremental:32,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:9,
			defaultValue:2,
			enumValues:
				[
				0,
				"0 byte",
				1,
				"1 byte",
				2,
				"2 byte",
				3,
				"4 byte",
				4,
				"6 byte",
				5,
				"8 byte",
				6,
				"10 byte",
				7,
				"12 byte",
				15,
				"14 byte",
				],
		},
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:32,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:156,
	},
	{
		sect_name:"Diag",
		num_elems:16,
		datapoints:
		[
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:9,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:10,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:11,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:13,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:14,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:15,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent XSG channel",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:79,
	},
	{
		sect_name:"Input",
		num_elems:11,
		datapoints:
		[
		{
			name:"Input data word 0",
			category:"Global",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 1",
			category:"Global",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 2",
			category:"Global",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 3",
			category:"Global",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 4",
			category:"Global",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 5",
			category:"Global",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 6",
			category:"Global",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Digital input",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Input value valid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"XSG input",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Overcurrent XSG",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:128,
	},
	{
		sect_name:"Output",
		num_elems:8,
		datapoints:
		[
		{
			name:"Output data word 0",
			category:"Global",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 1",
			category:"Global",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 2",
			category:"Global",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 3",
			category:"Global",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 4",
			category:"Global",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 5",
			category:"Global",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 6",
			category:"Global",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"XSG output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:128,
	},
	]
},
];
var modules_BLCEN_8PBLT=
[{
	mod_name:"8PBLT Basic",
	mod_id:0x82080,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Input mode",
			category:"Button",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"toggle mode",
				1,
				"momentary",
				],
		},
		{
			name:"Indication",
			category:"LED",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"input value",
				1,
				"output value",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"input value",
			category:"Button",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"output value",
			category:"LED",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
];
var modules_FEN20=
[{
	mod_name:"16-DXP",
	mod_id:0x81695500,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:32,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:48,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:64,
	},
	{
		sect_name:"Diag",
		num_elems:2,
		datapoints:
		[
		{
			name:"Overcurrent on sensor group",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"16DIP",
	mod_id:0x814C5000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:168,
	},
	{
		sect_name:"Diag",
		num_elems:8,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0/1",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch2/3",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch4/5",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch6/7",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch9/10",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch10/11",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch12/13",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch14/15",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"4DIP-DXP",
	mod_id:0x41564300,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:20,
	},
	{
		sect_name:"Diag",
		num_elems:2,
		datapoints:
		[
		{
			name:"Overcurrent on sensor group",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Input",
		num_elems:2,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"4DIN-DXN",
	mod_id:0x42564300,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:20,
	},
	{
		sect_name:"Diag",
		num_elems:2,
		datapoints:
		[
		{
			name:"Overcurrent on sensor group",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Input",
		num_elems:2,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
];
var modules_FEN20_4IOL=
[{
	mod_name:"Basic",
	mod_id:0x4082082,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent supply VAUX1 Ch0",
			category:"IOL",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch1",
			category:"IOL",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch2",
			category:"IOL",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch3",
			category:"IOL",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Input",
		num_elems:2,
		datapoints:
		[
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"Diagnostics",
	mod_id:0x2240000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:20,
		datapoints:
		[
		{
			name:"Overcurrent supply VAUX1 Ch0",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch1",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch2",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch3",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:18,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:19,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:21,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:20,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:22,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:23,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:25,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:26,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:27,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:28,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:29,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:30,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:31,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:17,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:95,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"IO-Link Events",
	mod_id:0x640000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Port",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:8,
			bitLen:8,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Qualifier",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:0,
			bitLen:8,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Event code",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:16,
			bitLen:16,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:528,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"IO-Link Port",
	mod_id:0x3492302,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:12,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:7,
			defaultValue:0,
			enumValues:
				[
				0,
				"IO-Link without validation",
				1,
				"IO-Link with family compatible device",
				2,
				"IO-Link with compatible device",
				3,
				"IO-Link with identical device",
				4,
				"DI (with parameter access)",
				8,
				"DI",
				9,
				"DX",
				],
		},
		{
			name:"Data storage mode",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:4,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:3,
			enumValues:
				[
				0,
				"activated",
				1,
				"overwrite",
				2,
				"read in",
				3,
				"deactivated, clear",
				],
		},
		{
			name:"Cycle time",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:91,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				16,
				"1.6 ms",
				24,
				"2.4 ms",
				32,
				"3.2 ms",
				40,
				"4.0 ms",
				48,
				"4.8 ms",
				56,
				"5.6 ms",
				64,
				"6.4 ms",
				66,
				"7.2 ms",
				68,
				"8.0 ms",
				70,
				"8.8 ms",
				72,
				"9.6 ms",
				74,
				"10.4 ms",
				76,
				"11.2 ms",
				78,
				"12.0 ms",
				80,
				"12.8 ms",
				84,
				"14.4 ms",
				88,
				"16.0 ms",
				92,
				"17.6 ms",
				96,
				"19.2 ms",
				100,
				"20.8 ms",
				104,
				"22.4 ms",
				108,
				"24.0 ms",
				112,
				"25.6 ms",
				116,
				"27.2 ms",
				120,
				"28.8 ms",
				124,
				"30.4 ms",
				128,
				"32.0 ms",
				129,
				"33.6 ms",
				130,
				"35.2 ms",
				131,
				"36.8 ms",
				132,
				"38.4 ms",
				133,
				"40.0 ms",
				134,
				"41.6 ms",
				135,
				"43.2 ms",
				136,
				"44.8 ms",
				137,
				"46.4 ms",
				138,
				"48.0 ms",
				139,
				"49.6 ms",
				140,
				"51.2 ms",
				141,
				"52.8 ms",
				142,
				"54.4 ms",
				143,
				"56.0 ms",
				144,
				"57.6 ms",
				145,
				"59.2 ms",
				146,
				"60.8 ms",
				147,
				"62.4 ms",
				148,
				"64.0 ms",
				149,
				"65.6 ms",
				150,
				"67.2 ms",
				151,
				"68.8 ms",
				152,
				"70.4 ms",
				153,
				"72.0 ms",
				154,
				"73.6 ms",
				155,
				"75.2 ms",
				156,
				"76.8 ms",
				157,
				"78.4 ms",
				158,
				"80.0 ms",
				159,
				"81.6 ms",
				160,
				"83.2 ms",
				161,
				"84.8 ms",
				162,
				"86.4 ms",
				163,
				"88.0 ms",
				164,
				"89.6 ms",
				165,
				"91.2 ms",
				166,
				"92.8 ms",
				167,
				"94.4 ms",
				168,
				"96.0 ms",
				169,
				"97.6 ms",
				170,
				"99.2 ms",
				171,
				"100.8 ms",
				172,
				"102.4 ms",
				173,
				"104.0 ms",
				174,
				"105.6 ms",
				175,
				"107.2 ms",
				176,
				"108.8 ms",
				177,
				"110.4 ms",
				178,
				"112.0 ms",
				179,
				"113.6 ms",
				180,
				"115.2 ms",
				181,
				"116.8 ms",
				182,
				"118.4 ms",
				183,
				"120.0 ms",
				184,
				"121.6 ms",
				185,
				"123.2 ms",
				186,
				"124.8 ms",
				187,
				"126.4 ms",
				188,
				"128.0 ms",
				189,
				"129.6 ms",
				190,
				"131.2 ms",
				191,
				"132.8 ms",
				],
		},
		{
			name:"Revision",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				1,
				"V1.0",
				],
		},
		{
			name:"Activate Quick Start-Up",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Device parametrization via GSD",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"inactive",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"diagnostic generated",
				1,
				"no diagnostic generated",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:18,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:2,
			enumValues:
				[
				0,
				"no",
				1,
				"notifications",
				2,
				"notifications and warnings",
				3,
				"yes",
				],
		},
		{
			name:"Input data mapping",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:20,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap all",
				],
		},
		{
			name:"Output data mapping",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:22,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap all",
				],
		},
		{
			name:"Vendor ID",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Device ID",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:112,
	},
	{
		sect_name:"Diag",
		num_elems:15,
		datapoints:
		[
		{
			name:"Wrong or missing device",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:16,
		datapoints:
		[
		{
			name:"Input data word 0",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 1",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 2",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 3",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 4",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 5",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 6",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 7",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 8",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 9",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 10",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 11",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 12",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:192,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 13",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:208,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 14",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:224,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 15",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:240,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:256,
	},
	{
		sect_name:"Output",
		num_elems:16,
		datapoints:
		[
		{
			name:"Output data word 0",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 1",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 2",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 3",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 4",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 5",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 6",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 7",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 8",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 9",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 10",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 11",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 12",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:192,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 13",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:208,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 14",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:224,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 15",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:240,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:256,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x13080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"ARGEE program active",
			category:"Module state",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"VAUX control",
	mod_id:0x4002100,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX1 Pin3 (Ch0)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin5 (Ch1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:8,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin7 (Ch2)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:16,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin9 (Ch3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:24,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		],
	max_size:26,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX1 Pin3 (Ch0)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin5 (Ch1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin7 (Ch2)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin9 (Ch3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
];
var modules_TBEN_L=
[{
	mod_name:"16DIN",
	mod_id:0x824C5000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:168,
	},
	{
		sect_name:"Diag",
		num_elems:8,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0/1",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch2/3",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch4/5",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch6/7",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch8/9",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch10/11",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch12/13",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch14/15",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"16DON",
	mod_id:0x82670500,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:9,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Ch0/1",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch2/3",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch4/5",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch6/7",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch8/9",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch10/11",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch12/13",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch14/15",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"16DXN",
	mod_id:0x826D5500,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:72,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:48,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:32,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:200,
	},
	{
		sect_name:"Diag",
		num_elems:9,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0/1",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch2/3",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch4/5",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch6/7",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch8/9",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch10/11",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch12/13",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch14/15",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"8DIN-8DON",
	mod_id:0x625B4400,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:104,
	},
	{
		sect_name:"Diag",
		num_elems:9,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0/1",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch2/3",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch4/5",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch6/7",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch8/9",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch10/11",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch12/13",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch14/15",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"16DIP",
	mod_id:0x844C5000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:168,
	},
	{
		sect_name:"Diag",
		num_elems:8,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0/1",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch2/3",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch4/5",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch6/7",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch8/9",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch10/11",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch12/13",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch14/15",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"16DOP",
	mod_id:0x85670500,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:9,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Ch0/1",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch2/3",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch4/5",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch6/7",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch8/9",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch10/11",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch12/13",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch14/15",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"16DXP",
	mod_id:0x846D5500,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:72,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:48,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:32,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:200,
	},
	{
		sect_name:"Diag",
		num_elems:9,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0/1",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch2/3",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch4/5",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch6/7",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch8/9",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch10/11",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch12/13",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch14/15",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"8DIP-8DOP",
	mod_id:0x655B4400,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:104,
	},
	{
		sect_name:"Diag",
		num_elems:9,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0/1",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch2/3",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch4/5",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch6/7",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch8/9",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch10/11",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch12/13",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch14/15",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
];
var modules_TBEN_L_01=
[{
	mod_name:"8DIP-8DOP-01",
	mod_id:0x665B4400,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:104,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"16DOP-01",
	mod_id:0x86670500,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"8DIP-8DOP-01",
	mod_id:0x635B4428,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:9,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:104,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:9,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:9,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"16DOP-01",
	mod_id:0x83670528,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
];
var modules_TBEN_L1_dig=
[{
	mod_name:"16DIP",
	mod_id:0x814C5000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:168,
	},
	{
		sect_name:"Diag",
		num_elems:8,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch1/2",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch3/4",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch5/6",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch7/8",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch9/10",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch11/12",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch13/14",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch15/16",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"16DOP",
	mod_id:0x81670500,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:9,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Ch1/2",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch3/4",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch5/6",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch7/8",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch9/10",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch11/12",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch13/14",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch15/16",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"16DXP",
	mod_id:0x816D5500,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:72,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:48,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:32,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:200,
	},
	{
		sect_name:"Diag",
		num_elems:9,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch1/2",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch3/4",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch5/6",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch7/8",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch9/10",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch11/12",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch13/14",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch15/16",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"8DIP-8DOP",
	mod_id:0x615B4400,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Invert digital input",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Pulse stretching",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:9,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:104,
	},
	{
		sect_name:"Diag",
		num_elems:9,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch1/2",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch3/4",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch5/6",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch7/8",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch9/10",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch11/12",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch13/14",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch15/16",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:9,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:8,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:9,
			channelNumEnd:16,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
];
var modules_TBEN_Lx_8IOL=
[{
	mod_name:"Basic",
	mod_id:0x2102104,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:8,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:19,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:21,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:23,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Diag",
		num_elems:4,
		datapoints:
		[
		{
			name:"Output overcurrent",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:19,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:21,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:23,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Input",
		num_elems:20,
		datapoints:
		[
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:18,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:20,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:22,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:26,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:28,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:30,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:31,
	},
	{
		sect_name:"Output",
		num_elems:4,
		datapoints:
		[
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Diagnostics",
	mod_id:0x380000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:136,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Pin1 C0 (Ch0/1)",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C1 (Ch2/3)",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C2 (Ch4/5)",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C3 (Ch6/7)",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C4 (Ch8)",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 C4 (Ch9)",
			category:"Global",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C5 (Ch10)",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 C5 (Ch11)",
			category:"Global",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C6 (Ch12)",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 C6 (Ch13)",
			category:"Global",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C7 (Ch14)",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 C7 (Ch15)",
			category:"Global",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:19,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:21,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:23,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:34,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:98,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:50,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:114,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:66,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:130,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:82,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:146,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:35,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:99,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:51,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:115,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:67,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:131,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:83,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:147,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:37,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:101,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:53,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:117,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:69,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:133,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:85,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:149,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:36,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:100,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:52,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:116,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:68,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:132,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:84,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:148,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:38,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:102,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:54,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:118,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:70,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:134,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:86,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:150,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:39,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:103,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:55,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:119,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:71,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:135,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:87,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:151,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:104,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:56,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:120,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:72,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:136,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:88,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:152,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:41,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:105,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:57,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:121,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:73,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:137,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:89,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:153,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:42,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:106,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:58,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:122,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:74,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:138,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:90,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:154,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:43,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:107,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:59,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:123,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:75,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:139,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:91,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:155,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:44,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:108,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:60,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:124,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:76,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:140,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:92,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:156,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:45,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:109,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:61,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:125,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:77,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:141,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:93,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:157,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:46,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:110,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:62,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:126,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:78,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:142,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:94,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:158,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:47,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:111,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:63,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:127,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:79,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:143,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:95,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:159,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:33,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:97,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:49,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:113,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:65,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:129,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:81,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:145,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:160,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"IO-Link Events",
	mod_id:0x640000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Port",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:8,
			bitLen:8,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Qualifier",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:0,
			bitLen:8,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Event code",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:16,
			bitLen:16,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:528,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"IO-Link Port",
	mod_id:0x492302,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:12,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:6,
			defaultValue:0,
			enumValues:
				[
				0,
				"IO-Link without validation",
				1,
				"IO-Link with family compatible device",
				2,
				"IO-Link with compatible device",
				3,
				"IO-Link with identical device",
				4,
				"DI (with parameter access)",
				8,
				"DI",
				],
		},
		{
			name:"Data storage mode",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:4,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:3,
			enumValues:
				[
				0,
				"activated",
				1,
				"overwrite",
				2,
				"read in",
				3,
				"deactivated, clear",
				],
		},
		{
			name:"Cycle time",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:84,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				16,
				"1.6 ms",
				32,
				"3.2 ms",
				48,
				"4.8 ms",
				64,
				"6.4 ms",
				68,
				"8.0 ms",
				72,
				"9.6 ms",
				76,
				"11.2 ms",
				80,
				"12.8 ms",
				84,
				"14.4 ms",
				88,
				"16.0 ms",
				92,
				"17.6 ms",
				96,
				"19.2 ms",
				100,
				"20.8 ms",
				104,
				"22.4 ms",
				108,
				"24.0 ms",
				112,
				"25.6 ms",
				116,
				"27.2 ms",
				120,
				"28.8 ms",
				124,
				"30.4 ms",
				128,
				"32.0 ms",
				129,
				"33.6 ms",
				130,
				"35.2 ms",
				131,
				"36.8 ms",
				132,
				"38.4 ms",
				133,
				"40.0 ms",
				134,
				"41.6 ms",
				135,
				"43.2 ms",
				136,
				"44.8 ms",
				137,
				"46.4 ms",
				138,
				"48.0 ms",
				139,
				"49.6 ms",
				140,
				"51.2 ms",
				141,
				"52.8 ms",
				142,
				"54.4 ms",
				143,
				"56.0 ms",
				144,
				"57.6 ms",
				145,
				"59.2 ms",
				146,
				"60.8 ms",
				147,
				"62.4 ms",
				148,
				"64.0 ms",
				149,
				"65.6 ms",
				150,
				"67.2 ms",
				151,
				"68.8 ms",
				152,
				"70.4 ms",
				153,
				"72.0 ms",
				154,
				"73.6 ms",
				155,
				"75.2 ms",
				156,
				"76.8 ms",
				157,
				"78.4 ms",
				158,
				"80.0 ms",
				159,
				"81.6 ms",
				160,
				"83.2 ms",
				161,
				"84.8 ms",
				162,
				"86.4 ms",
				163,
				"88.0 ms",
				164,
				"89.6 ms",
				165,
				"91.2 ms",
				166,
				"92.8 ms",
				167,
				"94.4 ms",
				168,
				"96.0 ms",
				169,
				"97.6 ms",
				170,
				"99.2 ms",
				171,
				"100.8 ms",
				172,
				"102.4 ms",
				173,
				"104.0 ms",
				174,
				"105.6 ms",
				175,
				"107.2 ms",
				176,
				"108.8 ms",
				177,
				"110.4 ms",
				178,
				"112.0 ms",
				179,
				"113.6 ms",
				180,
				"115.2 ms",
				181,
				"116.8 ms",
				182,
				"118.4 ms",
				183,
				"120.0 ms",
				184,
				"121.6 ms",
				185,
				"123.2 ms",
				186,
				"124.8 ms",
				187,
				"126.4 ms",
				188,
				"128.0 ms",
				189,
				"129.6 ms",
				190,
				"131.2 ms",
				191,
				"132.8 ms",
				],
		},
		{
			name:"Revision",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				1,
				"V1.0",
				],
		},
		{
			name:"Activate Quick Start-Up",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Device parametrization via GSD",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"inactive",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"diagnostic generated",
				1,
				"no diagnostic generated",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:18,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:2,
			enumValues:
				[
				0,
				"no",
				1,
				"notifications",
				2,
				"notifications and warnings",
				3,
				"yes",
				],
		},
		{
			name:"Input data mapping",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:20,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap",
				],
		},
		{
			name:"Output data mapping",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:22,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap",
				],
		},
		{
			name:"Vendor ID",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Device ID",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:112,
	},
	{
		sect_name:"Diag",
		num_elems:15,
		datapoints:
		[
		{
			name:"Wrong or missing device",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:16,
		datapoints:
		[
		{
			name:"Input data word 0",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 1",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 2",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 3",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 4",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 5",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 6",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 7",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 8",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 9",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 10",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 11",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 12",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:192,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 13",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:208,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 14",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:224,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 15",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:240,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:256,
	},
	{
		sect_name:"Output",
		num_elems:16,
		datapoints:
		[
		{
			name:"Output data word 0",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 1",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 2",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 3",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 4",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 5",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 6",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 7",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 8",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 9",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 10",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 11",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 12",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:192,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 13",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:208,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 14",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:224,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 15",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:240,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:256,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"VAUX control",
	mod_id:0x2300,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:12,
		datapoints:
		[
		{
			name:"VAUX1 Pin1 C0 (Ch0/1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 C1 (Ch2/3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:8,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 C2 (Ch4/5)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:16,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 C3 (Ch6/7)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:24,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 C4 (Ch8)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:32,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin2 C4 (Ch9)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:96,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 C5 (Ch10)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:40,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin2 C5 (Ch11)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:104,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 C6 (Ch12)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:48,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin2 C6 (Ch13)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:112,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 C7 (Ch14)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:56,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin2 C7 (Ch15)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:120,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		],
	max_size:122,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:12,
		datapoints:
		[
		{
			name:"VAUX1 Pin1 C0 (Ch0/1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 C1 (Ch2/3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 C2 (Ch4/5)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 C3 (Ch6/7)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 C4 (Ch8)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin2 C4 (Ch9)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 C5 (Ch10)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin2 C5 (Ch11)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 C6 (Ch12)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin2 C6 (Ch13)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 C7 (Ch14)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin2 C7 (Ch15)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
];
var modules_TBEN_S1=
[{
	mod_name:"Basic",
	mod_id:0x40533300,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Diag",
		num_elems:3,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0-3",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch4-7",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Diagnostics",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Output values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"Diagnostic",
	mod_id:0x9080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0-3",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch4-7",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Input Latch Ch0-3",
	mod_id:0x1082000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Latch input",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Latch reset",
			category:"Output values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"Ext. Func. Digital",
	mod_id:0x202082,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"extended digital mode",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"digital filter and impulse stretch",
				4,
				"counter",
				],
		},
		{
			name:"input filter",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0.2 ms",
				1,
				"3 ms",
				],
		},
		{
			name:"impulse stretch (*10ms)",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Counter value",
			category:"Input values",
			chan_unit:"",
			bitOffset:0,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Counter frequency (Hz)",
			category:"Input values",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Status",
			category:"Input values",
			chan_unit:"",
			bitOffset:48,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:56,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Counter reset",
			category:"Output values",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"not active",
				1,
				"active",
				],
		},
		],
	max_size:1,
	},
	]
},
{
	mod_name:"Ext. Func. Digital",
	mod_id:0x2000080,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"extended digital mode",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"digital filter and impulse stretch",
				],
		},
		{
			name:"input filter",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0.2 ms",
				1,
				"3 ms",
				],
		},
		{
			name:"impulse stretch (*10ms)",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Ext. Func. Digital",
	mod_id:0x2082102,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"extended digital mode",
			category:"PWM Output",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				2,
				"PWM out",
				],
		},
		],
	max_size:7,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent PWM output",
			category:"Diagnostics",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:1,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent PWM output",
			category:"Input values",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Duty cycle %",
			category:"Output values",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Basic",
	mod_id:0x60204000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:2,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0-3",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch4-7",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:2,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Diagnostic",
	mod_id:0x6080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:2,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0-3",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Ch4-7",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:2,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Input Latch Ch0-7",
	mod_id:0x2082000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Latch input",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Latch reset",
			category:"Output values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Basic",
	mod_id:0x60540400,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent",
			category:"Diagnostics",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Output values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Diagnostic",
	mod_id:0x8080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Ch0-3",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch4-7",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Basic",
	mod_id:0x60554400,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:3,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0-3",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch4-7",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Diagnostics",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Output values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Diagnostic",
	mod_id:0xA080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0-3",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch4-7",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Diagnostics",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Ext. Func. Digital",
	mod_id:0x1082102,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"extended digital mode",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"digital filter and impulse stretch",
				2,
				"PWM out",
				],
		},
		{
			name:"input filter",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0.2 ms",
				1,
				"3 ms",
				],
		},
		{
			name:"impulse stretch (*10ms)",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent PWM output",
			category:"Diagnostics",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:1,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent PWM output",
			category:"Input values",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Duty cycle %",
			category:"Output values",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Basic",
	mod_id:0x60404000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1",
			category:"Diagnostics",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Diagnostic",
	mod_id:0x7080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Basic",
	mod_id:0x6082082,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Diag",
		num_elems:3,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0-1",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch2-3",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Diagnostics",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Output values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"Diagnostic",
	mod_id:0x17080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Ch0-1",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch2-3",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent",
			category:"Diagnostics",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
];
var modules_TBEN_S2_2COM=
[{
	mod_name:"COM",
	mod_id:0x186282,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:14,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"COM",
			chan_unit:"",
			bitOffset:0,
			bitLen:3,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:0,
			enumValues:
				[
				0,
				"RS485",
				1,
				"RS232",
				2,
				"MB-Client 485",
				3,
				"MB-Client 232",
				],
		},
		{
			name:"Swap A/B Line",
			category:"COM",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Data rate",
			category:"COM",
			chan_unit:"",
			bitOffset:4,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:10,
			defaultValue:6,
			enumValues:
				[
				4,
				"2400 Bit/s",
				5,
				"4800 Bit/s",
				6,
				"9600 Bit/s",
				7,
				"14.4 kBit/s",
				8,
				"19.2 kBit/s",
				9,
				"28.8 kBit/s",
				10,
				"38.4 kBit/s",
				11,
				"57.6 kBit/s",
				12,
				"115.2 kBit/s",
				13,
				"230.4 kBit/s",
				],
		},
		{
			name:"Character format",
			category:"COM",
			chan_unit:"",
			bitOffset:8,
			bitLen:3,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:5,
			defaultValue:2,
			enumValues:
				[
				0,
				"7O",
				1,
				"7E",
				2,
				"8N",
				3,
				"8O",
				4,
				"8E",
				],
		},
		{
			name:"Stop bits",
			category:"COM",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"1 bit",
				1,
				"2 bit",
				],
		},
		{
			name:"EOF detection",
			category:"COM",
			chan_unit:"",
			bitOffset:12,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:0,
			enumValues:
				[
				0,
				"character timeout",
				1,
				"1 end delimiter",
				2,
				"2 end delimiter",
				3,
				"framelength",
				],
		},
		{
			name:"Termination active",
			category:"COM",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"yes",
				1,
				"no",
				],
		},
		{
			name:"Biasing active",
			category:"COM",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"yes",
				1,
				"no",
				],
		},
		{
			name:"Power supply VAUX1",
			category:"COM",
			chan_unit:"",
			bitOffset:16,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"0V(High-Z)",
				1,
				"V1(24VDC)",
				2,
				"+5VDC",
				],
		},
		{
			name:"Character timeout",
			category:"COM",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:100,
			enumValues:
				[
				],
		},
		{
			name:"Response timeout",
			category:"COM",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:2000,
			enumValues:
				[
				],
		},
		{
			name:"1st end delimiter",
			category:"COM",
			chan_unit:"",
			bitOffset:64,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:3,
			enumValues:
				[
				],
		},
		{
			name:"2nd end delimiter",
			category:"COM",
			chan_unit:"",
			bitOffset:72,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"MB-Server cycle time (*1ms)",
			category:"COM",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:96,
	},
	{
		sect_name:"Diag",
		num_elems:11,
		datapoints:
		[
		{
			name:"Hardware error",
			category:"COM",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"COM",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1",
			category:"COM",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 0",
			category:"COM",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 1",
			category:"COM",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 2",
			category:"COM",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 3",
			category:"COM",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 4",
			category:"COM",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 5",
			category:"COM",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 6",
			category:"COM",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 7",
			category:"COM",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:10,
		datapoints:
		[
		{
			name:"Transmitter ready",
			category:"COM",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Receive complete",
			category:"COM",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Frame error",
			category:"COM",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"parity/format error",
			category:"COM",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Buffer overflow",
			category:"COM",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Timeout",
			category:"COM",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Invalid TX length",
			category:"COM",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Invalid RX length",
			category:"COM",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"received frame length",
			category:"COM",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"MB-Server cycle time (*1ms)",
			category:"COM",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:48,
	},
	{
		sect_name:"Output",
		num_elems:4,
		datapoints:
		[
		{
			name:"transmit",
			category:"COM",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"receive",
			category:"COM",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"transmitter frame length",
			category:"COM",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"receiver frame length",
			category:"COM",
			chan_unit:"",
			bitOffset:32,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:40,
	},
	]
},
{
	mod_name:"RS Data/SCB",
	mod_id:0x410200,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:7,
		datapoints:
		[
		{
			name:"Server address",
			category:"SCB",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:1,
			enumValues:
				[
				],
		},
		{
			name:"Number reg. read access",
			category:"SCB",
			chan_unit:"",
			bitOffset:8,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:13,
			defaultValue:1,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				2,
				"2",
				3,
				"3",
				4,
				"4",
				5,
				"5",
				6,
				"6",
				7,
				"7",
				8,
				"8",
				9,
				"9",
				10,
				"10",
				11,
				"11",
				12,
				"12",
				],
		},
		{
			name:"Number reg. write access",
			category:"SCB",
			chan_unit:"",
			bitOffset:12,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:13,
			defaultValue:1,
			enumValues:
				[
				0,
				"0",
				1,
				"1",
				2,
				"2",
				3,
				"3",
				4,
				"4",
				5,
				"5",
				6,
				"6",
				7,
				"7",
				8,
				"8",
				9,
				"9",
				10,
				"10",
				11,
				"11",
				12,
				"12",
				],
		},
		{
			name:"Read access",
			category:"SCB",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				3,
				"read holding registers (FC 3)",
				4,
				"read input register (FC 4)",
				23,
				"read/write multiple registers (FC 23)",
				],
		},
		{
			name:"Write access",
			category:"SCB",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				6,
				"write single register (FC 6)",
				16,
				"write multiple registers (FC 16)",
				23,
				"read/write multiple registers (FC 23)",
				],
		},
		{
			name:"Start address for read access",
			category:"SCB",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Start address for write access",
			category:"SCB",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:64,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:12,
		datapoints:
		[
		{
			name:"Input register 0",
			category:"SCB",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input register 1",
			category:"SCB",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input register 2",
			category:"SCB",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input register 3",
			category:"SCB",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input register 4",
			category:"SCB",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input register 5",
			category:"SCB",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input register 6",
			category:"SCB",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input register 7",
			category:"SCB",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input register 8",
			category:"SCB",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input register 9",
			category:"SCB",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input register 10",
			category:"SCB",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input register 11",
			category:"SCB",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:192,
	},
	{
		sect_name:"Output",
		num_elems:12,
		datapoints:
		[
		{
			name:"Output register 0",
			category:"SCB",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output register 1",
			category:"SCB",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output register 2",
			category:"SCB",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output register 3",
			category:"SCB",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output register 4",
			category:"SCB",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output register 5",
			category:"SCB",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output register 6",
			category:"SCB",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output register 7",
			category:"SCB",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output register 8",
			category:"SCB",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output register 9",
			category:"SCB",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output register 10",
			category:"SCB",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output register 11",
			category:"SCB",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:192,
	},
	]
},
{
	mod_name:"MB-Server Timing",
	mod_id:0x1480000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:8,
		datapoints:
		[
		{
			name:"COM  MB-Server Timing (*1ms) 0",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:16,
			bitIncremental:128,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"COM  MB-Server Timing (*1ms) 1",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:16,
			bitIncremental:128,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"COM  MB-Server Timing (*1ms) 2",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:32,
			bitLen:16,
			bitIncremental:128,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"COM  MB-Server Timing (*1ms) 3",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:48,
			bitLen:16,
			bitIncremental:128,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"COM  MB-Server Timing (*1ms) 4",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:64,
			bitLen:16,
			bitIncremental:128,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"COM  MB-Server Timing (*1ms) 5",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:80,
			bitLen:16,
			bitIncremental:128,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"COM  MB-Server Timing (*1ms) 6",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:96,
			bitLen:16,
			bitIncremental:128,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"COM  MB-Server Timing (*1ms) 7",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:112,
			bitLen:16,
			bitIncremental:128,
			channelNumStart:0,
			channelNumEnd:1,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:368,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"MB-Server Status",
	mod_id:0x4480000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:14,
		datapoints:
		[
		{
			name:"exception code",
			category:"COM 0 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:4,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"read error",
			category:"COM 0 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"write error",
			category:"COM 0 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"parity/format error",
			category:"COM 0 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"MODBUS timeout",
			category:"COM 0 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Valid read config.",
			category:"COM 0 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Valid write conig.",
			category:"COM 0 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:13,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"exception code",
			category:"COM 1 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:128,
			bitLen:4,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"read error",
			category:"COM 1 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:132,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"write error",
			category:"COM 1 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:133,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"parity/format error",
			category:"COM 1 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:134,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"MODBUS timeout",
			category:"COM 1 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:135,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Valid read config.",
			category:"COM 1 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:140,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Valid write conig.",
			category:"COM 1 MB-Server Status",
			chan_unit:"Channel",
			bitOffset:141,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:269,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"COM diagnostics",
	mod_id:0x3100000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:11,
		datapoints:
		[
		{
			name:"Hardware error",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:1,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:1,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:1,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 0",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:1,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 1",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:9,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:1,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 2",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:10,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:1,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 3",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:11,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:1,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 4",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:1,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 5",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:13,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:1,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 6",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:14,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:1,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error MB-Server 7",
			category:"COM",
			chan_unit:"Channel",
			bitOffset:15,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:1,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:47,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"DXP",
	mod_id:0x82082,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"DXP diagnostics",
	mod_id:0x3080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 CH4/5",
			category:"DXP",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 CH6/7",
			category:"DXP",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Output overcurrent",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Ext. DXP functions",
	mod_id:0x80,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"extended digital mode",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"digital filter and impulse stretch",
				],
		},
		{
			name:"input filter",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0.2 ms",
				1,
				"3 ms",
				],
		},
		{
			name:"impulse stretch (*10ms)",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
];
var modules_TBEN_S2_2RFID=
[{
	mod_name:"DXP",
	mod_id:0x82082,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:3,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Ch4/5",
			category:"DXP",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch6/7",
			category:"DXP",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"DXP diagnostics",
	mod_id:0x3080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Ch4/5",
			category:"DXP",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Ch6/7",
			category:"DXP",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Ext. DXP functions",
	mod_id:0x80,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"extended digital mode",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"digital filter and impulse stretch",
				],
		},
		{
			name:"input filter",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0.2 ms",
				1,
				"3 ms",
				],
		},
		{
			name:"impulse stretch (*10ms)",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"RFID diagnostics",
	mod_id:0x680000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:16,
		datapoints:
		[
		{
			name:"Overcurrent supply VAUX1",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"HF Read/write head address  detuned",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:36,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head address",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:37,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Read/write head address  reports error",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:38,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Expected read/write head address  not connected",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:39,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Overcurrent supply VAUX1",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:295,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:294,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:293,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:292,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"HF Read/write head address  detuned",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:324,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head address",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:325,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Read/write head address  reports error",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:326,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Expected read/write head address  not connected",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:327,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:583,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"RFID read data",
	mod_id:0x840080,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Length of read data",
			category:"RFID read data",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:128,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input buffer",
			category:"Byte",
			chan_unit:"byte",
			bitOffset:0,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:127,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:1024,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"RFID write data",
	mod_id:0x21080,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Length of write data",
			category:"RFID write data",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:128,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output buffer",
			category:"Byte",
			chan_unit:"byte",
			bitOffset:0,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:127,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:1024,
	},
	]
},
{
	mod_name:"RFID control/status",
	mod_id:0x410493,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:15,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:6,
			defaultValue:1,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"HF compact",
				2,
				"HF extended",
				3,
				"HF bus mode",
				4,
				"UHF compact",
				5,
				"UHF extended",
				],
		},
		{
			name:"HF: Select Tag type",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:19,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic tag detection HF (1 to 4)",
				1,
				"1: Philips I-CODE SLI SL2",
				2,
				"2: Fujitsu MB89R118",
				3,
				"3: TI Tag-it HF-I Plus",
				4,
				"4: Infineon SRF55V02P",
				5,
				"5: Philips I-CODE SLI S",
				6,
				"6: Fujitsu MB89R119",
				7,
				"7: TI Tag-it HF-I",
				8,
				"8: Infineon SRF55V10P",
				11,
				"11: NXP I-CODE SLI L",
				12,
				"12: Fujitsu MB89R112",
				13,
				"13: EM4233SLIC",
				14,
				"14: reserved",
				15,
				"15: reserved",
				16,
				"16: reserved",
				17,
				"17: reserved",
				18,
				"18: reserved",
				19,
				"19: reserved",
				20,
				"20: reserved",
				],
		},
		{
			name:"HF: Bypass time (*1ms)",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:200,
			enumValues:
				[
				],
		},
		{
			name:"HF: Multitag",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:36,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"HF: Heart beat read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:37,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Termination active",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:38,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"yes",
				1,
				"no",
				],
		},
		{
			name:"HF: Autotuning read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:39,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate HF detuned diagnostic",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:40,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:47,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"HF: Idle mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:48,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:5,
			defaultValue:0,
			enumValues:
				[
				0,
				"UID",
				1,
				"8 bytes user memory",
				2,
				"UID + 8 bytes user memory",
				3,
				"UID + 64 bytes user memory",
				4,
				"deactivated",
				],
		},
		{
			name:"Command retries at failure",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:64,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:2,
			enumValues:
				[
				],
		},
		{
			name:"HF: Command in continuous mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:72,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				1,
				"Inventory",
				2,
				"Read",
				3,
				"Tag info",
				4,
				"Write",
				],
		},
		{
			name:"HF: Length in continuous mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:8,
			enumValues:
				[
				],
		},
		{
			name:"HF: Address in continuous mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:96,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Activate read-write-head",
			category:"Head",
			chan_unit:"head",
			bitOffset:224,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:256,
	},
	{
		sect_name:"Diag",
		num_elems:8,
		datapoints:
		[
		{
			name:"Overcurrent supply VAUX1",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"HF Read/write head address  detuned",
			category:"Head",
			chan_unit:"head",
			bitOffset:36,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameter not supported by read/write head address",
			category:"Head",
			chan_unit:"head",
			bitOffset:37,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Read/write head address  reports error",
			category:"Head",
			chan_unit:"head",
			bitOffset:38,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Expected read/write head address  not connected",
			category:"Head",
			chan_unit:"head",
			bitOffset:39,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:295,
	},
	{
		sect_name:"Input",
		num_elems:14,
		datapoints:
		[
		{
			name:"Response code",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:65,
			defaultValue:0,
			enumValues:
				[
				0,
				"0x0000 Idle",
				1,
				"0x0001 Inventory",
				2,
				"0x0002 Read",
				4,
				"0x0004 Write",
				8,
				"0x0008 Write and Verify",
				16,
				"0x0010 Continuous Mode",
				17,
				"0x0011 Get data from buffer (Continuous Mode)",
				32,
				"0x0020 UHF Continuous Presence Sensing Mode",
				64,
				"0x0040 HF Read/write head off",
				65,
				"0x0041 Read/write head identification",
				80,
				"0x0050 Tag info",
				96,
				"0x0060 Direct read/write head command",
				128,
				"0x0080 Tune HF Read/write head",
				256,
				"0x0100 Set read/write head password",
				257,
				"0x0101 Reset read/write head password",
				258,
				"0x0102 Set tag password",
				259,
				"0x0103 Set tag protection",
				260,
				"0x0104 Get HF tag protection status",
				261,
				"0x0105 Set perma lock",
				512,
				"0x0200 Kill UHF tag",
				4096,
				"0x1000 Restore settings UHF read/write head",
				4097,
				"0x1001 Backup settings UHF read/write head",
				16385,
				"0x4001 Error - Inventory",
				16386,
				"0x4002 Error - Read",
				16388,
				"0x4004 Error - Write",
				16392,
				"0x4008 Error - Write and Verify",
				16400,
				"0x4010 Error - Continuous Mode",
				16401,
				"0x4011 Error - Get data from buffer (Continuous Mode)",
				16416,
				"0x4020 Error - UHF Continuous Presence Sensing Mode",
				16448,
				"0x4040 Error - HF Read/write head off",
				16449,
				"0x4041 Error - Read/write head identification",
				16464,
				"0x4050 Error - Tag info",
				16480,
				"0x4060 Error - Direct read/write head command",
				16512,
				"0x4080 Error - Tune HF Read/write head",
				16640,
				"0x4100 Error - Set read/write head password",
				16641,
				"0x4101 Error - Reset read/write head password",
				16642,
				"0x4102 Error - Set tag password",
				16643,
				"0x4103 Error - Set tag protection",
				16644,
				"0x4104 Error - Get HF tag protection status",
				16645,
				"0x4105 Error - Set perma lock",
				16896,
				"0x4200 Error - Kill UHF tag",
				20480,
				"0x5000 Error - Restore settings UHF read/write head",
				20481,
				"0x5001 Error - Backup settings UHF read/write head",
				32768,
				"0x8000 Busy - Reset",
				32769,
				"0x8001 Busy - Inventory",
				32770,
				"0x8002 Busy - Read",
				32772,
				"0x8004 Busy - Write",
				32776,
				"0x8008 Busy - Write and Verify",
				32784,
				"0x8010 Busy - Continuous Mode",
				32785,
				"0x8011 Busy - Get data from buffer (Continuous Mode)",
				32800,
				"0x8020 Busy - UHF Continuous Presence Sensing Mode",
				32832,
				"0x8040 Busy - HF Read/write head off",
				32833,
				"0x8041 Busy - Read/write head identification",
				32848,
				"0x8050 Busy - Tag info",
				32864,
				"0x8060 Busy - Direct read/write head command",
				32896,
				"0x8080 Busy - Tune HF Read/write head",
				33024,
				"0x8100 Busy - Set read/write head password",
				33025,
				"0x8101 Busy - Reset read/write head password",
				33026,
				"0x8102 Busy - Set tag password",
				33027,
				"0x8103 Busy - Set tag protection",
				33028,
				"0x8104 Busy - Get HF tag protection status",
				33029,
				"0x8105 Busy - Set perma lock",
				33280,
				"0x8200 Busy - Kill UHF tag",
				36864,
				"0x9000 Busy - Restore settings UHF read/write head",
				36865,
				"0x9001 Busy - Backup settings UHF read/write head",
				],
		},
		{
			name:"Tag present (address )",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:32,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Loop counter",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"HF Read/write head address  detuned",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:36,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head address",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:37,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Read/write head address  reports error",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:38,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Expected read/write head address  not connected",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:39,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Length",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Error code",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Tag counter",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Data (Bytes) available",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:112,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:120,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Tag present at R/W-head",
			category:"Head",
			chan_unit:"head",
			bitOffset:160,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:192,
	},
	{
		sect_name:"Output",
		num_elems:10,
		datapoints:
		[
		{
			name:"Command code",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:23,
			defaultValue:0,
			enumValues:
				[
				0,
				"0x0000 Idle",
				1,
				"0x0001 Inventory",
				2,
				"0x0002 Read",
				4,
				"0x0004 Write",
				8,
				"0x0008 Write and Verify",
				16,
				"0x0010 Continuous Mode",
				17,
				"0x0011 Get data from buffer (Continuous Mode)",
				32,
				"0x0020 UHF Continuous Presence Sensing Mode",
				64,
				"0x0040 HF Read/write head off",
				65,
				"0x0041 Read/write head identification",
				80,
				"0x0050 Tag info",
				96,
				"0x0060 Direct read/write head command",
				128,
				"0x0080 Tune HF Read/write head",
				256,
				"0x0100 Set read/write head password",
				257,
				"0x0101 Reset read/write head password",
				258,
				"0x0102 Set tag password",
				259,
				"0x0103 Set tag protection",
				260,
				"0x0104 Get HF tag protection status",
				261,
				"0x0105 Set perma lock",
				512,
				"0x0200 Kill UHF tag",
				4096,
				"0x1000 Restore settings UHF read/write head",
				4097,
				"0x1001 Backup settings UHF read/write head",
				32768,
				"0x8000 Reset",
				],
		},
		{
			name:"Loop counter",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"UHF: Memory area",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:6,
			defaultValue:0,
			enumValues:
				[
				0,
				"Kill password",
				1,
				"EPC",
				2,
				"TID",
				3,
				"User memory",
				4,
				"Access password",
				5,
				"PC (EPC length)",
				],
		},
		{
			name:"Start address for read access",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:32,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Length",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Length of UID/EPC",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:80,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read/write head address",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:160,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Command timeout",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:112,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:120,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:168,
	},
	]
},
];
var modules_TBEN_S2_4AI=
[{
	mod_name:"Analog input",
	mod_id:0x80182,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:17,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"Analog In",
			chan_unit:"",
			bitOffset:4,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:5,
			defaultValue:0,
			enumValues:
				[
				0,
				"thermocouple",
				1,
				"voltage",
				2,
				"current",
				3,
				"resistance",
				4,
				"RTD",
				],
		},
		{
			name:"Thermocouple type",
			category:"Analog In",
			chan_unit:"",
			bitOffset:44,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:10,
			defaultValue:0,
			enumValues:
				[
				0,
				"type K, -270...1370 C, -454...2498 F",
				1,
				"type B, +100...1820 C, 212...3308 F",
				2,
				"type E, -270...1000 C, -454...1832 F",
				3,
				"type J, -210...1200 C, -346...2192 F",
				4,
				"type N, -270...1300 C, -454...2372 F",
				5,
				"type R, -50...1768 C, -58...3214 F",
				6,
				"type S, -50...1768 C, -58...3214 F",
				7,
				"type T, -270...400 C, -454...752 F",
				8,
				"type C, 0...2315 C, 32...4199 F",
				9,
				"type G, 0...2315 C, 32...4199 F",
				],
		},
		{
			name:"Thermocouple cold junc. config.",
			category:"Analog In",
			chan_unit:"",
			bitOffset:40,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:0,
			enumValues:
				[
				0,
				"PT1000",
				1,
				"PT100",
				2,
				"cold junction from channel 1",
				3,
				"none",
				],
		},
		{
			name:"Voltage range",
			category:"Analog In",
			chan_unit:"",
			bitOffset:16,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:9,
			defaultValue:0,
			enumValues:
				[
				0,
				"-10...10 V",
				1,
				"0...10 V",
				2,
				"2...10 V",
				3,
				"0...5 V",
				4,
				"1...5 V",
				5,
				"-1...1 V",
				6,
				"-500...500 mV",
				7,
				"-100...100 mV",
				8,
				"-50...50 mV",
				],
		},
		{
			name:"Voltage wiring type",
			category:"Analog In",
			chan_unit:"",
			bitOffset:20,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"differential",
				1,
				"single ended",
				2,
				"differential without ground",
				],
		},
		{
			name:"Current range",
			category:"Analog In",
			chan_unit:"",
			bitOffset:22,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"4...20 mA",
				1,
				"0...20 mA",
				2,
				"-20...20 mA",
				],
		},
		{
			name:"Current wiring type",
			category:"Analog In",
			chan_unit:"",
			bitOffset:24,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"differential",
				1,
				"single ended",
				2,
				"differential without ground",
				],
		},
		{
			name:"Resistance range",
			category:"Analog In",
			chan_unit:"",
			bitOffset:28,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:0,
			enumValues:
				[
				0,
				"0...100 Ohm",
				1,
				"0...400 Ohm",
				2,
				"0...2000 Ohm",
				3,
				"0...4000 Ohm",
				],
		},
		{
			name:"Resistance wiring type",
			category:"Analog In",
			chan_unit:"",
			bitOffset:26,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"2-wire",
				1,
				"3-wire",
				2,
				"4-wire",
				],
		},
		{
			name:"RTD type",
			category:"Analog In",
			chan_unit:"",
			bitOffset:32,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:12,
			defaultValue:0,
			enumValues:
				[
				0,
				"PT100, -200...850 C, -328...1562 F",
				1,
				"PT100, -200...150 C, -328...302 F",
				2,
				"NI100, -60...250 C, -76...482 F",
				3,
				"NI100, -60...150 C, -76...302 F",
				4,
				"PT200, -200...850 C, -328...1562 F",
				5,
				"PT200, -200...150 C, -328...302 F",
				6,
				"PT500, -200...850 C, -328...1562 F",
				7,
				"PT500, -200...150 C, -328...302 F",
				8,
				"PT1000, -200...850 C, -328...1562 F",
				9,
				"PT1000, -200...150 C, -328...302 F",
				10,
				"NI1000, -60...250 C, -76...482 F",
				11,
				"NI1000, -60...150 C, -76...302 F",
				],
		},
		{
			name:"RTD wiring type",
			category:"Analog In",
			chan_unit:"",
			bitOffset:30,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"2-wire",
				1,
				"3-wire",
				2,
				"4-wire",
				],
		},
		{
			name:"Data representation",
			category:"Analog In",
			chan_unit:"",
			bitOffset:10,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"standard",
				1,
				"NE43",
				2,
				"extended range",
				],
		},
		{
			name:"Temperature unit",
			category:"Analog In",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"Celsius",
				1,
				"Fahrenheit",
				],
		},
		{
			name:"Input averaging filter",
			category:"Analog In",
			chan_unit:"",
			bitOffset:12,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:0,
			enumValues:
				[
				0,
				"standard",
				1,
				"smooth",
				2,
				"fast",
				3,
				"off",
				],
		},
		{
			name:"Deactivate channel",
			category:"Analog In",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog In",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Mains suppression",
			category:"Analog In",
			chan_unit:"",
			bitOffset:0,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"50 Hz",
				2,
				"60 Hz",
				],
		},
		],
	max_size:48,
	},
	{
		sect_name:"Diag",
		num_elems:8,
		datapoints:
		[
		{
			name:"Upper limit value exceeded",
			category:"Analog In",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"Analog In",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overflow",
			category:"Analog In",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Underflow",
			category:"Analog In",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Cold junction error",
			category:"Analog In",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent (RTD only)",
			category:"Analog In",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break",
			category:"Analog In",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1",
			category:"Analog In",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Analog In",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Analog input diag",
	mod_id:0x1100000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:8,
		datapoints:
		[
		{
			name:"Upper limit value exceeded",
			category:"Diagnostic channel",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"Diagnostic channel",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overflow",
			category:"Diagnostic channel",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Underflow",
			category:"Diagnostic channel",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Cold junction compensation wire break",
			category:"Diagnostic channel",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent (RTD only)",
			category:"Diagnostic channel",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break",
			category:"Diagnostic channel",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1",
			category:"Diagnostic channel",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:39,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
];
var modules_TBEN_S2_4AO=
[{
	mod_name:"Analog output",
	mod_id:0x2182,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:9,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:4,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"voltage",
				1,
				"current",
				],
		},
		{
			name:"Current range",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:16,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0...20 mA",
				1,
				"4...20 mA",
				],
		},
		{
			name:"Voltage range",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:20,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:5,
			defaultValue:0,
			enumValues:
				[
				0,
				"-10...+10 V",
				1,
				"0...10 V",
				2,
				"2...10 V",
				3,
				"0...5 V",
				4,
				"1...5 V",
				],
		},
		{
			name:"Data representation",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:10,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"standard",
				1,
				"NE43",
				2,
				"extended range",
				],
		},
		{
			name:"Deactivate channel",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Output recovery mode",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				1,
				"manual",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Output on fieldbus error",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:0,
			bitLen:3,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"default value",
				1,
				"substitute value",
				2,
				"keep current value",
				],
		},
		{
			name:"Substitute value",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:48,
	},
	{
		sect_name:"Diag",
		num_elems:2,
		datapoints:
		[
		{
			name:"Overload",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:2,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Analog Out",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"Analog output diag",
	mod_id:0x100000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:2,
		datapoints:
		[
		{
			name:"Overload",
			category:"Diagnostic channel",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wire break",
			category:"Diagnostic channel",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:33,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
];
var modules_TBEN_S2_4IOL=
[{
	mod_name:"Basic",
	mod_id:0x102102,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:8,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:19,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:21,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:23,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Diag",
		num_elems:4,
		datapoints:
		[
		{
			name:"Overcurrent output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Input",
		num_elems:12,
		datapoints:
		[
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:18,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:20,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:22,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"DXP input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:23,
	},
	{
		sect_name:"Output",
		num_elems:4,
		datapoints:
		[
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"IO-Link Port",
	mod_id:0x492302,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:12,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:6,
			defaultValue:0,
			enumValues:
				[
				0,
				"IO-Link without validation",
				1,
				"IO-Link with family compatible device",
				2,
				"IO-Link with compatible device",
				3,
				"IO-Link with identical device",
				4,
				"DI (with parameter access)",
				8,
				"DI",
				],
		},
		{
			name:"Data storage mode",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:4,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:3,
			enumValues:
				[
				0,
				"activated",
				1,
				"overwrite",
				2,
				"read in",
				3,
				"deactivated, clear",
				],
		},
		{
			name:"Cycle time",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:84,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				16,
				"1.6 ms",
				32,
				"3.2 ms",
				48,
				"4.8 ms",
				64,
				"6.4 ms",
				68,
				"8.0 ms",
				72,
				"9.6 ms",
				76,
				"11.2 ms",
				80,
				"12.8 ms",
				84,
				"14.4 ms",
				88,
				"16.0 ms",
				92,
				"17.6 ms",
				96,
				"19.2 ms",
				100,
				"20.8 ms",
				104,
				"22.4 ms",
				108,
				"24.0 ms",
				112,
				"25.6 ms",
				116,
				"27.2 ms",
				120,
				"28.8 ms",
				124,
				"30.4 ms",
				128,
				"32.0 ms",
				129,
				"33.6 ms",
				130,
				"35.2 ms",
				131,
				"36.8 ms",
				132,
				"38.4 ms",
				133,
				"40.0 ms",
				134,
				"41.6 ms",
				135,
				"43.2 ms",
				136,
				"44.8 ms",
				137,
				"46.4 ms",
				138,
				"48.0 ms",
				139,
				"49.6 ms",
				140,
				"51.2 ms",
				141,
				"52.8 ms",
				142,
				"54.4 ms",
				143,
				"56.0 ms",
				144,
				"57.6 ms",
				145,
				"59.2 ms",
				146,
				"60.8 ms",
				147,
				"62.4 ms",
				148,
				"64.0 ms",
				149,
				"65.6 ms",
				150,
				"67.2 ms",
				151,
				"68.8 ms",
				152,
				"70.4 ms",
				153,
				"72.0 ms",
				154,
				"73.6 ms",
				155,
				"75.2 ms",
				156,
				"76.8 ms",
				157,
				"78.4 ms",
				158,
				"80.0 ms",
				159,
				"81.6 ms",
				160,
				"83.2 ms",
				161,
				"84.8 ms",
				162,
				"86.4 ms",
				163,
				"88.0 ms",
				164,
				"89.6 ms",
				165,
				"91.2 ms",
				166,
				"92.8 ms",
				167,
				"94.4 ms",
				168,
				"96.0 ms",
				169,
				"97.6 ms",
				170,
				"99.2 ms",
				171,
				"100.8 ms",
				172,
				"102.4 ms",
				173,
				"104.0 ms",
				174,
				"105.6 ms",
				175,
				"107.2 ms",
				176,
				"108.8 ms",
				177,
				"110.4 ms",
				178,
				"112.0 ms",
				179,
				"113.6 ms",
				180,
				"115.2 ms",
				181,
				"116.8 ms",
				182,
				"118.4 ms",
				183,
				"120.0 ms",
				184,
				"121.6 ms",
				185,
				"123.2 ms",
				186,
				"124.8 ms",
				187,
				"126.4 ms",
				188,
				"128.0 ms",
				189,
				"129.6 ms",
				190,
				"131.2 ms",
				191,
				"132.8 ms",
				],
		},
		{
			name:"Revision",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				1,
				"V1.0",
				],
		},
		{
			name:"Activate Quick Start-Up",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Device parametrization via GSD",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"inactive",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"diagnostic generated",
				1,
				"no diagnostic generated",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:18,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:2,
			enumValues:
				[
				0,
				"no",
				1,
				"notifications",
				2,
				"notifications and warnings",
				3,
				"yes",
				],
		},
		{
			name:"Input data mapping",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:20,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap",
				],
		},
		{
			name:"Output data mapping",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:22,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap",
				],
		},
		{
			name:"Vendor ID",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Device ID",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:112,
	},
	{
		sect_name:"Diag",
		num_elems:15,
		datapoints:
		[
		{
			name:"Wrong or missing device",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:16,
		datapoints:
		[
		{
			name:"Input data word 0",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 1",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 2",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 3",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 4",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 5",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 6",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 7",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 8",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 9",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 10",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 11",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 12",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:192,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 13",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:208,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 14",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:224,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 15",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:240,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:256,
	},
	{
		sect_name:"Output",
		num_elems:16,
		datapoints:
		[
		{
			name:"Output data word 0",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 1",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 2",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 3",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 4",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 5",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 6",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 7",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 8",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 9",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 10",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 11",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 12",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:192,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 13",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:208,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 14",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:224,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 15",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:240,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:256,
	},
	]
},
{
	mod_name:"Diagnostics",
	mod_id:0x240000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:64,
		datapoints:
		[
		{
			name:"Overcurrent output",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:18,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:34,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:50,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:66,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:19,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:35,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:51,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:67,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:21,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:37,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:53,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:69,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:20,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:36,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:52,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:68,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:22,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:38,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:54,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:70,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:23,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:39,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:55,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:71,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:56,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:72,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:25,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:41,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:57,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:73,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:26,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:42,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:58,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:74,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:27,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:43,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:59,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:75,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:28,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:44,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:60,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:76,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:29,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:45,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:61,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:77,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:30,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:46,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:62,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:78,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:31,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:47,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:63,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:79,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:33,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:49,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:65,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:80,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"IO-Link Events",
	mod_id:0x640000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Port",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:8,
			bitLen:8,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Qualifier",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:0,
			bitLen:8,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Event code",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:16,
			bitLen:16,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:528,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
];
var modules_TBEN_S2_DIG=
[{
	mod_name:"Basic",
	mod_id:0x2082,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Pin1 C0 (Ch0/1)",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C1 (Ch2/3)",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C2 (Ch4/5)",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C3 (Ch6/7)",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"Diagnostics",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Output values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Diagnostic",
	mod_id:0xD080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Pin1 C0 (Ch0/1)",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C1 (Ch2/3)",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C2 (Ch4/5)",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C3 (Ch6/7)",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Ext. Func. Digital",
	mod_id:0x202082,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"extended digital mode",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"digital filter and impulse stretch",
				4,
				"counter",
				],
		},
		{
			name:"input filter",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0.2 ms",
				1,
				"3 ms",
				],
		},
		{
			name:"impulse stretch (*10ms)",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Counter value",
			category:"Input values",
			chan_unit:"",
			bitOffset:0,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Counter frequency (Hz)",
			category:"Input values",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Status",
			category:"Input values",
			chan_unit:"",
			bitOffset:48,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:56,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Counter reset",
			category:"Output values",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"not active",
				1,
				"active",
				],
		},
		],
	max_size:1,
	},
	]
},
{
	mod_name:"Ext. Func. Digital",
	mod_id:0x2082102,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"extended digital mode",
			category:"PWM Output",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				2,
				"PWM out",
				],
		},
		],
	max_size:7,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent PWM output",
			category:"Diagnostics",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:1,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent PWM output",
			category:"Input values",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Duty cycle %",
			category:"Output values",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"VAUX control",
	mod_id:0x2002100,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX2 Pin1 C0 (Ch0/1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin1 C1 (Ch2/3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:8,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin1 C2 (Ch4/5)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:16,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin1 C3 (Ch6/7)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:24,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		],
	max_size:26,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX2 Pin1 C0 (Ch0/1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin1 C1 (Ch2/3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin1 C2 (Ch4/5)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin1 C3 (Ch6/7)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"Basic",
	mod_id:0x1082082,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Pin1 C0 (Ch0/1)",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C1 (Ch2/3)",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C2 (Ch4/5)",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C3 (Ch6/7)",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"Diagnostics",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Output values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Diagnostic",
	mod_id:0xF080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Pin1 C0 (Ch0/1)",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C1 (Ch2/3)",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C2 (Ch4/5)",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C3 (Ch6/7)",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"Diagnostics",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Ext. Func. Digital",
	mod_id:0x2000080,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"extended digital mode",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"digital filter and impulse stretch",
				],
		},
		{
			name:"input filter",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0.2 ms",
				1,
				"3 ms",
				],
		},
		{
			name:"impulse stretch (*10ms)",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Ext. Func. Digital",
	mod_id:0x1082102,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"extended digital mode",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"digital filter and impulse stretch",
				2,
				"PWM out",
				],
		},
		{
			name:"input filter",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0.2 ms",
				1,
				"3 ms",
				],
		},
		{
			name:"impulse stretch (*10ms)",
			category:"Ext. IO functions",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent PWM output",
			category:"Diagnostics",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:1,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Overcurrent PWM output",
			category:"Input values",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Duty cycle %",
			category:"Output values",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Input Latch Ch0-7",
	mod_id:0x2082000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Latch input",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Latch reset",
			category:"Output values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"VAUX control",
	mod_id:0x2100,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX1 Pin1 C0 (Ch0/1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 C1 (Ch2/3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:8,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin1 C2 (Ch4/5)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:16,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin1 C3 (Ch6/7)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:24,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		],
	max_size:26,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX1 Pin1 C0 (Ch0/1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 C1 (Ch2/3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin1 C2 (Ch4/5)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin1 C3 (Ch6/7)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"Basic",
	mod_id:0x80082,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:4,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Pin1 C0 (Ch0/1)",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C1 (Ch2/3)",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C2 (Ch4/5)",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C3 (Ch6/7)",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Diagnostic",
	mod_id:0xB080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:4,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Pin1 C0 (Ch0/1)",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C1 (Ch2/3)",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C2 (Ch4/5)",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C3 (Ch6/7)",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"VAUX control",
	mod_id:0x1002100,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX1 Pin1 C0 (Ch0/1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 C1 (Ch2/3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:8,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 C2 (Ch4/5)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:16,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 C3 (Ch6/7)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:24,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		],
	max_size:26,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX1 Pin1 C0 (Ch0/1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 C1 (Ch2/3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 C2 (Ch4/5)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 C3 (Ch6/7)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"Basic",
	mod_id:0x2082082,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"Digital Out",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:8,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Pin1 C0 (Ch0/1)",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C1 (Ch2/3)",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C2 (Ch4/5)",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C3 (Ch6/7)",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"Diagnostics",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Output values",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Diagnostic",
	mod_id:0xE080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Pin1 C0 (Ch0/1)",
			category:"Global",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 C1 (Ch2/3)",
			category:"Global",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C2 (Ch4/5)",
			category:"Global",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C3 (Ch6/7)",
			category:"Global",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:4,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Input Latch Ch0-3",
	mod_id:0x1082000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Latch input",
			category:"Input values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Latch reset",
			category:"Output values",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
];
var modules_FEN20_4IOL=
[{
	mod_name:"Basic",
	mod_id:0x4082082,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:4,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent supply VAUX1 Ch0",
			category:"IOL",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch1",
			category:"IOL",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch2",
			category:"IOL",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch3",
			category:"IOL",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Input",
		num_elems:2,
		datapoints:
		[
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:12,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
{
	mod_name:"Diagnostics",
	mod_id:0x2240000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:20,
		datapoints:
		[
		{
			name:"Overcurrent supply VAUX1 Ch0",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch1",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch2",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent supply VAUX1 Ch3",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:18,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:19,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:21,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:20,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:22,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:23,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:25,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:26,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:27,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:28,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:29,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:30,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:31,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:17,
			bitLen:1,
			bitIncremental:16,
			channelNumStart:0,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:95,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"IO-Link Events",
	mod_id:0x640000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Port",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:8,
			bitLen:8,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Qualifier",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:0,
			bitLen:8,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Event code",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:16,
			bitLen:16,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:528,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"IO-Link Port",
	mod_id:0x3492302,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:12,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:7,
			defaultValue:0,
			enumValues:
				[
				0,
				"IO-Link without validation",
				1,
				"IO-Link with family compatible device",
				2,
				"IO-Link with compatible device",
				3,
				"IO-Link with identical device",
				4,
				"DI (with parameter access)",
				8,
				"DI",
				9,
				"DX",
				],
		},
		{
			name:"Data storage mode",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:4,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:3,
			enumValues:
				[
				0,
				"activated",
				1,
				"overwrite",
				2,
				"read in",
				3,
				"deactivated, clear",
				],
		},
		{
			name:"Cycle time",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:91,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				16,
				"1.6 ms",
				24,
				"2.4 ms",
				32,
				"3.2 ms",
				40,
				"4.0 ms",
				48,
				"4.8 ms",
				56,
				"5.6 ms",
				64,
				"6.4 ms",
				66,
				"7.2 ms",
				68,
				"8.0 ms",
				70,
				"8.8 ms",
				72,
				"9.6 ms",
				74,
				"10.4 ms",
				76,
				"11.2 ms",
				78,
				"12.0 ms",
				80,
				"12.8 ms",
				84,
				"14.4 ms",
				88,
				"16.0 ms",
				92,
				"17.6 ms",
				96,
				"19.2 ms",
				100,
				"20.8 ms",
				104,
				"22.4 ms",
				108,
				"24.0 ms",
				112,
				"25.6 ms",
				116,
				"27.2 ms",
				120,
				"28.8 ms",
				124,
				"30.4 ms",
				128,
				"32.0 ms",
				129,
				"33.6 ms",
				130,
				"35.2 ms",
				131,
				"36.8 ms",
				132,
				"38.4 ms",
				133,
				"40.0 ms",
				134,
				"41.6 ms",
				135,
				"43.2 ms",
				136,
				"44.8 ms",
				137,
				"46.4 ms",
				138,
				"48.0 ms",
				139,
				"49.6 ms",
				140,
				"51.2 ms",
				141,
				"52.8 ms",
				142,
				"54.4 ms",
				143,
				"56.0 ms",
				144,
				"57.6 ms",
				145,
				"59.2 ms",
				146,
				"60.8 ms",
				147,
				"62.4 ms",
				148,
				"64.0 ms",
				149,
				"65.6 ms",
				150,
				"67.2 ms",
				151,
				"68.8 ms",
				152,
				"70.4 ms",
				153,
				"72.0 ms",
				154,
				"73.6 ms",
				155,
				"75.2 ms",
				156,
				"76.8 ms",
				157,
				"78.4 ms",
				158,
				"80.0 ms",
				159,
				"81.6 ms",
				160,
				"83.2 ms",
				161,
				"84.8 ms",
				162,
				"86.4 ms",
				163,
				"88.0 ms",
				164,
				"89.6 ms",
				165,
				"91.2 ms",
				166,
				"92.8 ms",
				167,
				"94.4 ms",
				168,
				"96.0 ms",
				169,
				"97.6 ms",
				170,
				"99.2 ms",
				171,
				"100.8 ms",
				172,
				"102.4 ms",
				173,
				"104.0 ms",
				174,
				"105.6 ms",
				175,
				"107.2 ms",
				176,
				"108.8 ms",
				177,
				"110.4 ms",
				178,
				"112.0 ms",
				179,
				"113.6 ms",
				180,
				"115.2 ms",
				181,
				"116.8 ms",
				182,
				"118.4 ms",
				183,
				"120.0 ms",
				184,
				"121.6 ms",
				185,
				"123.2 ms",
				186,
				"124.8 ms",
				187,
				"126.4 ms",
				188,
				"128.0 ms",
				189,
				"129.6 ms",
				190,
				"131.2 ms",
				191,
				"132.8 ms",
				],
		},
		{
			name:"Revision",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				1,
				"V1.0",
				],
		},
		{
			name:"Activate Quick Start-Up",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Device parametrization via GSD",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"inactive",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"diagnostic generated",
				1,
				"no diagnostic generated",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:18,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:2,
			enumValues:
				[
				0,
				"no",
				1,
				"notifications",
				2,
				"notifications and warnings",
				3,
				"yes",
				],
		},
		{
			name:"Input data mapping",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:20,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap all",
				],
		},
		{
			name:"Output data mapping",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:22,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap all",
				],
		},
		{
			name:"Vendor ID",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Device ID",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:112,
	},
	{
		sect_name:"Diag",
		num_elems:15,
		datapoints:
		[
		{
			name:"Wrong or missing device",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:16,
		datapoints:
		[
		{
			name:"Input data word 0",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 1",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 2",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 3",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 4",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 5",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 6",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 7",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 8",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 9",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 10",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 11",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 12",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:192,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 13",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:208,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 14",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:224,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 15",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:240,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:256,
	},
	{
		sect_name:"Output",
		num_elems:16,
		datapoints:
		[
		{
			name:"Output data word 0",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 1",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 2",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 3",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 4",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 5",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 6",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 7",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 8",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 9",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 10",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 11",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 12",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:192,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 13",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:208,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 14",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:224,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 15",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:240,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:256,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x13080000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"ARGEE program active",
			category:"Module state",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"VAUX control",
	mod_id:0x4002100,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX1 Pin3 (Ch0)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin5 (Ch1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:8,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin7 (Ch2)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:16,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin9 (Ch3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:24,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		],
	max_size:26,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX1 Pin3 (Ch0)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin5 (Ch1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin7 (Ch2)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin9 (Ch3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:4,
	},
	]
},
];
var modules_TBEN_L_4RFID=
[{
	mod_name:"DXP",
	mod_id:0x82104,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Pin1 C4 (Ch8/9)",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C5 (Ch10/11)",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C6 (Ch12/13)",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C7 (Ch14/15)",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"Diagnostics",
	mod_id:0x7100000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Pin1 C4 (Ch8/9)",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C5 (Ch10/11)",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C6 (Ch12/13)",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 C7 (Ch14/15)",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"VAUX control",
	mod_id:0x1002200,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX2 Pin1 C4 (Ch8/9)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:32,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin1 C5 (Ch10/11)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:40,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin1 C6 (Ch12/13)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:48,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin1 C7 (Ch14/15)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:56,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		],
	max_size:58,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX2 Pin1 C4 (Ch8/9)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin1 C5 (Ch10/11)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin1 C6 (Ch12/13)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin1 C7 (Ch14/15)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"RFID diagnostics",
	mod_id:0x880000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:32,
		datapoints:
		[
		{
			name:"Overcurrent supply VAUX1",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:36,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:37,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:38,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:39,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Overcurrent supply VAUX1",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:39,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:38,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:37,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:36,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:68,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:69,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:70,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:71,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Overcurrent supply VAUX1",
			category:"CH2 diagnosis",
			chan_unit:"",
			bitOffset:71,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"CH2 diagnosis",
			chan_unit:"",
			bitOffset:70,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"CH2 diagnosis",
			chan_unit:"",
			bitOffset:69,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"CH2 diagnosis",
			chan_unit:"",
			bitOffset:68,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"CH2 head",
			chan_unit:"head",
			bitOffset:100,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"CH2 head",
			chan_unit:"head",
			bitOffset:101,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"CH2 head",
			chan_unit:"head",
			bitOffset:102,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"CH2 head",
			chan_unit:"head",
			bitOffset:103,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Overcurrent supply VAUX1",
			category:"CH3 diagnosis",
			chan_unit:"",
			bitOffset:103,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"CH3 diagnosis",
			chan_unit:"",
			bitOffset:102,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"CH3 diagnosis",
			chan_unit:"",
			bitOffset:101,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"CH3 diagnosis",
			chan_unit:"",
			bitOffset:100,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"CH3 head",
			chan_unit:"head",
			bitOffset:132,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"CH3 head",
			chan_unit:"head",
			bitOffset:133,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"CH3 head",
			chan_unit:"head",
			bitOffset:134,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"CH3 head",
			chan_unit:"head",
			bitOffset:135,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:391,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"RFID control/status",
	mod_id:0x410493,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:15,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:6,
			defaultValue:1,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"HF compact",
				2,
				"HF extended",
				3,
				"HF bus mode",
				4,
				"UHF compact",
				5,
				"UHF extended",
				],
		},
		{
			name:"HF: Select Tag type",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:27,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic tag detection HF",
				1,
				"1: NXP Icode SLIX",
				2,
				"2: Fujitsu MB89R118",
				3,
				"3: TI Tag-it HF-I Plus",
				4,
				"4: Infineon SRF55V02P",
				5,
				"5: NXP Icode SLIX-S",
				6,
				"6: Fujitsu MB89R119",
				7,
				"7: TI Tag-it HF-I",
				8,
				"8: Infineon SRF55V10P",
				11,
				"11: NXP Icode SLIX-L",
				12,
				"12: Fujitsu MB89R112",
				13,
				"13: EM4233SLIC",
				14,
				"14: NXP SLIX2",
				15,
				"15: TI Tag-it HFI Pro",
				16,
				"16: Turck Sensor Tag",
				17,
				"17: Infineon SRF55V02S",
				18,
				"18: Infineon SRF55V10S",
				19,
				"19: EM4233",
				20,
				"20: EM4237",
				21,
				"21: EM4237 SLIC",
				22,
				"22: EM4237 SLIX",
				23,
				"23: EM4033",
				24,
				"24: reserved",
				25,
				"25: reserved",
				26,
				"26: reserved",
				27,
				"27: reserved",
				28,
				"28: reserved",
				],
		},
		{
			name:"HF: Bypass time (*1ms)",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:200,
			enumValues:
				[
				],
		},
		{
			name:"HF: Multitag",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:36,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Heart beat read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:37,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Termination active",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:38,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"yes",
				1,
				"no",
				],
		},
		{
			name:"HF: Autotuning read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:39,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate HF detuned diagnostic",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:40,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:47,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Command retries at failure",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:64,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:2,
			enumValues:
				[
				],
		},
		{
			name:"HF: Command in continuous mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:72,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				1,
				"Inventory",
				2,
				"Read",
				3,
				"Tag info",
				4,
				"Write",
				],
		},
		{
			name:"HF: Length in continuous mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:8,
			enumValues:
				[
				],
		},
		{
			name:"HF: Address in continuous mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:96,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"HF: Idle mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:48,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:0,
			enumValues:
				[
				0,
				"UID",
				1,
				"8 bytes user memory",
				2,
				"UID + 8 bytes user memory",
				3,
				"UID + 64 bytes user memory",
				],
		},
		{
			name:"Activate read-write-head",
			category:"Head",
			chan_unit:"head",
			bitOffset:224,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:256,
	},
	{
		sect_name:"Diag",
		num_elems:8,
		datapoints:
		[
		{
			name:"Overcurrent supply VAUX1",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"Head",
			chan_unit:"head",
			bitOffset:36,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"Head",
			chan_unit:"head",
			bitOffset:37,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"Head",
			chan_unit:"head",
			bitOffset:38,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"Head",
			chan_unit:"head",
			bitOffset:39,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:295,
	},
	{
		sect_name:"Input",
		num_elems:16,
		datapoints:
		[
		{
			name:"Response code",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:77,
			defaultValue:0,
			enumValues:
				[
				0,
				"0x0000 Idle",
				1,
				"0x0001 Inventory",
				2,
				"0x0002 Read",
				4,
				"0x0004 Write",
				8,
				"0x0008 Write and Verify",
				16,
				"0x0010 Continuous Mode",
				17,
				"0x0011 Get data from buffer (Continuous Mode)",
				18,
				"0x0012 Stop Continuous (Presence Sensing) Mode",
				32,
				"0x0020 UHF Continuous Presence Sensing Mode",
				64,
				"0x0040 HF Read/write head off",
				65,
				"0x0041 Read/write head identification",
				66,
				"0x0042 Get UHF read/write head status/error",
				80,
				"0x0050 Tag info",
				96,
				"0x0060 Direct read/write head command",
				112,
				"0x0070 Get HF read/write head address",
				113,
				"0x0071 Set HF read/write head address",
				128,
				"0x0080 Tune HF Read/write head",
				256,
				"0x0100 Set read/write head password",
				257,
				"0x0101 Reset read/write head password",
				258,
				"0x0102 Set tag password",
				259,
				"0x0103 Set tag protection",
				260,
				"0x0104 Get HF tag protection status",
				261,
				"0x0105 Set perma lock",
				512,
				"0x0200 Kill UHF tag",
				4096,
				"0x1000 Restore settings UHF read/write head",
				4097,
				"0x1001 Backup settings UHF read/write head",
				16385,
				"0x4001 Error - Inventory",
				16386,
				"0x4002 Error - Read",
				16388,
				"0x4004 Error - Write",
				16392,
				"0x4008 Error - Write and Verify",
				16400,
				"0x4010 Error - Continuous Mode",
				16401,
				"0x4011 Error - Get data from buffer (Continuous Mode)",
				16402,
				"0x4012 Error - Stop Continuous (Presence Sensing) Mode",
				16416,
				"0x4020 Error - UHF Continuous Presence Sensing Mode",
				16448,
				"0x4040 Error - HF Read/write head off",
				16449,
				"0x4041 Error - Read/write head identification",
				16450,
				"0x4042 Error - Get UHF read/write head status/error",
				16464,
				"0x4050 Error - Tag info",
				16480,
				"0x4060 Error - Direct read/write head command",
				16496,
				"0x4070 Error - Get HF read/write head address",
				16497,
				"0x4071 Error - Set HF read/write head address",
				16512,
				"0x4080 Error - Tune HF Read/write head",
				16640,
				"0x4100 Error - Set read/write head password",
				16641,
				"0x4101 Error - Reset read/write head password",
				16642,
				"0x4102 Error - Set tag password",
				16643,
				"0x4103 Error - Set tag protection",
				16644,
				"0x4104 Error - Get HF tag protection status",
				16645,
				"0x4105 Error - Set perma lock",
				16896,
				"0x4200 Error - Kill UHF tag",
				20480,
				"0x5000 Error - Restore settings UHF read/write head",
				20481,
				"0x5001 Error - Backup settings UHF read/write head",
				32768,
				"0x8000 Busy - Reset",
				32769,
				"0x8001 Busy - Inventory",
				32770,
				"0x8002 Busy - Read",
				32772,
				"0x8004 Busy - Write",
				32776,
				"0x8008 Busy - Write and Verify",
				32784,
				"0x8010 Busy - Continuous Mode",
				32785,
				"0x8011 Busy - Get data from buffer (Continuous Mode)",
				32786,
				"0x8012 Busy - Stop Continuous (Presence Sensing) Mode",
				32800,
				"0x8020 Busy - UHF Continuous Presence Sensing Mode",
				32832,
				"0x8040 Busy - HF Read/write head off",
				32833,
				"0x8041 Busy - Read/write head identification",
				32834,
				"0x8042 Busy - Get UHF read/write head status/error",
				32848,
				"0x8050 Busy - Tag info",
				32864,
				"0x8060 Busy - Direct read/write head command",
				32880,
				"0x8070 Busy - Get HF read/write head address",
				32881,
				"0x8071 Busy - Set HF read/write head address",
				32896,
				"0x8080 Busy - Tune HF Read/write head",
				33024,
				"0x8100 Busy - Set read/write head password",
				33025,
				"0x8101 Busy - Reset read/write head password",
				33026,
				"0x8102 Busy - Set tag password",
				33027,
				"0x8103 Busy - Set tag protection",
				33028,
				"0x8104 Busy - Get HF tag protection status",
				33029,
				"0x8105 Busy - Set perma lock",
				33280,
				"0x8200 Busy - Kill UHF tag",
				36864,
				"0x9000 Busy - Restore settings UHF read/write head",
				36865,
				"0x9001 Busy - Backup settings UHF read/write head",
				],
		},
		{
			name:"Tag present at r/w head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:32,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"HF r/w head switched on",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:40,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Continuous mode active",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:41,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Loop counter",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:36,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:37,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:38,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:39,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Length",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Error code",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:149,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				2049,
				"Write or read error",
				8192,
				"Kill command not successful",
				8704,
				"Automatic tuning active",
				8705,
				"Tuning failed",
				8706,
				"Antenna detuned",
				9472,
				"Password function of the tag not supported",
				9473,
				"Password function not supported by read/write head",
				10496,
				"Address outside of the block limits",
				10497,
				"Length outside of the block limits",
				32768,
				"Channel not active",
				32769,
				"Read/write head not connected",
				32770,
				"Memory full",
				32771,
				"Block size of the tag not supported",
				32772,
				"Length larger than the size of the read  fragment",
				32773,
				"Length larger than the size of the write fragment",
				32774,
				"Read/write head does not support bus mode",
				32775,
				"For addressing, only one read/write head may be connected.",
				33021,
				"-Bypass time- parameter outside of the permissible range",
				33022,
				"-Address- parameter in Continuous mode outside of the permissible range",
				33023,
				"No read/write head selected",
				33024,
				"Parameter undefined",
				33025,
				"-Operating mode- outside of the permissible range",
				33026,
				"-Tag type- parameter outside of the permissible range",
				33027,
				"-Operating mode- parameter in Continuous mode outside of the permissible range",
				33028,
				"-Length- parameter in Continuous mode outside of the permissible range",
				33029,
				"Size of the write fragment outside of the permissible range",
				33030,
				"Size of the read fragment outside of the permissible range",
				33280,
				"Command code unknown",
				33281,
				"Command not supported",
				33282,
				"Command not supported in HF applications",
				33283,
				"Command not supported in UHF applications",
				33284,
				"Command for multitag application with automatic tag detection not supported",
				33285,
				"Command for applications with automatic tag detection not supported",
				33286,
				"Command only supported for applications with automatic tag detection",
				33287,
				"Command not supported for multitag application",
				33288,
				"Command not supported in HF bus mode",
				33289,
				"-Length- parameter outside of the permissible range",
				33290,
				"Address outside of the permissible range",
				33291,
				"Length and address outside of the permissible range",
				33292,
				"No tag found",
				33293,
				"Timeout",
				33294,
				"Next command not supported in multitag mode",
				33295,
				"Length of the UID outside of the permissible range",
				33296,
				"Length outside of the tag specification",
				33297,
				"Address outside of the tag specification",
				33298,
				"Length and address outside of the tag specification",
				33299,
				"Memory area of the tag outside of the permissible range",
				33300,
				"Read/write head address outside of the permissible range",
				33301,
				"Value for timeout outside of the permissible range",
				33302,
				"Command not supported outside HF bus mode",
				33303,
				"Read/write head address invalid",
				33536,
				"Continuous mode command not activated",
				33537,
				"Grouping not supported in HF applications",
				33538,
				"Grouping not supported for read commands",
				33540,
				"Grouping not supported for write commands",
				33541,
				"-HF: Length in continuous mode- breaches block boundaries",
				33542,
				"-HF: Address in continuous mode- breaches block boundaries",
				33543,
				"-HF: Length in continuous mode- outside of the permissible range",
				45128,
				"Error when switching on the HF read/write head",
				45129,
				"Error when switching off the HF read/write head",
				45152,
				"Error with the advanced parameter setting of the HF read/write head",
				45153,
				"Error with the parameter setting of the HF read/write head",
				45154,
				"Read/write head error when executing an inventory command",
				45159,
				"Read/write head error when executing a lock block command",
				45160,
				"Read/write head error when executing a read multiple block command",
				45161,
				"Read/write head error when executing a write multiple block command",
				45162,
				"Error when reading the system information",
				45163,
				"Error when reading the protection status of the tags",
				45229,
				"Error when setting the HF read/write head address",
				45235,
				"Error when setting the tag password",
				45238,
				"Error when setting the write or read protection",
				45240,
				"Error when reading the protection status of the memory area on the tag",
				45245,
				"Error when setting the transfer rate",
				45251,
				"Error when setting the password in the read/write head",
				45274,
				"Error with the -Tag in detection range-",
				45280,
				"Error when reading the HF read/write head version",
				45281,
				"Error when reading the advanced read/write head version",
				45297,
				"Error with automatic read/write head tuning",
				45304,
				"Error when resetting a command in Continuous mode",
				45306,
				"Error when outputting the response code",
				45311,
				"Error when resetting the read/write head",
				49152,
				"Internal error (response of the read/write head too short)",
				49153,
				"Command not supported by read/write head version",
				53249,
				"Error when resetting the UHF read/write head",
				53250,
				"Error when reading the UHF read/write head version",
				53251,
				"Error when reading the read/write head version when a tag is in the detection range",
				53252,
				"Error when setting the UHF read/write head address",
				53257,
				"Error with the parameter setting of the UHF read/write head",
				53258,
				"Error setting the transfer speed and the operating mode of the UHF read/write head",
				53259,
				"Error when polling",
				53261,
				"Error when reading the device status",
				53262,
				"Error when resetting the internal status bit",
				53263,
				"Error when setting the read/write head outputs and/or LEDs",
				53265,
				"Error when reading the internal malfunctions",
				53268,
				"Diagnostics error",
				53270,
				"Error with the heartbeat message",
				53271,
				"Error when outputting the user settings",
				53275,
				"Error when emptying the message memory in Polling mode",
				53377,
				"Error when switching turning on/off UHF-carrier",
				53379,
				"Error when reading from a tag",
				53380,
				"Error when writing to a tag",
				53381,
				"Software trigger error",
				53384,
				"Error with a UHF tag function",
				53504,
				"Error with the Backup function",
				53505,
				"Error with the Backup function (required memory not available)",
				53506,
				"Error when restoring a backup",
				53507,
				"Error when restoring a backup (no backup present)",
				53508,
				"Error when restoring a backup (backup data damaged)",
				53509,
				"Error when restoring the default settings",
				53510,
				"Error with the tag function",
				61441,
				"ISO 15693 Error: Command not supported",
				61442,
				"ISO 15693 Error: Command not detected, e.g. incorrect input format",
				61443,
				"ISO 15693 Error: Command option not supported",
				61455,
				"ISO 15693 Error: Undefined error",
				61456,
				"ISO 15693 Error: Addressed memory area not available",
				61457,
				"ISO 15693 Error: Addressed memory area locked",
				61458,
				"ISO 15693 Error: Addressed memory area locked and not writable",
				61459,
				"ISO 15693 Error: Write operation not successful",
				61460,
				"ISO 15693 Error: Addressed memory area could not be locked",
				61697,
				"Error on air interface: CRC error",
				61698,
				"Error on air interface: Timeout",
				61699,
				"Error on air interface: HF tag error",
				61704,
				"Error on air interface: HF tag outside of the detection range, before all commands could be executed",
				61712,
				"Error on air interface: Tag does not have the expected UID/UII",
				61953,
				"HF read/write head faulty",
				61954,
				"HF read/write head: Error in command execution",
				61956,
				"HF read/write head: Transmission window, check syntax",
				61960,
				"Power supply of the HF read/write head too low",
				61962,
				"HF read/write head: Command code unknown",
				63520,
				"UHF read/write head: The command is not implemented in this device",
				63521,
				"UHF read/write head: Unspecified error",
				63522,
				"UHF read/write head: A valid password is expected before the command is accepted",
				63524,
				"UHF read/write head: No data could be read e.g. no valid Transponder",
				63525,
				"UHF read/write head: Write operation not possible e.g. Transponder is read only",
				63526,
				"UHF read/write head: Verify after write operation failed",
				63527,
				"UHF read/write head: Access to unknown address e.g. memory area out of range",
				63528,
				"UHF read/write head: The data that should be sent is not valid",
				63530,
				"UHF read/write head: The commands needs a long time to execute",
				63532,
				"UHF read/write head: The requested object is not in the persistent memory",
				63533,
				"UHF read/write head: The requested object is not in the volatile memory",
				63541,
				"UHF read/write head: The command is temporary not allowed",
				63542,
				"UHF read/write head: The Opcode is not valid for this type of configuration memory",
				63616,
				"UHF read/write head: No transponder in field",
				63617,
				"UHF read/write head: The EPC in the command does not fit to the EPC in the air interface",
				63618,
				"UHF read/write head: Wrong transponder type in the command",
				63619,
				"UHF read/write head: No success of writing on a block",
				65534,
				"Timeout on RS485",
				65535,
				"Command aborted",
				],
		},
		{
			name:"Tag counter",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Data (Bytes) available",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:112,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:120,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Tag present at r/w head",
			category:"Head",
			chan_unit:"head",
			bitOffset:160,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:192,
	},
	{
		sect_name:"Output",
		num_elems:10,
		datapoints:
		[
		{
			name:"Command code",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:27,
			defaultValue:0,
			enumValues:
				[
				0,
				"0x0000 Idle",
				1,
				"0x0001 Inventory",
				2,
				"0x0002 Read",
				4,
				"0x0004 Write",
				8,
				"0x0008 Write and Verify",
				16,
				"0x0010 Continuous Mode",
				17,
				"0x0011 Get data from buffer (Continuous Mode)",
				18,
				"0x0012 Stop Continuous (Presence Sensing) Mode",
				32,
				"0x0020 UHF Continuous Presence Sensing Mode",
				64,
				"0x0040 HF Read/write head off",
				65,
				"0x0041 Read/write head identification",
				66,
				"0x0042 Get UHF read/write head status/error",
				80,
				"0x0050 Tag info",
				96,
				"0x0060 Direct read/write head command",
				112,
				"0x0070 Get HF read/write head address",
				113,
				"0x0071 Set HF read/write head address",
				128,
				"0x0080 Tune HF Read/write head",
				256,
				"0x0100 Set read/write head password",
				257,
				"0x0101 Reset read/write head password",
				258,
				"0x0102 Set tag password",
				259,
				"0x0103 Set tag protection",
				260,
				"0x0104 Get HF tag protection status",
				261,
				"0x0105 Set perma lock",
				512,
				"0x0200 Kill UHF tag",
				4096,
				"0x1000 Restore settings UHF read/write head",
				4097,
				"0x1001 Backup settings UHF read/write head",
				32768,
				"0x8000 Reset",
				],
		},
		{
			name:"Loop counter",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"UHF: Memory area",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:6,
			defaultValue:0,
			enumValues:
				[
				0,
				"Kill password",
				1,
				"EPC",
				2,
				"TID",
				3,
				"User memory",
				4,
				"Access password",
				5,
				"PC (EPC length)",
				],
		},
		{
			name:"Start address",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:32,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Length",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Length of UID/EPC",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:80,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read/write head address",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:160,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Command timeout (*1ms)",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:112,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:120,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:168,
	},
	]
},
{
	mod_name:"RFID read data",
	mod_id:0x840080,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Length of read data",
			category:"RFID read data",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:16,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input buffer byte",
			category:"Byte",
			chan_unit:"byte",
			bitOffset:0,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:127,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:1024,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"RFID write data",
	mod_id:0x21080,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Length of write data",
			category:"RFID write data",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:16,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output buffer byte",
			category:"Byte",
			chan_unit:"byte",
			bitOffset:0,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:127,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:1024,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:6,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"ARGEE program active",
			category:"Module state",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Ext. DXP functions",
	mod_id:0x80,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Extended digital mode",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"digital filter and impulse stretch",
				],
		},
		{
			name:"Input filter",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0.2 ms",
				1,
				"3 ms",
				],
		},
		{
			name:"Impulse stretch (*10ms)",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
];
var modules_TBEN_LL_8IOL=
[{
	mod_name:"IO-Link Events",
	mod_id:0x640000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:3,
		datapoints:
		[
		{
			name:"Port",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:8,
			bitLen:8,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Qualifier",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:0,
			bitLen:8,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Event code",
			category:"IO-Link event",
			chan_unit:"event",
			bitOffset:16,
			bitLen:16,
			bitIncremental:32,
			channelNumStart:1,
			channelNumEnd:16,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:528,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"IO-Link Port",
	mod_id:0x492302,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:12,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:4,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:6,
			defaultValue:0,
			enumValues:
				[
				0,
				"IO-Link without validation",
				1,
				"IO-Link with family compatible device",
				2,
				"IO-Link with compatible device",
				3,
				"IO-Link with identical device",
				4,
				"DI (with parameter access)",
				8,
				"DI",
				],
		},
		{
			name:"Data storage mode",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:4,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:3,
			enumValues:
				[
				0,
				"activated",
				1,
				"overwrite",
				2,
				"read in",
				3,
				"deactivated, clear",
				],
		},
		{
			name:"Cycle time",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:92,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				16,
				"1.6 ms",
				24,
				"2.4 ms",
				32,
				"3.2 ms",
				40,
				"4.0 ms",
				48,
				"4.8 ms",
				56,
				"5.6 ms",
				64,
				"6.4 ms",
				66,
				"7.2 ms",
				68,
				"8.0 ms",
				70,
				"8.8 ms",
				72,
				"9.6 ms",
				74,
				"10.4 ms",
				76,
				"11.2 ms",
				78,
				"12.0 ms",
				80,
				"12.8 ms",
				84,
				"14.4 ms",
				88,
				"16.0 ms",
				92,
				"17.6 ms",
				96,
				"19.2 ms",
				100,
				"20.8 ms",
				104,
				"22.4 ms",
				108,
				"24.0 ms",
				112,
				"25.6 ms",
				116,
				"27.2 ms",
				120,
				"28.8 ms",
				124,
				"30.4 ms",
				128,
				"32.0 ms",
				129,
				"33.6 ms",
				130,
				"35.2 ms",
				131,
				"36.8 ms",
				132,
				"38.4 ms",
				133,
				"40.0 ms",
				134,
				"41.6 ms",
				135,
				"43.2 ms",
				136,
				"44.8 ms",
				137,
				"46.4 ms",
				138,
				"48.0 ms",
				139,
				"49.6 ms",
				140,
				"51.2 ms",
				141,
				"52.8 ms",
				142,
				"54.4 ms",
				143,
				"56.0 ms",
				144,
				"57.6 ms",
				145,
				"59.2 ms",
				146,
				"60.8 ms",
				147,
				"62.4 ms",
				148,
				"64.0 ms",
				149,
				"65.6 ms",
				150,
				"67.2 ms",
				151,
				"68.8 ms",
				152,
				"70.4 ms",
				153,
				"72.0 ms",
				154,
				"73.6 ms",
				155,
				"75.2 ms",
				156,
				"76.8 ms",
				157,
				"78.4 ms",
				158,
				"80.0 ms",
				159,
				"81.6 ms",
				160,
				"83.2 ms",
				161,
				"84.8 ms",
				162,
				"86.4 ms",
				163,
				"88.0 ms",
				164,
				"89.6 ms",
				165,
				"91.2 ms",
				166,
				"92.8 ms",
				167,
				"94.4 ms",
				168,
				"96.0 ms",
				169,
				"97.6 ms",
				170,
				"99.2 ms",
				171,
				"100.8 ms",
				172,
				"102.4 ms",
				173,
				"104.0 ms",
				174,
				"105.6 ms",
				175,
				"107.2 ms",
				176,
				"108.8 ms",
				177,
				"110.4 ms",
				178,
				"112.0 ms",
				179,
				"113.6 ms",
				180,
				"115.2 ms",
				181,
				"116.8 ms",
				182,
				"118.4 ms",
				183,
				"120.0 ms",
				184,
				"121.6 ms",
				185,
				"123.2 ms",
				186,
				"124.8 ms",
				187,
				"126.4 ms",
				188,
				"128.0 ms",
				189,
				"129.6 ms",
				190,
				"131.2 ms",
				191,
				"132.8 ms",
				255,
				"automatic, compatible",
				],
		},
		{
			name:"Revision",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic",
				1,
				"V1.0",
				],
		},
		{
			name:"Activate Quick Start-Up",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Device parametrization via GSD",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"inactive",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"diagnostic generated",
				1,
				"no diagnostic generated",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:18,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:2,
			enumValues:
				[
				0,
				"no",
				1,
				"notifications",
				2,
				"notifications and warnings",
				3,
				"yes",
				],
		},
		{
			name:"Input data mapping",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:20,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap all",
				],
		},
		{
			name:"Output data mapping",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:22,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				0,
				"direct",
				1,
				"swap 16 bit",
				2,
				"swap 32 bit",
				3,
				"swap all",
				],
		},
		{
			name:"Vendor ID",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Device ID",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:112,
	},
	{
		sect_name:"Diag",
		num_elems:15,
		datapoints:
		[
		{
			name:"Wrong or missing device",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:11,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Input",
		num_elems:16,
		datapoints:
		[
		{
			name:"Input data word 0",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 1",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 2",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 3",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 4",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 5",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 6",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 7",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 8",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 9",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 10",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 11",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 12",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:192,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 13",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:208,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 14",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:224,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Input data word 15",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:240,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:256,
	},
	{
		sect_name:"Output",
		num_elems:16,
		datapoints:
		[
		{
			name:"Output data word 0",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 1",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 2",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:32,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 3",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 4",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 5",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 6",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 7",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:112,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 8",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:128,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 9",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:144,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 10",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:160,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 11",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:176,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 12",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:192,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 13",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:208,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 14",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:224,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Output data word 15",
			category:"IO-Link port",
			chan_unit:"",
			bitOffset:240,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:256,
	},
	]
},
{
	mod_name:"Basic",
	mod_id:0x3102104,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:8,
		datapoints:
		[
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:19,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:21,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Activate output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:23,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Diag",
		num_elems:16,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Pin1 X0 (Ch0/1)",
			category:"DXP",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X1 (Ch2/3)",
			category:"DXP",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X2 (Ch4/5)",
			category:"DXP",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X3 (Ch6/7)",
			category:"DXP",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X4 (Ch8)",
			category:"DXP",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 X4 (Ch9)",
			category:"DXP",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X5 (Ch10)",
			category:"DXP",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 X5 (Ch11)",
			category:"DXP",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X6 (Ch12)",
			category:"DXP",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 X6 (Ch13)",
			category:"DXP",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X7 (Ch14)",
			category:"DXP",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 X7 (Ch15)",
			category:"DXP",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:19,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:21,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:23,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:24,
	},
	{
		sect_name:"Input",
		num_elems:20,
		datapoints:
		[
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DI input",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:16,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:18,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:20,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:22,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:26,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:28,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Input values valid",
			category:"IOL",
			chan_unit:"Channel",
			bitOffset:30,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"DXP input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP input value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:31,
	},
	{
		sect_name:"Output",
		num_elems:4,
		datapoints:
		[
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"DXP Output value",
			category:"DXP",
			chan_unit:"Channel",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"Diagnostics",
	mod_id:0x1380000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:136,
		datapoints:
		[
		{
			name:"Overcurrent VAUX1 Pin1 X0 (Ch0/1)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X1 (Ch2/3)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X2 (Ch4/5)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X3 (Ch6/7)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X4 (Ch8)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 X4 (Ch9)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X5 (Ch10)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 X5 (Ch11)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X6 (Ch12)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 X6 (Ch13)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX1 Pin1 X7 (Ch14)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin2 X7 (Ch15)",
			category:"Groupe diagnosis",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:17,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:19,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:21,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:5,
			channelNumEnd:5,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"DXP channel",
			chan_unit:"Channel",
			bitOffset:23,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:7,
			channelNumEnd:7,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:34,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:98,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:50,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:114,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:66,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:130,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:82,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Wrong or missing device",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:146,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:35,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:99,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:51,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:115,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:67,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:131,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:83,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Data storage error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:147,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:37,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:101,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:53,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:117,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:69,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:133,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:85,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Process input data invalid",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:149,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:36,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:100,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:52,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:116,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:68,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:132,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:84,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Hardware error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:148,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:38,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:102,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:54,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:118,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:70,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:134,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:86,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Maintenance events",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:150,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:39,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:103,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:55,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:119,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:71,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:135,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:87,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Out of spec. error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:151,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:40,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:104,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:56,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:120,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:72,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:136,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:88,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:152,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:41,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:105,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:57,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:121,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:73,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:137,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:89,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overtemperature",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:153,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:42,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:106,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:58,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:122,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:74,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:138,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:90,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Lower limit value underrun",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:154,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:43,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:107,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:59,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:123,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:75,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:139,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:91,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Upper limit value exceeded",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:155,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:44,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:108,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:60,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:124,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:76,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:140,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:92,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:156,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:45,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:109,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:61,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:125,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:77,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:141,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:93,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overvoltage",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:157,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:46,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:110,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:62,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:126,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:78,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:142,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:94,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overload",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:158,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:47,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:111,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:63,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:127,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:79,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:143,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:95,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Common error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:159,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:33,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:97,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:8,
			channelNumEnd:8,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:49,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:113,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:10,
			channelNumEnd:10,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:65,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:4,
			channelNumEnd:4,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:129,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:12,
			channelNumEnd:12,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:81,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:6,
			channelNumEnd:6,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Port parameterization error",
			category:"IO-Link channel",
			chan_unit:"Channel",
			bitOffset:145,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:14,
			channelNumEnd:14,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:160,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"VAUX control",
	mod_id:0x1002300,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:12,
		datapoints:
		[
		{
			name:"VAUX1 Pin1 X0 (Ch0/1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 X1 (Ch2/3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:8,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 X2 (Ch4/5)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:16,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 X3 (Ch6/7)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:24,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 X4 (Ch8)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:32,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin2 X4 (Ch9)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:96,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 X5 (Ch10)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:40,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin2 X5 (Ch11)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:104,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 X6 (Ch12)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:48,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin2 X6 (Ch13)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:112,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX1 Pin1 X7 (Ch14)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:56,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin2 X7 (Ch15)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:120,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		],
	max_size:122,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:12,
		datapoints:
		[
		{
			name:"VAUX1 Pin1 X0 (Ch0/1)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 X1 (Ch2/3)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 X2 (Ch4/5)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:2,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 X3 (Ch6/7)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:3,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 X4 (Ch8)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin2 X4 (Ch9)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:12,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 X5 (Ch10)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin2 X5 (Ch11)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:13,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 X6 (Ch12)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin2 X6 (Ch13)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX1 Pin1 X7 (Ch14)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin2 X7 (Ch15)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:15,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:6,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"ARGEE program active",
			category:"Module state",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
];
var modules_TBEN_LL_4RFID=
[{
	mod_name:"DXP",
	mod_id:0x1082104,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:2,
		datapoints:
		[
		{
			name:"Activate output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:1,
			enumLen:2,
			defaultValue:1,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Manual reset after overcurr.",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Diag",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Pin1 X4 (Ch8/9)",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 X5 (Ch10/11)",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 X6 (Ch12/13)",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 X7 (Ch14/15)",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output value",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:8,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:16,
	},
	]
},
{
	mod_name:"Diagnostics",
	mod_id:0xA100000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:5,
		datapoints:
		[
		{
			name:"Overcurrent VAUX2 Pin1 X4 (Ch8/9)",
			category:"Global",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 X5 (Ch10/11)",
			category:"Global",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 X6 (Ch12/13)",
			category:"Global",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent VAUX2 Pin1 X7 (Ch14/15)",
			category:"Global",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Overcurrent output",
			category:"Digital In/Out",
			chan_unit:"Channel",
			bitOffset:24,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:8,
			channelNumEnd:15,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:32,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"VAUX control",
	mod_id:0x2002200,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX2 Pin1 X4 (Ch8/9)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:32,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin1 X5 (Ch10/11)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:40,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin1 X6 (Ch12/13)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:48,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		{
			name:"VAUX2 Pin1 X7 (Ch14/15)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:56,
			bitLen:2,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:3,
			defaultValue:0,
			enumValues:
				[
				0,
				"24 VDC",
				1,
				"switchable",
				2,
				"off",
				],
		},
		],
	max_size:58,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:4,
		datapoints:
		[
		{
			name:"VAUX2 Pin1 X4 (Ch8/9)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin1 X5 (Ch10/11)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin1 X6 (Ch12/13)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		{
			name:"VAUX2 Pin1 X7 (Ch14/15)",
			category:"VAUX control",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"off",
				1,
				"on",
				],
		},
		],
	max_size:8,
	},
	]
},
{
	mod_name:"RFID diagnostics",
	mod_id:0x880000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:32,
		datapoints:
		[
		{
			name:"Overcurrent supply VAUX1",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"CH0 diagnosis",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:36,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:37,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:38,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"CH0 head",
			chan_unit:"head",
			bitOffset:39,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Overcurrent supply VAUX1",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:295,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:294,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:293,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"CH1 diagnosis",
			chan_unit:"",
			bitOffset:292,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:1,
			channelNumEnd:1,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:324,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:325,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:326,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"CH1 head",
			chan_unit:"head",
			bitOffset:327,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Overcurrent supply VAUX1",
			category:"CH2 diagnosis",
			chan_unit:"",
			bitOffset:583,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"CH2 diagnosis",
			chan_unit:"",
			bitOffset:582,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"CH2 diagnosis",
			chan_unit:"",
			bitOffset:581,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"CH2 diagnosis",
			chan_unit:"",
			bitOffset:580,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:2,
			channelNumEnd:2,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"CH2 head",
			chan_unit:"head",
			bitOffset:612,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"CH2 head",
			chan_unit:"head",
			bitOffset:613,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"CH2 head",
			chan_unit:"head",
			bitOffset:614,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"CH2 head",
			chan_unit:"head",
			bitOffset:615,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Overcurrent supply VAUX1",
			category:"CH3 diagnosis",
			chan_unit:"",
			bitOffset:871,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"CH3 diagnosis",
			chan_unit:"",
			bitOffset:870,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"CH3 diagnosis",
			chan_unit:"",
			bitOffset:869,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"CH3 diagnosis",
			chan_unit:"",
			bitOffset:868,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:3,
			channelNumEnd:3,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"CH3 head",
			chan_unit:"head",
			bitOffset:900,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"CH3 head",
			chan_unit:"head",
			bitOffset:901,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"CH3 head",
			chan_unit:"head",
			bitOffset:902,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"CH3 head",
			chan_unit:"head",
			bitOffset:903,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:1159,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"Ext. DXP functions",
	mod_id:0x80,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:3,
		datapoints:
		[
		{
			name:"Extended digital mode",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:0,
			bitLen:7,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"digital filter and impulse stretch",
				],
		},
		{
			name:"Input filter",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"0.2 ms",
				1,
				"3 ms",
				],
		},
		{
			name:"Impulse stretch (*10ms)",
			category:"DXP extended",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"RFID control/status",
	mod_id:0x410493,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:15,
		datapoints:
		[
		{
			name:"Operation mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:0,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:6,
			defaultValue:1,
			enumValues:
				[
				0,
				"deactivated",
				1,
				"HF compact",
				2,
				"HF extended",
				3,
				"HF bus mode",
				4,
				"UHF compact",
				5,
				"UHF extended",
				],
		},
		{
			name:"HF: Select Tag type",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:8,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:27,
			defaultValue:0,
			enumValues:
				[
				0,
				"automatic tag detection HF",
				1,
				"1: NXP Icode SLIX",
				2,
				"2: Fujitsu MB89R118",
				3,
				"3: TI Tag-it HF-I Plus",
				4,
				"4: Infineon SRF55V02P",
				5,
				"5: NXP Icode SLIX-S",
				6,
				"6: Fujitsu MB89R119",
				7,
				"7: TI Tag-it HF-I",
				8,
				"8: Infineon SRF55V10P",
				11,
				"11: NXP Icode SLIX-L",
				12,
				"12: Fujitsu MB89R112",
				13,
				"13: EM4233SLIC",
				14,
				"14: NXP SLIX2",
				15,
				"15: TI Tag-it HFI Pro",
				16,
				"16: Turck Sensor Tag",
				17,
				"17: Infineon SRF55V02S",
				18,
				"18: Infineon SRF55V10S",
				19,
				"19: EM4233",
				20,
				"20: EM4237",
				21,
				"21: EM4237 SLIC",
				22,
				"22: EM4237 SLIX",
				23,
				"23: EM4033",
				24,
				"24: reserved",
				25,
				"25: reserved",
				26,
				"26: reserved",
				27,
				"27: reserved",
				28,
				"28: reserved",
				],
		},
		{
			name:"HF: Bypass time (*1ms)",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:16,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:200,
			enumValues:
				[
				],
		},
		{
			name:"HF: Multitag",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:36,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Heart beat read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:37,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Termination active",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:38,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"yes",
				1,
				"no",
				],
		},
		{
			name:"HF: Autotuning read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:39,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate HF detuned diagnostic",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:40,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Deactivate diagnostics",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:47,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Command retries at failure",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:64,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:2,
			enumValues:
				[
				],
		},
		{
			name:"HF: Command in continuous mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:72,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:4,
			defaultValue:1,
			enumValues:
				[
				1,
				"Inventory",
				2,
				"Read",
				3,
				"Tag info",
				4,
				"Write",
				],
		},
		{
			name:"HF: Length in continuous mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:8,
			enumValues:
				[
				],
		},
		{
			name:"HF: Address in continuous mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:96,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"HF: Idle mode",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:48,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:5,
			defaultValue:0,
			enumValues:
				[
				0,
				"UID",
				1,
				"8 bytes user memory",
				2,
				"UID + 8 bytes user memory",
				3,
				"UID + 64 bytes user memory",
				4,
				"deactivated",
				],
		},
		{
			name:"Activate read-write-head",
			category:"Head",
			chan_unit:"head",
			bitOffset:224,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:256,
	},
	{
		sect_name:"Diag",
		num_elems:8,
		datapoints:
		[
		{
			name:"Overcurrent supply VAUX1",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameterization error",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:6,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Configuration via DTM active",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:5,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Buffer full",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:4,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"Head",
			chan_unit:"head",
			bitOffset:36,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"Head",
			chan_unit:"head",
			bitOffset:37,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"Head",
			chan_unit:"head",
			bitOffset:38,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"Head",
			chan_unit:"head",
			bitOffset:39,
			bitLen:1,
			bitIncremental:8,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:295,
	},
	{
		sect_name:"Input",
		num_elems:16,
		datapoints:
		[
		{
			name:"Response code",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:77,
			defaultValue:0,
			enumValues:
				[
				0,
				"0x0000 Idle",
				1,
				"0x0001 Inventory",
				2,
				"0x0002 Read",
				4,
				"0x0004 Write",
				8,
				"0x0008 Write and Verify",
				16,
				"0x0010 Continuous Mode",
				17,
				"0x0011 Get data from buffer (Continuous Mode)",
				18,
				"0x0012 Stop Continuous (Presence Sensing) Mode",
				32,
				"0x0020 UHF Continuous Presence Sensing Mode",
				64,
				"0x0040 HF Read/write head off",
				65,
				"0x0041 Read/write head identification",
				66,
				"0x0042 Get UHF read/write head status/error",
				80,
				"0x0050 Tag info",
				96,
				"0x0060 Direct read/write head command",
				112,
				"0x0070 Get HF read/write head address",
				113,
				"0x0071 Set HF read/write head address",
				128,
				"0x0080 Tune HF Read/write head",
				256,
				"0x0100 Set read/write head password",
				257,
				"0x0101 Reset read/write head password",
				258,
				"0x0102 Set tag password",
				259,
				"0x0103 Set tag protection",
				260,
				"0x0104 Get HF tag protection status",
				261,
				"0x0105 Set perma lock",
				512,
				"0x0200 Kill UHF tag",
				4096,
				"0x1000 Restore settings UHF read/write head",
				4097,
				"0x1001 Backup settings UHF read/write head",
				16385,
				"0x4001 Error - Inventory",
				16386,
				"0x4002 Error - Read",
				16388,
				"0x4004 Error - Write",
				16392,
				"0x4008 Error - Write and Verify",
				16400,
				"0x4010 Error - Continuous Mode",
				16401,
				"0x4011 Error - Get data from buffer (Continuous Mode)",
				16402,
				"0x4012 Error - Stop Continuous (Presence Sensing) Mode",
				16416,
				"0x4020 Error - UHF Continuous Presence Sensing Mode",
				16448,
				"0x4040 Error - HF Read/write head off",
				16449,
				"0x4041 Error - Read/write head identification",
				16450,
				"0x4042 Error - Get UHF read/write head status/error",
				16464,
				"0x4050 Error - Tag info",
				16480,
				"0x4060 Error - Direct read/write head command",
				16496,
				"0x4070 Error - Get HF read/write head address",
				16497,
				"0x4071 Error - Set HF read/write head address",
				16512,
				"0x4080 Error - Tune HF Read/write head",
				16640,
				"0x4100 Error - Set read/write head password",
				16641,
				"0x4101 Error - Reset read/write head password",
				16642,
				"0x4102 Error - Set tag password",
				16643,
				"0x4103 Error - Set tag protection",
				16644,
				"0x4104 Error - Get HF tag protection status",
				16645,
				"0x4105 Error - Set perma lock",
				16896,
				"0x4200 Error - Kill UHF tag",
				20480,
				"0x5000 Error - Restore settings UHF read/write head",
				20481,
				"0x5001 Error - Backup settings UHF read/write head",
				32768,
				"0x8000 Busy - Reset",
				32769,
				"0x8001 Busy - Inventory",
				32770,
				"0x8002 Busy - Read",
				32772,
				"0x8004 Busy - Write",
				32776,
				"0x8008 Busy - Write and Verify",
				32784,
				"0x8010 Busy - Continuous Mode",
				32785,
				"0x8011 Busy - Get data from buffer (Continuous Mode)",
				32786,
				"0x8012 Busy - Stop Continuous (Presence Sensing) Mode",
				32800,
				"0x8020 Busy - UHF Continuous Presence Sensing Mode",
				32832,
				"0x8040 Busy - HF Read/write head off",
				32833,
				"0x8041 Busy - Read/write head identification",
				32834,
				"0x8042 Busy - Get UHF read/write head status/error",
				32848,
				"0x8050 Busy - Tag info",
				32864,
				"0x8060 Busy - Direct read/write head command",
				32880,
				"0x8070 Busy - Get HF read/write head address",
				32881,
				"0x8071 Busy - Set HF read/write head address",
				32896,
				"0x8080 Busy - Tune HF Read/write head",
				33024,
				"0x8100 Busy - Set read/write head password",
				33025,
				"0x8101 Busy - Reset read/write head password",
				33026,
				"0x8102 Busy - Set tag password",
				33027,
				"0x8103 Busy - Set tag protection",
				33028,
				"0x8104 Busy - Get HF tag protection status",
				33029,
				"0x8105 Busy - Set perma lock",
				33280,
				"0x8200 Busy - Kill UHF tag",
				36864,
				"0x9000 Busy - Restore settings UHF read/write head",
				36865,
				"0x9001 Busy - Backup settings UHF read/write head",
				],
		},
		{
			name:"Tag present at r/w head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:32,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"HF r/w head switched on",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:40,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Continuous mode active",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:41,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Loop counter",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Antenna detuned at HF read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:36,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Parameter not supported by read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:37,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Error reported by read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:38,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Not connected to read/write head",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:39,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		{
			name:"Length",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:48,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Error code",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:149,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				2049,
				"Write or read error",
				8192,
				"Kill command not successful",
				8704,
				"Automatic tuning active",
				8705,
				"Tuning failed",
				8706,
				"Antenna detuned",
				9472,
				"Password function of the tag not supported",
				9473,
				"Password function not supported by read/write head",
				10496,
				"Address outside of the block limits",
				10497,
				"Length outside of the block limits",
				32768,
				"Channel not active",
				32769,
				"Read/write head not connected",
				32770,
				"Memory full",
				32771,
				"Block size of the tag not supported",
				32772,
				"Length larger than the size of the read  fragment",
				32773,
				"Length larger than the size of the write fragment",
				32774,
				"Read/write head does not support bus mode",
				32775,
				"For addressing, only one read/write head may be connected.",
				33021,
				"-Bypass time- parameter outside of the permissible range",
				33022,
				"-Address- parameter in Continuous mode outside of the permissible range",
				33023,
				"No read/write head selected",
				33024,
				"Parameter undefined",
				33025,
				"-Operating mode- outside of the permissible range",
				33026,
				"-Tag type- parameter outside of the permissible range",
				33027,
				"-Operating mode- parameter in Continuous mode outside of the permissible range",
				33028,
				"-Length- parameter in Continuous mode outside of the permissible range",
				33029,
				"Size of the write fragment outside of the permissible range",
				33030,
				"Size of the read fragment outside of the permissible range",
				33280,
				"Command code unknown",
				33281,
				"Command not supported",
				33282,
				"Command not supported in HF applications",
				33283,
				"Command not supported in UHF applications",
				33284,
				"Command for multitag application with automatic tag detection not supported",
				33285,
				"Command for applications with automatic tag detection not supported",
				33286,
				"Command only supported for applications with automatic tag detection",
				33287,
				"Command not supported for multitag application",
				33288,
				"Command not supported in HF bus mode",
				33289,
				"-Length- parameter outside of the permissible range",
				33290,
				"Address outside of the permissible range",
				33291,
				"Length and address outside of the permissible range",
				33292,
				"No tag found",
				33293,
				"Timeout",
				33294,
				"Next command not supported in multitag mode",
				33295,
				"Length of the UID outside of the permissible range",
				33296,
				"Length outside of the tag specification",
				33297,
				"Address outside of the tag specification",
				33298,
				"Length and address outside of the tag specification",
				33299,
				"Memory area of the tag outside of the permissible range",
				33300,
				"Read/write head address outside of the permissible range",
				33301,
				"Value for timeout outside of the permissible range",
				33302,
				"Command not supported outside HF bus mode",
				33303,
				"Read/write head address invalid",
				33536,
				"Continuous mode command not activated",
				33537,
				"Grouping not supported in HF applications",
				33538,
				"Grouping not supported for read commands",
				33540,
				"Grouping not supported for write commands",
				33541,
				"-HF: Length in continuous mode- breaches block boundaries",
				33542,
				"-HF: Address in continuous mode- breaches block boundaries",
				33543,
				"-HF: Length in continuous mode- outside of the permissible range",
				45128,
				"Error when switching on the HF read/write head",
				45129,
				"Error when switching off the HF read/write head",
				45152,
				"Error with the advanced parameter setting of the HF read/write head",
				45153,
				"Error with the parameter setting of the HF read/write head",
				45154,
				"Read/write head error when executing an inventory command",
				45159,
				"Read/write head error when executing a lock block command",
				45160,
				"Read/write head error when executing a read multiple block command",
				45161,
				"Read/write head error when executing a write multiple block command",
				45162,
				"Error when reading the system information",
				45163,
				"Error when reading the protection status of the tags",
				45229,
				"Error when setting the HF read/write head address",
				45235,
				"Error when setting the tag password",
				45238,
				"Error when setting the write or read protection",
				45240,
				"Error when reading the protection status of the memory area on the tag",
				45245,
				"Error when setting the transfer rate",
				45251,
				"Error when setting the password in the read/write head",
				45274,
				"Error with the -Tag in detection range-",
				45280,
				"Error when reading the HF read/write head version",
				45281,
				"Error when reading the advanced read/write head version",
				45297,
				"Error with automatic read/write head tuning",
				45304,
				"Error when resetting a command in Continuous mode",
				45306,
				"Error when outputting the response code",
				45311,
				"Error when resetting the read/write head",
				49152,
				"Internal error (response of the read/write head too short)",
				49153,
				"Command not supported by read/write head version",
				53249,
				"Error when resetting the UHF read/write head",
				53250,
				"Error when reading the UHF read/write head version",
				53251,
				"Error when reading the read/write head version when a tag is in the detection range",
				53252,
				"Error when setting the UHF read/write head address",
				53257,
				"Error with the parameter setting of the UHF read/write head",
				53258,
				"Error setting the transfer speed and the operating mode of the UHF read/write head",
				53259,
				"Error when polling",
				53261,
				"Error when reading the device status",
				53262,
				"Error when resetting the internal status bit",
				53263,
				"Error when setting the read/write head outputs and/or LEDs",
				53265,
				"Error when reading the internal malfunctions",
				53268,
				"Diagnostics error",
				53270,
				"Error with the heartbeat message",
				53271,
				"Error when outputting the user settings",
				53275,
				"Error when emptying the message memory in Polling mode",
				53377,
				"Error when switching turning on/off UHF-carrier",
				53379,
				"Error when reading from a tag",
				53380,
				"Error when writing to a tag",
				53381,
				"Software trigger error",
				53384,
				"Error with a UHF tag function",
				53504,
				"Error with the Backup function",
				53505,
				"Error with the Backup function (required memory not available)",
				53506,
				"Error when restoring a backup",
				53507,
				"Error when restoring a backup (no backup present)",
				53508,
				"Error when restoring a backup (backup data damaged)",
				53509,
				"Error when restoring the default settings",
				53510,
				"Error with the tag function",
				61441,
				"ISO 15693 Error: Command not supported",
				61442,
				"ISO 15693 Error: Command not detected, e.g. incorrect input format",
				61443,
				"ISO 15693 Error: Command option not supported",
				61455,
				"ISO 15693 Error: Undefined error",
				61456,
				"ISO 15693 Error: Addressed memory area not available",
				61457,
				"ISO 15693 Error: Addressed memory area locked",
				61458,
				"ISO 15693 Error: Addressed memory area locked and not writable",
				61459,
				"ISO 15693 Error: Write operation not successful",
				61460,
				"ISO 15693 Error: Addressed memory area could not be locked",
				61697,
				"Error on air interface: CRC error",
				61698,
				"Error on air interface: Timeout",
				61699,
				"Error on air interface: HF tag error",
				61704,
				"Error on air interface: HF tag outside of the detection range, before all commands could be executed",
				61712,
				"Error on air interface: Tag does not have the expected UID/UII",
				61953,
				"HF read/write head faulty",
				61954,
				"HF read/write head: Error in command execution",
				61956,
				"HF read/write head: Transmission window, check syntax",
				61960,
				"Power supply of the HF read/write head too low",
				61962,
				"HF read/write head: Command code unknown",
				63520,
				"UHF read/write head: The command is not implemented in this device",
				63521,
				"UHF read/write head: Unspecified error",
				63522,
				"UHF read/write head: A valid password is expected before the command is accepted",
				63524,
				"UHF read/write head: No data could be read e.g. no valid Transponder",
				63525,
				"UHF read/write head: Write operation not possible e.g. Transponder is read only",
				63526,
				"UHF read/write head: Verify after write operation failed",
				63527,
				"UHF read/write head: Access to unknown address e.g. memory area out of range",
				63528,
				"UHF read/write head: The data that should be sent is not valid",
				63530,
				"UHF read/write head: The commands needs a long time to execute",
				63532,
				"UHF read/write head: The requested object is not in the persistent memory",
				63533,
				"UHF read/write head: The requested object is not in the volatile memory",
				63541,
				"UHF read/write head: The command is temporary not allowed",
				63542,
				"UHF read/write head: The Opcode is not valid for this type of configuration memory",
				63616,
				"UHF read/write head: No transponder in field",
				63617,
				"UHF read/write head: The EPC in the command does not fit to the EPC in the air interface",
				63618,
				"UHF read/write head: Wrong transponder type in the command",
				63619,
				"UHF read/write head: No success of writing on a block",
				65534,
				"Timeout on RS485",
				65535,
				"Command aborted",
				],
		},
		{
			name:"Tag counter",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:80,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Data (Bytes) available",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:112,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:120,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Tag present at r/w head",
			category:"Head",
			chan_unit:"head",
			bitOffset:160,
			bitLen:1,
			bitIncremental:1,
			channelNumStart:1,
			channelNumEnd:32,
			dataType:2,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"no",
				1,
				"yes",
				],
		},
		],
	max_size:192,
	},
	{
		sect_name:"Output",
		num_elems:10,
		datapoints:
		[
		{
			name:"Command code",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:27,
			defaultValue:0,
			enumValues:
				[
				0,
				"0x0000 Idle",
				1,
				"0x0001 Inventory",
				2,
				"0x0002 Read",
				4,
				"0x0004 Write",
				8,
				"0x0008 Write and Verify",
				16,
				"0x0010 Continuous Mode",
				17,
				"0x0011 Get data from buffer (Continuous Mode)",
				18,
				"0x0012 Stop Continuous (Presence Sensing) Mode",
				32,
				"0x0020 UHF Continuous Presence Sensing Mode",
				64,
				"0x0040 HF Read/write head off",
				65,
				"0x0041 Read/write head identification",
				66,
				"0x0042 Get UHF read/write head status/error",
				80,
				"0x0050 Tag info",
				96,
				"0x0060 Direct read/write head command",
				112,
				"0x0070 Get HF read/write head address",
				113,
				"0x0071 Set HF read/write head address",
				128,
				"0x0080 Tune HF Read/write head",
				256,
				"0x0100 Set read/write head password",
				257,
				"0x0101 Reset read/write head password",
				258,
				"0x0102 Set tag password",
				259,
				"0x0103 Set tag protection",
				260,
				"0x0104 Get HF tag protection status",
				261,
				"0x0105 Set perma lock",
				512,
				"0x0200 Kill UHF tag",
				4096,
				"0x1000 Restore settings UHF read/write head",
				4097,
				"0x1001 Backup settings UHF read/write head",
				32768,
				"0x8000 Reset",
				],
		},
		{
			name:"Loop counter",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:16,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"UHF: Memory area",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:24,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:6,
			defaultValue:0,
			enumValues:
				[
				0,
				"Kill password",
				1,
				"EPC",
				2,
				"TID",
				3,
				"User memory",
				4,
				"Access password",
				5,
				"PC (EPC length)",
				],
		},
		{
			name:"Start address",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:32,
			bitLen:32,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Length",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:64,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Length of UID/EPC",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:80,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read/write head address",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:160,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Command timeout (*1ms)",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:96,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Read fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:112,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		{
			name:"Write fragment No.",
			category:"RFID Module",
			chan_unit:"",
			bitOffset:120,
			bitLen:8,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:168,
	},
	]
},
{
	mod_name:"RFID read data",
	mod_id:0x840080,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Length of read data",
			category:"RFID read data",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:16,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:1,
		datapoints:
		[
		{
			name:"Input buffer byte",
			category:"Byte",
			chan_unit:"byte",
			bitOffset:0,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:127,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:1024,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
{
	mod_name:"RFID write data",
	mod_id:0x21080,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:1,
		datapoints:
		[
		{
			name:"Length of write data",
			category:"RFID write data",
			chan_unit:"",
			bitOffset:0,
			bitLen:16,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:0,
			enumLen:0,
			defaultValue:16,
			enumValues:
				[
				],
		},
		],
	max_size:16,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Output",
		num_elems:1,
		datapoints:
		[
		{
			name:"Output buffer byte",
			category:"Byte",
			chan_unit:"byte",
			bitOffset:0,
			bitLen:8,
			bitIncremental:8,
			channelNumStart:0,
			channelNumEnd:127,
			dataType:0,
			enumLen:0,
			defaultValue:0,
			enumValues:
				[
				],
		},
		],
	max_size:1024,
	},
	]
},
{
	mod_name:"Module status",
	mod_id:0x80000,
	sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Diag",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	{
		sect_name:"Input",
		num_elems:6,
		datapoints:
		[
		{
			name:"I/O-ASSISTANT Force Mode active",
			category:"Module state",
			chan_unit:"",
			bitOffset:14,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V1",
			category:"Module state",
			chan_unit:"",
			bitOffset:9,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Undervoltage V2",
			category:"Module state",
			chan_unit:"",
			bitOffset:7,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Module diagnostics available",
			category:"Module state",
			chan_unit:"",
			bitOffset:0,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"Internal error",
			category:"Module state",
			chan_unit:"",
			bitOffset:10,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		{
			name:"ARGEE program active",
			category:"Module state",
			chan_unit:"",
			bitOffset:1,
			bitLen:1,
			bitIncremental:0,
			channelNumStart:0,
			channelNumEnd:0,
			dataType:1,
			enumLen:2,
			defaultValue:0,
			enumValues:
				[
				0,
				"-",
				1,
				"active",
				],
		},
		],
	max_size:15,
	},
	{
		sect_name:"Output",
		num_elems:0,
		datapoints:
		[
		],
	max_size:0,
	},
	]
},
];
/********************************************************************************
 *
 * Copyright (c) 2016 by TUSA
 *
 ********************************************************************************
 *
 *  Initial Author       : Roman Glistvain
 *  Maintainers          : Roman Glistvain
 *
 *
 ********************************************************************************
 *
 *  DESCRIPTION: ARGEE Simulator. This file provides an interface to simulation.
 *               Which consists of AJAX simulation, IO Database handling and the
 *               actual simulation task.  The run-time code for the actual simulation
 *               is inside a.out.js which is a compilation of ARGEE firmware components
 *               using emscripten compiler
 * 
 *******************************************************************************/

var ARGEE_sim=(function()
{ 

var device_slot_suffixes=
[
	{
	 name:"TBEN-L5-8IOL",
	 order_num:6814017,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 "",              
	 " 1",              
	 " 2",              
	 " 3",  
	 " 4",  
	 " 5",  
	 " 6",  
	 " 7",
	 " 8",
	 "",
	 "",  
	 "",
	 ""
	 ],
	},
	{
	 name:"TBEN-L4-8IOL",
	 order_num:6814082,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 "",              
	 " 1",              
	 " 2",              
	 " 3",  
	 " 4",  
	 " 5",  
	 " 6",  
	 " 7",
	 " 8",
	 "",
	 "",  
	 "",
	 ""
	 ],
	},
	{
	 name:"TBEN-LL-8IOL",
	 order_num:100003910,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 "",              
	 " 1",              
	 " 2",              
	 " 3",  
	 " 4",  
	 " 5",  
	 " 6",  
	 " 7",
	 " 8",
	 "",
	 "",  
	 "",
	 ""
	 ],
	},
   {
	 name:"TBEN-LH-8IOL",
	 order_num:100002195,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 "",              
	 " 1",              
	 " 2",              
	 " 3",  
	 " 4",  
	 " 5",  
	 " 6",  
	 " 7",
	 " 8",
	 "",
	 "",  
	 "",
	 ""
	 ],
	},
   
   
	{
	 name:"TBEN-S2-4IOL",
	 order_num:6814024,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 "",              
	 " 1",              
	 " 2",              
	 " 3",  
	 " 4",  
	 "",  
	 "",  
	 "",
	 ],
	},

	{
	 name:"ATLAS-SF-S2-4IOL",
	 order_num:100016672,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 "",              
	 " 1",              
	 " 2",              
	 " 3",  
	 " 4",  
	 "",  
	 "",  
	 "",
	 ],
	},

	{
	 name:"DPP-1452453 ISC CAM",
	 order_num:100023211,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 "",              
	 " 1",              
	 " 2",              
	 " 3",  
	 " 4",  
	 "",  
	 "",  
	 "",
	 ],
	},

   
	{
	 name:"FEN20-4IOL",
	 order_num:6814140,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 "",              
	 " 1",              
	 " 2",              
	 " 3",  
	 " 4",  
	 "",  
	 "",  
	 "",
	 ],
	},
   
	{
	 name:"TBEN-S2-4AI",
	 order_num:6814025,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 " 0",              
	 " 1",              
	 " 2",  
	 " 3",  
	 "",  
	 "",
	 ],
	},
	{
	 name:"TBEN-S2-4AO",
	 order_num:6814028,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 " 0",              
	 " 1",              
	 " 2",  
	 " 3",  
	 "",  
	 "",
	 ],
	},
	
	{
	 name:"TBEN-S2-2COM-4DXP",
	 order_num:6814031,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 " 0",              
	 " 0 0",              
	 " 0 1",              
	 " 0 2",  
	 " 0 3",  
	 " 0 4",  
	 " 0 5",  
	 " 0 6",
	 " 0 7",
	 " 1",              
	 " 1 0",              
	 " 1 1",              
	 " 1 2",  
	 " 1 3",  
	 " 1 4",  
	 " 1 5",  
	 " 1 6",
	 " 1 7",
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 	 
	 ],
	},
	{
	 name:"TBEN-S2-2COM-4DXP",
	 order_num:100001465,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 " 0",              
	 " 0 0",              
	 " 0 1",              
	 " 0 2",  
	 " 0 3",  
	 " 0 4",  
	 " 0 5",  
	 " 0 6",
	 " 0 7",
	 " 1",              
	 " 1 0",              
	 " 1 1",              
	 " 1 2",  
	 " 1 3",  
	 " 1 4",  
	 " 1 5",  
	 " 1 6",
	 " 1 7",
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 	 
	 ],
	},
	
	{
	 name:"TBEN-S2-2RFID-4DXP",
	 order_num:6814029,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 " 0",              
	 " 0",              
	 " 0",              
	 " 1",  
	 " 1",  
	 " 1",  
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 "",  	 
	 ],
	},	
   
	{
	 name:"TBEN-L5-4RFID-8DXP",
	 order_num:100000836,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 " 0",              
	 " 0",              
	 " 0",              
	 " 1",  
	 " 1",  
	 " 1",  
	 " 2",  
	 " 2",  
	 " 2",  
	 " 3",  
	 " 3",  
	 " 3",  
	 "",  	     
	 "",  	 
	 "",  	 
	 
    " 8",  	 
	 " 9",  	 
	 " 10",  	 
	 " 11",  	 
    " 12",  	 
	 " 13",  	 
	 " 14",  	 
	 " 15",  	 

	 
    "",  	 
	 "",  	 
	 ],
	},	


	{
	 name:"TBEN-L4-4RFID-8DXP",
	 order_num:100002462,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 " 0",              
	 " 0",              
	 " 0",              
	 " 1",  
	 " 1",  
	 " 1",  
	 " 2",  
	 " 2",  
	 " 2",  
	 " 3",  
	 " 3",  
	 " 3",  
	 "",  	     
	 "",  	 
	 "",  	 
	 
    " 8",  	 
	 " 9",  	 
	 " 10",  	 
	 " 11",  	 
    " 12",  	 
	 " 13",  	 
	 " 14",  	 
	 " 15",  	 

	 
    "",  	 
	 "",  	 
	 ],
	},	
   
	{
	 name:"TBEN-LL-4RFID-8DXP",
	 order_num:100002463,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 " 0",              
	 " 0",              
	 " 0",              
	 " 1",  
	 " 1",  
	 " 1",  
	 " 2",  
	 " 2",  
	 " 2",  
	 " 3",  
	 " 3",  
	 " 3",  
	 "",  	     
	 "",  	 
	 "",  	 
	 
    " 8",  	 
	 " 9",  	 
	 " 10",  	 
	 " 11",  	 
    " 12",  	 
	 " 13",  	 
	 " 14",  	 
	 " 15",  	 

	 
    "",  	 
	 "",  	 
	 ],
	},	
   
   
	{
	 name:"TBEN-S1-8DXP",
	 order_num:6814023,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 "",              
	 "",
	 "",
	 " 1",              
	 " 2",              
	 " 3",  
	 " 4",  
	 " 5",  
	 " 6",  
	 " 7",
	 " 8",
	 "",
	 ],
	},
   
	{
	 name:"TBEN-S1-4DXP",
	 order_num:100006468,	
	 slot_name_suffixes:
	 [
	 "",                                         
	 "",              
	 "",
	 "",
	 " 4",              
	 " 5",              
	 " 6",  
	 " 7",  
	 "",
	 ],
	},
   
   
];

var device_converted_slot_names=[];

var slot_suffix_selected_device=-1;

function setup_slot_names(order_num)
{
	var i,j;
	slot_suffix_selected_device=-1;
	for(i=0;i<device_slot_suffixes.length;i++)
	{
		if (device_slot_suffixes[i].order_num==order_num)
		{
			slot_suffix_selected_device=i;
			for(j=0;j<device_slot_suffixes[slot_suffix_selected_device].slot_name_suffixes.length;j++)
			{
				device_converted_slot_names[j]=getSlotName(j,true);
			}
			return;
		}
	}
}

function findConvSlotNum(name)
{
	if (name.length>4)
	{
		if (name.slice(0,4)=="Slot")
		{
			var slot_str=name.slice(4);
			return parseInt(slot_str);
		}
	}
	if (slot_suffix_selected_device==-1)
	{
		return -1;
	}
	var ind=device_converted_slot_names.indexOf(name);
	return ind;
}


function getSlotName(slot,conv)
{
	var tmp;
	var slice_index=findIndex(IO_ids[slot]);
	if (slot_suffix_selected_device==-1)
	{
		if (conv==true)
		{
			return "Slot"+slot;
		}
		else
		{
			return slices[slice_index].name;
		}
	}
	if (slot==0)
	{
		tmp=slices[slice_index].name+" GW";
	}
	else
	{
		tmp=slices[slice_index].name+device_slot_suffixes[slot_suffix_selected_device].slot_name_suffixes[slot];
	}
	if (conv==false)
	{
		return tmp; 
	}
	else
	{
		return convertString(tmp);
	}
}



var sim_mode=false;



var sim_slices_db=[];

var blcen_gw_diags=
["Module Diagnostics Available", 
                                        "", 
                                        "", 
                                        "Station Configuration Changed", 
                                        "", 
                                        "Overcurrent Isys", 
                                        "Overvoltage Field Supply V2", 
                                        "Undervoltage Field Supply V2", 
                                        "Overvoltage Field Supply V1", 
                                        "Undervoltage Field Supply V1", 
                                        "Modulebus Communication Lost", 
                                        "Modulebus Configuration Error", 
                                        "", 
                                        "", 
                                        "Force Mode Enabled", 
										""
];

var tben_l14_gw_diags=
["Module Diagnostics Available", 
                                        "", 
                                        "", 
                                        "Station Configuration Changed", 
                                        "", 
                                        "Overcurrent Isys", 
                                        "Overvoltage Field Supply V2", 
                                        "Undervoltage Field Supply V2", 
                                        "Overvoltage Field Supply V1", 
                                        "Undervoltage Field Supply V1", 
                                        "Modulebus Communication Lost", 
                                        "Modulebus Configuration Error", 
                                        "", 
                                        "", 
                                        "Force Mode Enabled", 
                                        ""
										];

										
										
var GW_list=
[
	{name:"TBEN-L1",id:0x01510028,diags:tben_l14_gw_diags},
	{name:"TBEN-L5",id:0x01550028,diags:tben_l14_gw_diags},
	{name:"TBEN-L4",id:0x01540028,diags:tben_l14_gw_diags},
	{name:"TBEN-L5",id:0x01560028,diags:tben_l14_gw_diags},
	{name:"TBEN-L4",id:0x01500028,diags:tben_l14_gw_diags},
	{name:"TBEN-L5",id:0x01530028,diags:tben_l14_gw_diags},
	{name:"TBEN-L4",id:0x01520028,diags:tben_l14_gw_diags},
	{name:"TBEN-LL",id:0x01580028,diags:tben_l14_gw_diags},
	{name:"TBEN-LL-4RFID",id:0x01510128,diags:tben_l14_gw_diags},

	
	{name:"BLCEN",id:0x01500021,diags:blcen_gw_diags},
	{name:"TBEN-S",id:0x01500029,diags:blcen_gw_diags},
	{name:"TBEN-AF",id:0x03500029,diags:blcen_gw_diags},
	
	{name:"FEN20-S",id:0x01500127,diags:blcen_gw_diags},
	{name:"FEN20-M",id:0x01500027,diags:blcen_gw_diags},
];

var SIM_ignore_lastbyte_modid_in_gw=["TBEN-L1","TBEN-L4","BLCEN","TBEN-S1","FEN20-S","FEN20-M"];
var SIM_ignore_lastbyte_modid_in_gw_list=[];

function SIM_CheckInArr(val,arr)
{
	var i;
	for(i=0;i<arr.length;i++)
	{
		if (arr[i]==val)
		{
			return true;
		}
	}
	return false;
}

function SIM_CompareModuleIDs(pos,gw_id,id1,id2)
{
	var i,j;
	if (SIM_ignore_lastbyte_modid_in_gw_list.length==0)
	{
		// first time
		for(j=0;j<SIM_ignore_lastbyte_modid_in_gw.length;j++)
		{
			for(i=0;i<GW_list.length;i++)
			{
				if (GW_list[i].name==SIM_ignore_lastbyte_modid_in_gw[j])
				{
					SIM_ignore_lastbyte_modid_in_gw_list[j]=GW_list[i].id;
				}
			}
		}
	}
	if ((pos==0)&&(id1!=id2))
	{
		return false;
	}
	if (SIM_CheckInArr(gw_id,SIM_ignore_lastbyte_modid_in_gw_list)==true)
	{
		if ((id1&0xffffff00)==(id2&0xffffff00))
		{
			return true;
		}
	}
	else if (id1==id2)
	{
		return true;
	}
	return false
}
	
	

function printModuleIDs()
{
	var i;
	for(i=0;i<IO_id.length;i++)
	{
		console.log(",0x"+IO_id[i].toString(16));
	}
}


var BLCEN_order_num_to_XionID_table=
[
21469440	,6827181,
38246656	,6827192,
71801088	,6827191,
22426368	,6827203,
22425600	,6827204,
22429696	,6827205,
22496256	,6827208,
24737536	,6827225,
24763648	,6827238,
561630208	,6827305,
39273472	,6827310,
26978560	,6827224,
1100716288	,6827312,
1115293952	,6827333,
561608448	,6827324,
1115131904	,6827368,
561682176	,6827364,
1107308544	,6827206,
1644183552	,6827207,
1143997184	,6827210,
1098354688	,6827222,
25925888	,6827223,
1644168192	,6827277,
1648362496	,6827209,
592801792	,6827176,
1160774400	,6827308,
1090531328	,6827171,
576024576	,6827175,
559378432	,6827177,
559247360	,6827178,
570951424	,6827179,
554174208	,6827180,
1127219968	,6827174,
1631585280	,6827172,
1627406336	,6827170,
1093665536	,6827173,
1083947776	,6827386,
];

function BLCEN_FindXionID(order_num)
{
	var i;
	for(i=0;i<(BLCEN_order_num_to_XionID_table.length/2);i++)
	{
		if (BLCEN_order_num_to_XionID_table[2*i+1]==order_num)
		{
			return BLCEN_order_num_to_XionID_table[2*i];
		}
	}
}


//var compl_sim_dev_db=
/*var sim_devices=
[
	{name:"TBEN-S2-4AI",slice_list:[0x01500029,524674,524674,524674,524674,17825792,0x80000],order_num:6814025},	
	{name:"TBEN-S2-4AO",slice_list:[0x01500029,8578,8578,8578,8578,1048576,0x80000],order_num:6814028},
	{name:"TBEN-S2-4IOL",slice_list:[0x01500029,1057026,4793090,4793090,4793090,4793090,2359296,6553600,0x80000],order_num:6814024},
	{name:"TBEN-S2-2COM-4DXP",slice_list:[0x01500029,1598082,
	                                      4260352,4260352,4260352,4260352,4260352,4260352,4260352,4260352,
										  1598082,
										  4260352,4260352,4260352,4260352,4260352,4260352,4260352,4260352,
									71827456,21495808,532610,50855936,128,128,128,128,0x80000],order_num:6814031},
	{name:"TBEN-S2-2RFID-4DXP",slice_list:[0x01500029,4261011,8650880,135296,4261011,8650880,135296,6815744,
											532610,50855936,128,128,128,128,0x80000],order_num:6814029},
	{name:"BLCEN-8PBLT",slice_list:[0x01500021,532608],order_num:6811493},
	{name:"TBEN-L4-8IOL",slice_list:[0x01540028,34611460,
									 4793090,4793090,4793090,4793090,4793090,4793090,4793090,4793090,
									 3670016,6553600,8960,0x80000],order_num:6814082},

	{name:"TBEN-L5-8IOL",slice_list:[0x01550028,34611460,
									 4793090,4793090,4793090,4793090,4793090,4793090,4793090,4793090,
									 3670016,6553600,8960,0x80000],order_num:6814017},
									 
	{name:"TBEN-S1-4DIP-4DOP",slice_list:[0x01500029,1079194368,151519232,17309696,2105474,33554560,33554560,33554560,0x0,0x0,0x0,0x2082102,0x80000],order_num:6814021},										 
	{name:"TBEN-S1-8DIP",slice_list:[0x01500029,1612726272,101187584,34086912,2105474,
	33554560,33554560,33554560,33554560,33554560,33554560,33554560,0x80000],order_num:6814020},										 
	
	{name:"TBEN-S1-8DIP-D",slice_list:[0x01500029,1614823424,117964800,34086912,2105474,
	33554560,33554560,33554560,33554560,33554560,33554560,33554560,0x80000],order_num:6814034},										 
	{name:"TBEN-S1-8DOP",slice_list:[0x01500029,1616118784,134742016,
	0,0,0,0,34087170,0,0,0,34087170,0x80000],order_num:6814022},										 
	
	{name:"TBEN-S1-8DXP",slice_list:[0x01500029,1616200704,168296448,34086912,2105474,33554560,33554560,
	17309954,33554560,33554560,33554560,17309954,0x80000],order_num:6814023},		
	
	{name:"TBEN-S2-4DIP-4DOP",slice_list:[0x01500029,34087042,235405312,17309696,2105474,33554560,33554560,33554560,
	34087170,8448,0x80000],order_num:6814074},										 
	
	{name:"TBEN-S2-8DIP",slice_list:[0x01500029,524418,185073664,34086912,2105474,
	33554560,33554560,33554560,33554560,33554560,33554560,33554560,16785664,0x80000],order_num:6814073},										 
	
	{name:"TBEN-S2-8DOP",slice_list:[0x01500029,8322,218628096,0,0,0,0,34087170,0,0,0,34087170,33562880,0x80000],order_num:6814075},										 
	{name:"TBEN-S2-8DXP",slice_list:[0x01500029,17309826,252182528,34086912,2105474,33554560,33554560,
	17309954,33554560,33554560,33554560,17309954,8448,0x80000],order_num:6814076},										 

	{name:"FEN20-4DIP-4DXP",slice_list:[0x01500127,1096172288],order_num:6931090},										 
	{name:"FEN20-4DIN-4DXN",slice_list:[0x01500127,1112949504 ],order_num:6814129 },										 
	{name:"FEN20-16DXP",slice_list:[0x01500127,2171163904 ],order_num:6931089 },										 

	
	{name:"TBEN-L4-16DIP",    slice_list:[0x01540028,2219593728],order_num:6814009},										 
	{name:"TBEN-L4-8DIP-8DOP",slice_list:[0x01540028,1700480000],order_num:6814010},										 
	{name:"TBEN-L4-16DOP",    slice_list:[0x01540028,2238121216],order_num:6814011},										 
	{name:"TBEN-L4-16DXP",    slice_list:[0x01540028,2221757696],order_num:6814012},										 
	{name:"TBEN-L4-16DIN",    slice_list:[0x01540028,2186039296],order_num:6814061},										 
	{name:"TBEN-L4-8DIN-8DON",slice_list:[0x01540028,1650148352],order_num:6814062},										 
	{name:"TBEN-L4-16DON",    slice_list:[0x01540028,2187789568],order_num:6814063},										 
	{name:"TBEN-L4-16DXN",    slice_list:[0x01540028,2188203264],order_num:6814064},										 
	{name:"TBEN-L5-16DIP",    slice_list:[0x01550028,2219593728],order_num:6814085},										 
	{name:"TBEN-L5-8DIP-8DOP",slice_list:[0x01550028,1700480000],order_num:6814086},										 
	{name:"TBEN-L5-16DOP",    slice_list:[0x01550028,2238121216],order_num:6814087},										 	
	{name:"TBEN-L5-16DXP",    slice_list:[0x01550028,2221757696],order_num:6814088},
	
	{name:"BLCEN-2M12MT-2RFID-S",    slice_list:[0x01500021,BLCEN_FindXionID(6827305)],order_num:6811450},
	{name:"BLCEN-4M12MT-4AI4AO-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827312) ],order_num:6811451},	
	{name:"BLCEN-4M12MT-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827310) ],order_num:6811452},
	{name:"BLCEN-4M12LT-2RFID-S-2RFID-S",    slice_list:[0x01500021,BLCEN_FindXionID(6827305),BLCEN_FindXionID(6827305)],order_num:6811453},	
	{name:"BLCEN-6M12LT-2RFID-S-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827305),BLCEN_FindXionID(6827310)],order_num:6811454},
	{name:"BLCEN-8M12LT-4AI4AO-VI-4AI4AO-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827312),BLCEN_FindXionID(6827312)],order_num:6811455},	
	{name:"BLCEN-4M12LT-2AI-PT-2AI-PT",    slice_list:[0x01500021,BLCEN_FindXionID(6827177),BLCEN_FindXionID(6827177)],order_num:6811456},
	{name:"BLCEN-8M12LT-4AI-VI-4AI-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827222),BLCEN_FindXionID(6827222)],order_num:6811458},	
	{name:"BLCEN-16M8LT-8XSG-P-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827310),BLCEN_FindXionID(6827310)],order_num:6811459},
	{name:"BLCEN-1M12MT-1SSI",    slice_list:[0x01500021,BLCEN_FindXionID(6827191) ],order_num:6811460},	
	{name:"BLCEN-1M12MT-1RS232",    slice_list:[0x01500021,BLCEN_FindXionID(6827181) ],order_num:6811461},
	{name:"BLCEN-1M12MT-1RS485-422",    slice_list:[0x01500021,BLCEN_FindXionID(6827192) ],order_num:6811462},	
	{name:"BLCEN-3M12LT-1RS232-2RFID-S",    slice_list:[0x01500021,BLCEN_FindXionID(6827181),BLCEN_FindXionID(6827305)],order_num:6811463},
	{name:"BLCEN-2M12MT-2AI-PT",    slice_list:[0x01500021,BLCEN_FindXionID(6827177) ],order_num:6811464},	
	{name:"BLCEN-2M12MT-2AI-TC",    slice_list:[0x01500021,BLCEN_FindXionID(6827178) ],order_num:6811465},
	{name:"BLCEN-4M12MT-4AI-TC",    slice_list:[0x01500021,BLCEN_FindXionID(6827368) ],order_num:6811467},	
	{name:"BLCEN-4M12MT-4AI-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827222) ],order_num:6811468},
	{name:"BLCEN-8M12LT-4AI-VI-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827222),BLCEN_FindXionID(6827310)],order_num:6811469},	
	{name:"BLCEN-4M12MT-8DO-0.5A-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827172) ],order_num:6811470},
	{name:"BLCEN-8M12LT-8DI-N-8DO-0.5A-N",    slice_list:[0x01500021,BLCEN_FindXionID(6827207),BLCEN_FindXionID(6827209)],order_num:6811473},	
	{name:"BLCEN-8M12LT-4AI-TC-4AI-TC",    slice_list:[0x01500021,BLCEN_FindXionID(6827368),BLCEN_FindXionID(6827368)],order_num:6811478},
	{name:"BLCEN-1M12MT-1CNT-ENC",    slice_list:[0x01500021,BLCEN_FindXionID(6827224) ],order_num:6811479},	
	{name:"BLCEN-5M12LT-1CNT-ENC-8DI-PD",    slice_list:[0x01500021,BLCEN_FindXionID(6827224),BLCEN_FindXionID(6827205)],order_num:6811480},
	{name:"BLCEN-6M12LT-2AO-I-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827179),BLCEN_FindXionID(6827310)],order_num:6811481},	
	{name:"BLCEN-6M12LT-4AI-VI-2AO-I",    slice_list:[0x01500021,BLCEN_FindXionID(6827222),BLCEN_FindXionID(6827179)],order_num:6811482},
	{name:"BLCEN-16M8LT-8DI-P-8DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827170),BLCEN_FindXionID(6827170)],order_num:6811483},	
	{name:"BLCEN-2M12MT-2RFID-A",    slice_list:[0x01500021,BLCEN_FindXionID(6827225) ],order_num:6811484},
	{name:"BLCEN-4M12VMT-8XSG-PD",    slice_list:[0x01500021,BLCEN_FindXionID(6827208) ],order_num:6811485},	
	{name:"BLCEN-4M12VMT-4AI-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827222) ],order_num:6811486},
	{name:"BLCEN-4M12VMH-4DO-2A-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827174) ],order_num:6811487},	
	{name:"BLCEN-8M12LT-8XSG-P-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827310),BLCEN_FindXionID(6827310)],order_num:6811488},
	{name:"BLCEN-4M12LT-2AO-I-2AO-I",    slice_list:[0x01500021,BLCEN_FindXionID(6827179),BLCEN_FindXionID(6827179)],order_num:6811489},	
	{name:"BLCEN-8M12LT-8DI-N-8DI-N",    slice_list:[0x01500021,BLCEN_FindXionID(6827207),BLCEN_FindXionID(6827207)],order_num:6811490},
	{name:"BLCEN-8M12LT-4AI4AO-VI-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827312),BLCEN_FindXionID(6827310)],order_num:6811491},	
	{name:"BLCEN-6M12LT-4AI-VI-2AI-PT",    slice_list:[0x01500021,BLCEN_FindXionID(6827222),BLCEN_FindXionID(6827177)],order_num:6811492},
	{name:"BLCEN-4M12MT-2AI2AO-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827324) ],order_num:6811494},	
	{name:"BLCEN-4M12LT-2RFID-A-2RFID-A",    slice_list:[0x01500021,BLCEN_FindXionID(6827225),BLCEN_FindXionID(6827225)],order_num:6811496},
	{name:"BLCEN-4M12VMT-8DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827170) ],order_num:6811497},	
	{name:"BLCEN-8M12VLT-4DI-P-4DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827171),BLCEN_FindXionID(6827171)],order_num:6811498},
	{name:"BLCEN-4M12MT-4IOL",    slice_list:[0x01500021,BLCEN_FindXionID(6827386) ],order_num:6811499},	
	{name:"BLCEN-8M12LT-4IOL-4IOL",    slice_list:[0x01500021,BLCEN_FindXionID(6827386),BLCEN_FindXionID(6827386)],order_num:6811500},
	{name:"BLCEN-6M12LT-4IOL-2RFID-S",    slice_list:[0x01500021,BLCEN_FindXionID(6827386),BLCEN_FindXionID(6827305)],order_num:6811501},	
	{name:"BLCEN-8M12LT-4IOL-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827386),BLCEN_FindXionID(6827310)],order_num:6811502},
	{name:"BLCEN-8M12LT-4IOL-4AI-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827386),BLCEN_FindXionID(6827222)],order_num:6811503},	
	{name:"BLCEN-8M12LT-4IOL-4AI4AO-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827386),BLCEN_FindXionID(6827312)],order_num:6811504},
	{name:"BLCEN-8M12LT-8DI-P-8DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827170),BLCEN_FindXionID(6827170)],order_num:6811506},	
	{name:"BLCEN-8M12LT-4AI-VI-8DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827222),BLCEN_FindXionID(6827170)],order_num:6811507},
	{name:"BLCEN-6M12LT-2RFID-S-8DO-0.5A-N",    slice_list:[0x01500021,BLCEN_FindXionID(6827305),BLCEN_FindXionID(6827209)],order_num:6811508},	
	{name:"BLCEN-5M12LT-1RS232-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827181),BLCEN_FindXionID(6827310)],order_num:6811509},
	{name:"BLCEN-8M12VLT-8DI-P-8DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827170),BLCEN_FindXionID(6827170)],order_num:6811510},	
	{name:"BLCEN-2M12MT-2RFID-S",    slice_list:[0x01500021,BLCEN_FindXionID(6827305) ],order_num:6811450},
	{name:"BLCEN-4M12MT-4AI4AO-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827312) ],order_num:6811451},	
	{name:"BLCEN-4M12MT-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827310) ],order_num:6811452},
	{name:"BLCEN-4M12LT-2RFID-S-2RFID-S",    slice_list:[0x01500021,BLCEN_FindXionID(6827305),BLCEN_FindXionID(6827305)],order_num:6811453},	
	{name:"BLCEN-6M12LT-2RFID-S-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827305),BLCEN_FindXionID(6827310)],order_num:6811454},
	{name:"BLCEN-8M12LT-4AI4AO-VI-4AI4AO-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827312),BLCEN_FindXionID(6827312)],order_num:6811455},	
	{name:"BLCEN-4M12LT-2AI-PT-2AI-PT",    slice_list:[0x01500021,BLCEN_FindXionID(6827177),BLCEN_FindXionID(6827177)],order_num:6811456},	
	{name:"BLCEN-8M12LT-4AI-VI-4AI-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827222),BLCEN_FindXionID(6827222)],order_num:6811458},	
	{name:"BLCEN-16M8LT-8XSG-P-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827310),BLCEN_FindXionID(6827310)],order_num:6811459},	
	{name:"BLCEN-1M12MT-1SSI",    slice_list:[0x01500021,BLCEN_FindXionID(6827191) ],order_num:6811460},	
	{name:"BLCEN-1M12MT-1RS232",    slice_list:[0x01500021,BLCEN_FindXionID(6827181) ],order_num:6811461},	
	{name:"BLCEN-1M12MT-1RS485-422",    slice_list:[0x01500021,BLCEN_FindXionID(6827192) ],order_num:6811462},	
	{name:"BLCEN-3M12LT-1RS232-2RFID-S",    slice_list:[0x01500021,BLCEN_FindXionID(6827181),BLCEN_FindXionID(6827305)],order_num:6811463},		
	{name:"BLCEN-2M12MT-2AI-PT",    slice_list:[0x01500021,BLCEN_FindXionID(6827177) ],order_num:6811464},	
	{name:"BLCEN-2M12MT-2AI-TC",    slice_list:[0x01500021,BLCEN_FindXionID(6827178) ],order_num:6811465},
	{name:"BLCEN-4M12MT-4AI-TC",    slice_list:[0x01500021,BLCEN_FindXionID(6827368) ],order_num:6811467},	
	{name:"BLCEN-4M12MT-4AI-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827222) ],order_num:6811468},
	{name:"BLCEN-8M12LT-4AI-VI-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827222),BLCEN_FindXionID(6827310)],order_num:6811469},	
	{name:"BLCEN-4M12MT-8DO-0.5A-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827172) ],order_num:6811470},
	{name:"BLCEN-8M12LT-8DI-N-8DO-0.5A-N",    slice_list:[0x01500021,BLCEN_FindXionID(6827207),BLCEN_FindXionID(6827209)],order_num:6811473},	
	{name:"BLCEN-8M12LT-4AI-TC-4AI-TC",    slice_list:[0x01500021,BLCEN_FindXionID(6827368),BLCEN_FindXionID(6827368)],order_num:6811478},
	{name:"BLCEN-1M12MT-1CNT-ENC",    slice_list:[0x01500021,BLCEN_FindXionID(6827224) ],order_num:6811479},	
	{name:"BLCEN-5M12LT-1CNT-ENC-8DI-PD",    slice_list:[0x01500021,BLCEN_FindXionID(6827224),BLCEN_FindXionID(6827205)],order_num:6811480},
	{name:"BLCEN-6M12LT-2AO-I-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827179),BLCEN_FindXionID(6827310)],order_num:6811481},	
	{name:"BLCEN-6M12LT-4AI-VI-2AO-I",    slice_list:[0x01500021,BLCEN_FindXionID(6827222),BLCEN_FindXionID(6827179)],order_num:6811482},
	{name:"BLCEN-16M8LT-8DI-P-8DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827170),BLCEN_FindXionID(6827170)],order_num:6811483},	
	{name:"BLCEN-2M12MT-2RFID-A",    slice_list:[0x01500021,BLCEN_FindXionID(6827225) ],order_num:6811484},
	{name:"BLCEN-4M12VMT-8XSG-PD",    slice_list:[0x01500021,BLCEN_FindXionID(6827208) ],order_num:6811485},	
	{name:"BLCEN-4M12VMT-4AI-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827222) ],order_num:6811486},
	{name:"BLCEN-4M12VMH-4DO-2A-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827174) ],order_num:6811487},	
	{name:"BLCEN-8M12LT-8XSG-P-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827310),BLCEN_FindXionID(6827310)],order_num:6811488},
	{name:"BLCEN-4M12LT-2AO-I-2AO-I",    slice_list:[0x01500021,BLCEN_FindXionID(6827179),BLCEN_FindXionID(6827179)],order_num:6811489},	
	{name:"BLCEN-8M12LT-8DI-N-8DI-N",    slice_list:[0x01500021,BLCEN_FindXionID(6827207),BLCEN_FindXionID(6827207)],order_num:6811490},
	{name:"BLCEN-8M12LT-4AI4AO-VI-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827312),BLCEN_FindXionID(6827310)],order_num:6811491},	
	{name:"BLCEN-6M12LT-4AI-VI-2AI-PT",    slice_list:[0x01500021,BLCEN_FindXionID(6827222),BLCEN_FindXionID(6827177)],order_num:6811492},
	{name:"BLCEN-4M12MT-2AI2AO-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827324) ],order_num:6811494},	
	{name:"BLCEN-4M12LT-2RFID-A-2RFID-A",    slice_list:[0x01500021,BLCEN_FindXionID(6827225),BLCEN_FindXionID(6827225)],order_num:6811496},
	{name:"BLCEN-4M12VMT-8DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827170) ],order_num:6811497},	
	{name:"BLCEN-8M12VLT-4DI-P-4DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827171),BLCEN_FindXionID(6827171)],order_num:6811498},	
	{name:"BLCEN-4M12MT-4IOL",    slice_list:[0x01500021,BLCEN_FindXionID(6827386) ],order_num:6811499},	
	{name:"BLCEN-8M12LT-4IOL-4IOL",    slice_list:[0x01500021,BLCEN_FindXionID(6827386),BLCEN_FindXionID(6827386)],order_num:6811500},	
	{name:"BLCEN-6M12LT-4IOL-2RFID-S",    slice_list:[0x01500021,BLCEN_FindXionID(6827386),BLCEN_FindXionID(6827305)],order_num:6811501},	
	{name:"BLCEN-8M12LT-4IOL-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827386),BLCEN_FindXionID(6827310)],order_num:6811502},	
	{name:"BLCEN-8M12LT-4IOL-4AI-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827386),BLCEN_FindXionID(6827222)],order_num:6811503},	
	{name:"BLCEN-8M12LT-4IOL-4AI4AO-VI",    slice_list:[0x01500021,BLCEN_FindXionID(6827386),BLCEN_FindXionID(6827312)],order_num:6811504},		
	{name:"BLCEN-8M12LT-8DI-P-8DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827170),BLCEN_FindXionID(6827170)],order_num:6811506},	
	{name:"BLCEN-8M12LT-4AI-VI-8DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827222),BLCEN_FindXionID(6827170)],order_num:6811507},
	{name:"BLCEN-6M12LT-2RFID-S-8DO-0.5A-N",    slice_list:[0x01500021,BLCEN_FindXionID(6827305),BLCEN_FindXionID(6827209)],order_num:6811508},	
	{name:"BLCEN-5M12LT-1RS232-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827181),BLCEN_FindXionID(6827310)],order_num:6811509},
	{name:"BLCEN-8M12VLT-8DI-P-8DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827170),BLCEN_FindXionID(6827170)],order_num:6811510},	
	{name:"BLCEN-4M12MT-8DI-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827170)],order_num:6811512},	
	{name:"BLCEN-8M12LT-8DI-PD-8DI-PD",    slice_list:[0x01500021,BLCEN_FindXionID(6827205),BLCEN_FindXionID(6827205)],order_num:6811513},	
	{name:"BLCEN-8M12LT-4AO-V-8XSG-P",    slice_list:[0x01500021,BLCEN_FindXionID(6827333),BLCEN_FindXionID(6827310)],order_num:6811514},
];	
*/
/*var sim_popular_device_name_list=
[
	"TBEN-L5-16DXP","TBEN-L4-16DXP","BLCEN-6M12LT-2RFID-S-8XSG-P","TBEN-S1-8DXP","TBEN-L4-8IOL","TBEN-L5-8IOL","FEN20-16DXP","FEN20-4DIP-4DXP"
];

function findSimDevice(name)
{
	var i;
	for(i=0;i<sim_devices.length;i++)
	{
		if (sim_devices[i].name==name)
		{
			return sim_devices[i];
		}
	}
	return null;
}

var sim_device_list_menu=[];
function createSimDevList()
{
	var i;
	sim_device_list_menu=[];
	for(i=0;i<sim_popular_device_name_list.length;i++)
	{
		//var ent=findSimDevice(sim_popular_device_name_list[i]);
		sim_device_list_menu[sim_device_list_menu.length]=[" Popular - "+sim_popular_device_name_list[i],sim_popular_device_name_list[i]];
	}
	for(i=0;i<sim_devices.length;i++)
	{
		if (sim_popular_device_name_list.indexOf(sim_devices[i].name)==-1)
		{
			sim_device_list_menu[sim_device_list_menu.length]=[sim_devices[i].name,sim_devices[i].name];
		}
	}
}
*/




var sim_devices=
[
	{name:"TBEN-L5-16DXP",slice_list:[0x01550028,0x846D5500],order_num:6814008},	
	{name:"TBEN-L4-16DXP",slice_list:[0x01540028,0x846D5500],order_num:6814012},		
	{name:"TBEN-L5-8DIP-8DOP",slice_list:[0x01550028,0x655B4400],order_num:6814006},
	{name:"TBEN-L4-8DIP-8DOP",slice_list:[0x01540028,0x655B4400],order_num:6814010},
   
	{name:"BLCEN-4M12MT-4AI4AO-VI",slice_list:[0x01500021,0x419B9900],order_num:6811451},	
	{name:"BLCEN-8M12LT-4AI4AO-VI-4AI4AO-VI",slice_list:[0x01500021,0x419B9900,0x419B9900],order_num:6811455},

	{name:"BLCEN-8M12LT-4AO-V-8XSG-P",slice_list:[0x01500021,0x427A0900,39273472],order_num:6811491},	


	
	{name:"BLCEN-8M12LT-4AI4AO-VI-8XSG-P",slice_list:[0x01500021,0x419B9900,39273472],order_num:6811491},	
	{name:"BLCEN-8M12LT-4AI-VI-8XSG-P",slice_list:[0x01500021,1098354688,39273472],order_num:6811469},
	{name:"BLCEN-16M8LT-8XSG-P-8XSG-P",slice_list:[0x01500021,39273472,39273472],order_num:6811459},
	{name:"BLCEN-8M12LT-8XSG-P-8XSG-P",slice_list:[0x01500021,39273472,39273472],order_num:6811488},
	{name:"BLCEN-6M12LT-2RFID-S-8XSG-P",slice_list:[0x01500021,0x2179CC00,39273472],order_num:6811454},
	{name:"BLCEN-4M12MT-8XSG-P",slice_list:[0x01500021,39273472],order_num:6811452},
	{name:"BLCEN-2M12MT-2RFID-S",slice_list:[0x01500021,0x2179CC00],order_num:6811450},
	{name:"BLCEN-8M12LT-4IOL-8XSG-P",slice_list:[0x01500021,0x409BBB00,39273472],order_num:6811502},	
	{name:"TBEN-S1-4DIP-4DOP",slice_list:[0x1500029
,0x40533300
,0x9080000
,0x1082000
,0x202082
,0x2000080
,0x2000080
,0x2000080
,0x0
,0x0
,0x0
,0x2082102
,0x80000],order_num:6814021},
	{name:"TBEN-S1-8DXP",slice_list:[0x1500029
,0x60554400
,0xa080000
,0x2082000
,0x202082
,0x2000080
,0x2000080
,0x1082102
,0x2000080
,0x2000080
,0x2000080
,0x1082102
,0x80000],order_num:6814023},

	{name:"TBEN-L4-8IOL",slice_list:[22282280, 34611460, 4793090, 4793090, 4793090, 4793090, 4793090, 4793090, 4793090, 4793090, 3670016, 6553600, 8960, 524288],order_num:6814082},
	{name:"TBEN-L5-8IOL",slice_list:[0x01550028,34611460,
									 4793090,4793090,4793090,4793090,4793090,4793090,4793090,4793090,
									 3670016,6553600,8960,0x80000],order_num:6814017},
	{name:"TBEN-S2-4IOL",slice_list:[0x01500029,1057026,4793090,4793090,4793090,4793090,2359296,6553600,0x80000],order_num:6814024},
   


	{name:"FEN20-16DXP",slice_list:[0x01500027,0x81695500],order_num:6931089},
	{name:"FEN20-4DIP-4DXP",slice_list:[0x01500127,0x41564300],order_num:6931090},
	{name:"TBEN-L1-16DXP",slice_list:[0x01510028,0x816D5500],order_num:6814008},
	
]


var act_sim_dev={};


function sim_BuildGwArray()
{
	var i,j;
	var arr=[];
	for(i=0;i<GW_list.length;i++)
	{
		arr[i]={};
		arr[i].mod_name=GW_list[i].name;
		arr[i].mod_id=GW_list[i].id;
		arr[i].sections=[
		                 {sect_name:"Param",num_elems:0,max_size:0,datapoints:[]},
						 {sect_name:"Diag",num_elems:0,max_size:16,datapoints:[]},
						 {sect_name:"Input",num_elems:0,max_size:0,datapoints:[]},
						 {sect_name:"Output",num_elems:0,max_size:0,datapoints:[]},
						];
		// rework diagnostics section;
		var num_diags=0;
		for(j=0;j<16;j++)
		{
			if (GW_list[i].diags[j].length>0)
			{				
				arr[i].sections[1].datapoints[num_diags]={};
				arr[i].sections[1].datapoints[num_diags].name=GW_list[i].diags[j];
				arr[i].sections[1].datapoints[num_diags].category="GW";
				arr[i].sections[1].datapoints[num_diags].chan_unit="";
				// endian swap
				if (j>=8)
				{
					arr[i].sections[1].datapoints[num_diags].bitOffset=j-8;
				}
				else
				{
					arr[i].sections[1].datapoints[num_diags].bitOffset=j+8;
				}
				arr[i].sections[1].datapoints[num_diags].bitLen=1;
				arr[i].sections[1].datapoints[num_diags].bitIncremental=0;
				arr[i].sections[1].datapoints[num_diags].channelNumStart=0;
				arr[i].sections[1].datapoints[num_diags].channelNumEnd=0;				
				num_diags++;
			}
		}
		arr[i].sections[1].num_elems=num_diags;
	}
	return arr;	
}

var sim_slices_specified=[];

var special_slice_ids=[0x41564328,0x42564328,0x816D5528]


function sim_FindSliceObj(id)
{
	var i;
	// direct comparison
	for(i=0;i<sim_slices_db.length;i++)
	{
		if (sim_slices_db[i].mod_id==id)
		{
			return sim_slices_db[i];
		}
	}
	if (special_slice_ids.indexOf(id)!=-1)
	{
		// clear out last byte and compare
		for(i=0;i<sim_slices_db.length;i++)
		{
			if ((sim_slices_db[i].mod_id&0xffffff00)==(id&0xffffff00))
			{
				return sim_slices_db[i];
			}
		}
	}
	
	var fake_obj={mod_name:"",mod_id:0,sections:
	[
	{
		sect_name:"Param",
		num_elems:0,
		max_size:0,
		datapoints:[]
	},
	{
		sect_name:"Diag",
		num_elems:0,
		max_size:0,
		datapoints:[]
	},
	{
		sect_name:"Input",
		num_elems:0,
		max_size:0,
		datapoints:[]
	},
	{
		sect_name:"Output",
		num_elems:0,
		max_size:0,
		datapoints:[]
	},
	

	]};
	return fake_obj;
}

function createImportedProj()
{
	var i;
	GOM.setObjNum("ARGEE_BOOT_PROJ_ENABLED",0,0);
	var obj_list=
	[
		["ARGEE_PROJ_DEV_ORDER_NUM",0],
		["ARGEE_PROJ_DEV_NAME",0],
		["MODULE_LIST_ARRAY",0],
		["ARGEE_PROJ_TYPE",0],
		["ARGEE_PROJ_TITLE",0],
		["ARGEE_PROJ_CHECKSUM",0],
		["ARGEE_PROJ_NV_CHECKSUM",0],
		["ARGEE_BOOT_PROJ_ENABLED",0],
		["ARGEE_SOURCE_CODE",0],
	];
	
	
	for(i=0;i<slices.length;i++)
	{
		var arr=GOM.getObjArr("ARGEE_IO_PARAM",i);
		if (arr!=undefined)
		{
			obj_list[obj_list.length]=["ARGEE_IO_PARAM",i];	
		}
	}

	
	var proj=GOM.createProjFile(obj_list);
	if (proj==null)
	{
		return;
	}
	var arr=[];
	var i;
	var uarr=new Uint8Array(proj);
	
	for(i=0;i<proj.byteLength;i++)
	{
		arr[i]=uarr[i];
	}
	setLocalStorage("simCode",JSON.stringify(arr));
	return proj;
}

function createEmptyARGEE_Proj()
{
	var i;
	// assume GOM already contains modulelist/order_num/device_name
	IO=[];
	FLOW.initProj();
	FLOW.generateARGEE_Code(false);

	GOM.setObjNum("ARGEE_BOOT_PROJ_ENABLED",0,0);
	GOM.setObjArr("ARGEE_PROJ_TITLE",0,GOM.convStringToArr(""));
	GOM.setObjNum("ARGEE_PROJ_CHECKSUM",0,0);
	// populate the device entries

	// create default parameters
	for(i=0;i<slices.length;i++)
	{
		IO_CONF.createDefaultParamInit(i);
	}

	if (default_pro_mode==true)
	{
		deteleLocalStorageKey("prog_code");
		GOM.setObjNum("ARGEE_PROJ_TYPE",0,ENV.ARGEE);
		FLOW.convertToArgee_imp(false);
		
	}
	else
	{
		GOM.setObjNum("ARGEE_PROJ_TYPE",0,ENV.FLOWCHART);
	}
	return createImportedProj();		
}

function simDevChanged(sel)
{
	//sim_InitDeviceStruct(elem.selectedIndex);
	eraseProject();
	var slice_list=[];
	slices=[];
	slice_list[0]=sim_devices[sel].slice_list.length;
	IO_ids=[];
	for(i=0;i<sim_devices[sel].slice_list.length;i++)
	{
		IO_ids[i]=sim_devices[sel].slice_list[i];
		slice_list[i+1]=sim_devices[sel].slice_list[i]
		var slice_obj={};
		slice_obj=SIM.simDB_constructSliceObj(i,sim_devices[sel].slice_list[i],sim_devices[sel].order_num,sim_devices[sel].name);
		slices[slices.length]=slice_obj;
	}
	GOM.setObjArr("MODULE_LIST_ARRAY",0,GOM.convArr32ToArrBuf(slice_list));
	GOM.setObjArr("ARGEE_PROJ_DEV_NAME",0,GOM.convStringToArr(sim_devices[sel].name));
	GOM.setObjNum("ARGEE_PROJ_DEV_ORDER_NUM",0,sim_devices[sel].order_num);
	for(i=0;i<slices.length;i++)
	{
		IO_CONF.createDefaultParamInit(i);
	}
	
	createEmptyARGEE_Proj();
	return true;
}


function selectSimDevice()
{
	var sel=window.document.getElementById("SimDeviceSelection");
	if (sel.selectedIndex>=sim_devices.length)
	{
		return;
	}
	// set GOM specific elements for the simulation
	simDevChanged(sel.selectedIndex);
	sim_gen.next();
}


function sim_RenderDeviceSelection()
{
	var i;
	var selected=false;
	var html="<center><h2>Select Device to Simulate</h2><br><select id=\"SimDeviceSelection\">";
	for(i=0;i<sim_devices.length;i++)
	{
		if (sim_devices[i].name==act_sim_dev.name)
		{
			html+="<option selected >"+sim_devices[i].name+"</option>";
			selected=true;
		}
		else
		{
			html+="<option>"+sim_devices[i].name+"</option>";
		}
	}
	if (selected==false)
	{
		html+="<option selected > Invalid Device (please change) </option>";
	}
	html+="</select><br><button onclick=\"SIM.selectSimDevice();\">Simulate</button></center>"
	return html;
}

function sim_InitDeviceStruct()
{

	sim_slices_db=sim_slices_db.concat(modules_BLCEN);
   sim_slices_db=sim_slices_db.concat(modules_BLCEN_8PBLT);
	sim_slices_db=sim_slices_db.concat(modules_TBEN_L);
	sim_slices_db=sim_slices_db.concat(modules_FEN20);
   sim_slices_db=sim_slices_db.concat(modules_FEN20_4IOL);
	sim_slices_db=sim_slices_db.concat(modules_TBEN_S1);
	sim_slices_db=sim_slices_db.concat(modules_TBEN_Lx_8IOL);
	sim_slices_db=sim_slices_db.concat(modules_TBEN_S2_2COM);
	sim_slices_db=sim_slices_db.concat(modules_TBEN_S2_2RFID);
	sim_slices_db=sim_slices_db.concat(modules_TBEN_S2_4IOL);
	sim_slices_db=sim_slices_db.concat(modules_TBEN_S2_4AI);   
	sim_slices_db=sim_slices_db.concat(modules_TBEN_S2_4AO);   
	sim_slices_db=sim_slices_db.concat(modules_TBEN_S2_DIG);
	sim_slices_db=sim_slices_db.concat(modules_TBEN_L1_dig);
   sim_slices_db=sim_slices_db.concat(modules_TBEN_L_4RFID);
   sim_slices_db=sim_slices_db.concat(modules_TBEN_L_01);
   sim_slices_db=sim_slices_db.concat(modules_TBEN_LL_8IOL);
   sim_slices_db=sim_slices_db.concat(modules_TBEN_LL_4RFID);
   
	sim_slices_db=sim_slices_db.concat(sim_BuildGwArray());
	
}
var sim_remap_sections=[3,2,0,1];

function getMaxOffsetOfDatapoint(pnt)
{
	var num_chans=pnt.channelNumEnd-pnt.channelNumStart;
	return pnt.bitOffset+pnt.bitIncremental*num_chans+pnt.bitLen;
}

function sim_findSectSize(sect_obj)
{
	var i;
	if (sect_obj.datapoints.length==0)
	{
		return 0;
	}
	
	var max_ind=0;
	for(i=0;i<sect_obj.datapoints.length;i++)
	{
		if (getMaxOffsetOfDatapoint(sect_obj.datapoints[i])>getMaxOffsetOfDatapoint(sect_obj.datapoints[max_ind]))
		{
			max_ind=i;
		}
	}
	var len=getMaxOffsetOfDatapoint(sect_obj.datapoints[max_ind]);
	if ((ToInt32(len/8)*8)==len)
	{
		return len;
	}
	return (ToInt32(len/8)+1)*8;
}


function simSetObjRdVal(name,inst,val)
{
	var obj=GOM.getObjByName(name);
	if (obj.elem.sim_val==undefined)
	{
		obj.elem.sim_val=[];
	}		
	obj.elem.sim_val[inst]=val;
}

function simSetObjFunc(obj_name,func_name,func)
{
	var obj=GOM.getObjByName(obj_name);
	obj.elem[func_name]=func;
}

var simProjArrBuf;

// used by the non-simulator code to use simulator database to extract IO datapoints
function fillSimSlots(slotsDV)
{
	var i;
	var offset=0;
	var num_slots=slotsDV.getUint32(0,true);
	for(i=0;i<num_slots;i++)
	{
		var id=slotsDV.getUint32(4+i*4,true);
		var obj=sim_FindSliceObj(id);
		sim_slices_specified[i]=clone(obj);
		sim_slices_specified[i].offsets=[];
		sim_slices_specified[i].sizes=[];
		for(j=0;j<obj.sections.length;j++)
		{
			sim_slices_specified[i].offsets[sim_remap_sections[j]]=offset;
			sim_slices_specified[i].sizes[sim_remap_sections[j]]=obj.sections[j].max_size;
			offset+=obj.sections[j].max_size;
		}
	}
	
}



function simDevInit()
{
	var i;
	var gom=GOM_inst(true);
	var arr=JSON.parse(getLocalStorage("simCode"));
	if (arr==null)
	{
		//deteleLocalStorageKey("simCode");
		//window.location=window.location;
		return;
	}
	var arr_buf=gom.convArr8ToArrBuf(arr);

	gom.loadProjFile(arr_buf,false,true);
	
	act_sim_dev={};
	act_sim_dev.slice_list=gom.convArrBuftoArr32(gom.getObjArr("MODULE_LIST_ARRAY",0)).slice(1);
	act_sim_dev.name=gom.arrToString(gom.getObjArr("ARGEE_PROJ_DEV_NAME",0));
	act_sim_dev.order_num=gom.getObjNum("ARGEE_PROJ_DEV_ORDER_NUM",0);

	
	
	var i,j;
	sim_slices_specified=[];
	

	var offset=0;

	var arr=new Uint32Array(act_sim_dev.slice_list.length+1);
	arr[0]=act_sim_dev.slice_list.length;
	for(i=0;i<act_sim_dev.slice_list.length;i++)
	{
		var obj=sim_FindSliceObj(act_sim_dev.slice_list[i]);
		sim_slices_specified[i]=clone(obj);
		sim_slices_specified[i].offsets=[];
		sim_slices_specified[i].sizes=[];
		arr[i+1]=act_sim_dev.slice_list[i];
		for(j=0;j<obj.sections.length;j++)
		{
			sim_slices_specified[i].offsets[sim_remap_sections[j]]=offset;
			
			//var len=sim_findSectSize(obj.sections[sim_remap_sections[j]]);
			_setupSectSize(i,sim_remap_sections[j],obj.sections[j].max_size);
			sim_slices_specified[i].sizes[sim_remap_sections[j]]=obj.sections[j].max_size;
			offset+=obj.sections[j].max_size;
		}
	}
	simSetObjRdVal("MULTPC_ORDER_NUM",0,act_sim_dev.order_num);
	simSetObjRdVal("ARGEE_DEV_NAME",0,GOM.convStringToArr(act_sim_dev.name));
	simSetObjRdVal("MULTPC_FIELDBUS_CONNECTED",0,0);
	simSetObjRdVal("SAPI_APP_VER_STRING",0,GOM.convStringToArr("V1.2.3.4"));
	
	simSetObjRdVal("ARGEE_COMP_VER",1,exp_ARGEE_Kernel_Version);
	simSetObjRdVal("ARGEE_BOOT_PROJ_ENABLED",0,1);
	simSetObjRdVal("ARGEE_GET_SUB_IDS_OBJ",0,arr.buffer);
	arr=new Uint8Array(1);
	arr[0]=1;
	simSetObjRdVal("ARGEE_CHECK_PASSWORD",0,arr.buffer);
	simProjArrBuf=arr_buf;
	
}

function copyArrToSimObj(obj_name,inst,ptr,len)
{
	var obj=GOM.getObjByName(obj_name);
	var buf1=Module.HEAP8;
	var val=buf1.buffer.slice(ptr,ptr+len);
	if (obj.elem.sim_arr_val==undefined)
	{
		obj.elem.sim_arr_val=[];
	}		
	obj.elem.sim_arr_val[inst]=val;
}

function copyNumToSimObj(obj_name,inst,val)
{
	var obj=GOM.getObjByName(obj_name);
	if (obj.elem.sim_num_val==undefined)
	{
		obj.elem.sim_num_val=[];
	}		
	obj.elem.sim_num_val[inst]=val;
}


var obj_to_sect_map=["ARGEE_IO_INP","ARGEE_IO_OUTP","ARGEE_IO_DIAG","ARGEE_IO_PARAM"];

function updateFromSim()
{
	var i,j;
	var ptr;
	for(i=0;i<sim_slices_specified.length;i++)
	{
		for(j=0;j<sim_slices_specified[i].sections.length;j++)
		{
			ptr=_getIOPtr(i,j);
			copyArrToSimObj(obj_to_sect_map[j],i,ptr,sim_slices_specified[i].sizes[j]);
		}
	}
	// copy PLC objs
	ptr=_getPLCPtr(0);
	copyArrToSimObj("ARGEE_GET_PLC_INP",0,ptr,480);
	ptr=_getPLCPtr(1);
	copyArrToSimObj("ARGEE_GET_PLC_OUTP",0,ptr,480)
	ptr=_getProgBuf();
	copyArrToSimObj("ARGEE_GET_PROG_VARS",0,ptr,GOM.getObjNum("ARGEE_CTRL_VAR_SEGM_SIZE",0));
	copyNumToSimObj("ARGEE_BASE_MEM_ADDR",0,ptr);
	copyNumToSimObj("ARGEE_CURR_TIMER_TICK",0,_OS_getIntTick());
}


var sim_gen;

function getSimGen()
{
	sim_gen=simInit();
	return sim_gen;
}

var ajaxScanTimer;

function simExchTrig()
{
	ajaxScanTimer=setTimeout(sim_AjaxExchangeTask,0);
}

// if simulation in progress -> invoke  exchange task after every scan cycle.
// if not -> invoke it every 20ms

function sim_AjaxExchangeTask()
{
	clearTimeout(ajaxScanTimer);	
	sim_AjaxObj.process_req();
}

function GOM_CreateRespArr(len)
{
	resp_data=new ArrayBuffer(4+len);
	var dt=new DataView(resp_data);
	dt.setUint32(0,len,true);
	var dt=new DataView(resp_data,4);
	return dt;
}




function simDB_getMod(slot,mod_id,order_num,dev_name)
{
	var mod_name=null;
	var selector=null;
	var i;
	if (slot==0)
	{
		/*for(i=0;i<sim_devices.length;i++)
		{
			if (sim_devices[i].order_num==order_num)
			{
				mod_name=sim_devices[i].name;
				break;
			}
		}
		if (mod_name==NULL*/
		mod_name=dev_name;
		selector=sim_FindSliceObj(mod_id);
	}
	else
	{
		selector=sim_FindSliceObj(mod_id);
		mod_name=selector.mod_name;
	}
	return {mod_name:mod_name,selector:selector};
}

function remapGwBit(slot,sect,bit)
{
	if ((slot==0)&&(sect==sect_type.diag))
	{
		var curr_byte=Math.floor(bit/8);
		var curr_bit=bit%8;
		if (curr_byte==0)
		{
			curr_byte=1;
		}
		else
		{
			curr_byte=0;
		}
		return (curr_byte*8)+curr_bit;
	}
	return bit;
}

// remap sections to make it look nice
var remap_sections=[3,2,0,1];

function simDB_constructSliceObj(slot,id,gw_order_num,dev_name)
{
	var res=simDB_getMod(slot,id,gw_order_num,dev_name);
	var i,j,k,l;
	var slice_obj={};
	slice_obj.name=res.mod_name;
	slice_obj.id=id;
	slice_obj.sections=[];
	for(i=0;i<4;i++)
	{
		var num_points=res.selector.sections[i].datapoints.length;
		slice_obj.sections[remap_sections[i]]={objects:[]};
		// first add all single channel datapoints
		var num_channels;
		var multi_channel=false;
		var sorted_channels=true;
		var chan_start=-1;
		var chan_end=-2;
		var curr_obj;
		for(k=0;k<num_points;k++)
		{
			var download_result=res.selector.sections[i].datapoints[k];
			if ((download_result.enumLen!=0)&&(remap_sections[i]==sect_type.param))
			{
				var enum_offset=0;
				download_result.enumList=[];
				for(j=0;j<download_result.enumLen;j++)
				{
					download_result.enumList[j]={};
					download_result.enumList[j].str=escapeHTML(download_result.enumValues[2*j+1]);
					download_result.enumList[j].val=download_result.enumValues[2*j];
				}
			}
			download_result.dataPointName=download_result.name;
			if (download_result.channelNumStart==download_result.channelNumEnd)
			{
				curr_obj=slice_obj.sections[remap_sections[i]].objects.length;
				if (download_result.chan_unit!="")
				{
					download_result.dataPointName+="_"+download_result.channelNumStart;
				}
				slice_obj.sections[remap_sections[i]].objects[curr_obj]=
					   {name:convertString(/*download_result.dataPointCategory+" "+*/download_result.dataPointName),
						offset:remapGwBit(slot,i,download_result.bitOffset),
						length: download_result.bitLen,
						signed:false,
						dataType:download_result.dataType,
						enumLen:download_result.enumLen,
						defaultValue:download_result.defaultValue,
						enumList:clone(download_result.enumList),
						channel:-1,
						};
			}
			else
			{
				multi_channel=true;
				if (chan_start==-1)
				{
					chan_start=download_result.channelNumStart;
					chan_end=download_result.channelNumEnd;
					num_channels=(download_result.channelNumEnd-download_result.channelNumStart+1);
				}
				else
				{
					if ((sorted_channels==true)&&(chan_start==download_result.channelNumStart)&&(chan_end==download_result.channelNumEnd))
					{
					}
					else
					{
						sorted_channels=false;
					}
					num_channels=(download_result.channelNumEnd-download_result.channelNumStart+1);
				}
			}
		}
		
		if (multi_channel==true)
		{
			if (sorted_channels==true)
			{
				// add all datapoints of channels sorted by channel number
				for(l=0;l<num_channels;l++)
				{
					for(k=0;k<num_points;k++)
					{
						download_result=res.selector.sections[i].datapoints[k];
						if (download_result.channelNumStart!=download_result.channelNumEnd)
						{
							curr_obj=slice_obj.sections[remap_sections[i]].objects.length;
							slice_obj.sections[remap_sections[i]].objects[curr_obj]=
							   {name:convertString(/*download_result.dataPointCategory+" "+*/download_result.dataPointName+" "+(download_result.channelNumStart+l)),
								offset:remapGwBit(slot,i,download_result.bitOffset+l*download_result.bitIncremental),
								length: download_result.bitLen,
								signed:false,
								dataType:download_result.dataType,
								enumLen:download_result.enumLen,
								defaultValue:download_result.defaultValue,
								enumList:clone(download_result.enumList),
								channel:(download_result.channelNumStart+l),
								};
						}
					}
				}
			}
			else
			{
				for(k=0;k<num_points;k++)
				{
					download_result=res.selector.sections[i].datapoints[k];
					if (download_result.channelNumStart!=download_result.channelNumEnd)
					{
						var num_channels=(download_result.channelNumEnd-download_result.channelNumStart+1);
						for(l=0;l<num_channels;l++)
						{
							curr_obj=slice_obj.sections[remap_sections[i]].objects.length;
							slice_obj.sections[remap_sections[i]].objects[curr_obj]=
							   {name:convertString(/*download_result.dataPointCategory+" "+*/download_result.dataPointName+" "+(download_result.channelNumStart+l)),
								//offset:remapGwBit(i,j,download_result.bitOffset+l*download_result.bitIncremental),
								offset:remapGwBit(slot,i,download_result.bitOffset+l*download_result.bitIncremental),
								length: download_result.bitLen,
								signed:false,
								dataType:download_result.dataType,
								enumLen:download_result.enumLen,
								defaultValue:download_result.defaultValue,
								enumList:clone(download_result.enumList),
								channel:-1,									
								};
						}
					}
				}
			}
		}
	}
	return slice_obj;
}	

	


var DEBG_CMD_BREAK_ALL=0;
var	DEBG_CMD_SET_CLR_BREAKPOINTS=1;
var	DEBG_CMD_CONTINUE=2;
var	DEBG_CMD_STEP=3;

var prev_sim_stopped=false;
var break_cmd=-1;

var sim_AjaxObj=
{
	act_req:{},
	req_pending:false,
	readyState:0,
	status:0,
	response:{},
	open:function(a,b,c)
	{
		
		
	},

	abort:function(a,b,c)
	{
		this.req_pending=false;
		
	},

	
	send:function(req)
	{
		this.act_req=req.slice(0);
		this.req_pending=true;
	},
	process_req:function()
	{
		if (this.req_pending==true)
		{
			var dt=new DataView(this.act_req);
			var offset=0;
			var req_code=dt.getUint8(offset);offset++;
			var req_len=dt.getUint16(offset,true);offset+=2;
			var gom_code=dt.getUint32(offset,true);offset+=4;
			this.response=new ArrayBuffer(0);
			switch(gom_code)
			{
				case GOM.gom_op.UID_TO_OID:
				{
					var uid=dt.getUint32(offset,true);
					this.response=new ArrayBuffer(4);
					var tmp=new Uint32Array(this.response);
					tmp[0]=GOM.findObj(uid);
					break;
				}
				case GOM.gom_op.READ_ARGEE_FILE:
				{
					this.response=simProjArrBuf;
					break;
				}
				case GOM.gom_op.MULT_INST_READ:
				{
					updateFromSim();
					var num_obj=dt.getUint32(offset,true);offset+=4;
					var i,j;
					var obj_oids=[];
					for(i=0;i<num_obj;i++)
					{
						obj_oids[i]=dt.getUint32(offset,true);offset+=4;
					}
					var resp=new ArrayBuffer(100000);
					var dt1=new DataView(resp);
					offset=0;
					for(i=0;i<num_obj;i++)
					{
						var obj=GOM.getObjByOID(obj_oids[i]);
						dt1.setUint32(offset,obj_oids[i],true);offset+=4;
						if (obj.elem.sim_num_val!=undefined)
						{
							dt1.setUint32(offset,obj.elem.sim_num_val.length,true);offset+=4;
							for(j=0;j<obj.elem.sim_num_val.length;j++)
							{
								dt1.setUint32(offset,4,true);offset+=4;
								dt1.setUint32(offset,obj.elem.sim_num_val[j],true);offset+=4;
							}
						}
						else if (obj.elem.sim_arr_val!=undefined)
						{
							dt1.setUint32(offset,obj.elem.sim_arr_val.length,true);offset+=4;
							for(j=0;j<obj.elem.sim_arr_val.length;j++)
							{
								dt1.setUint32(offset,obj.elem.sim_arr_val[j].byteLength,true);offset+=4;
								var tm1=new Uint8Array(obj.elem.sim_arr_val[j]);
								var k;
								for(k=0;k<obj.elem.sim_arr_val[j].byteLength;k++)
								{
									dt1.setUint8(offset,tm1[k]);offset+=1;
								}
							}
						}		
					}
					this.response=resp.slice(0,offset);
					break;
				}
				case GOM.gom_op.STORE_ARGEE_FILE:
				{
					sys_time=1000;
					_setSystemTime(sys_time&0xffffffff);

					simProjArrBuf=this.act_req.slice(offset+4);
					var arr8=GOM.convArrBufToArr8(simProjArrBuf);
					setLocalStorage("simCode",JSON.stringify(arr8));
					SIM.preprocessProjFile(simProjArrBuf);
					
					break;
					
				}
				case GOM.gom_op.WRITE_WITH_OFFSET:
				{
					var tmp=_getTmpBuf();
					writeArrayToMemory(new Uint8Array(this.act_req.slice(offset)),tmp);
					_writeObjWithOffsets(tmp);
					break;
				}
				case GOM.gom_op.GOM_HDLR_CMD_EXT_WRITE_WITH_OFFSET:
				{
					var tmp=_getTmpBuf();
					writeArrayToMemory(new Uint8Array(this.act_req.slice(offset)),tmp);
					_writeObjWithOffsetsExt(tmp);
					break;
				}
				case GOM.gom_op.GOM_HDLR_CMD_READ_BATCH:
				{
					   var MAX_OBJ_BATCH_TRANSF=16;	
					   var cnt = dt.getUint32(offset,true);offset+=4;
					   if (cnt > MAX_OBJ_BATCH_TRANSF)
					   {
						   break;
					   }
					   this.response=new ArrayBuffer(2*cnt);
					   break;
				}

				
				case GOM.gom_op.READ:
				case GOM.gom_op.WRITE:
				{
					var uid=dt.getUint32(offset,true);offset+=4;
					var inst=dt.getUint32(offset,true);offset+=4;
					var oid=GOM.findObj(uid);
					var obj=GOM.getObjByOID(oid);
					var ln1;
					if (gom_code==GOM.gom_op.WRITE)
					{
						ln1=dt.getUint32(offset,true);offset+=4;
					}
					if ((gom_code==GOM.gom_op.READ)&&(obj.elem.name=="ARGEE_GET_PROG_VARS"))
					{
						updateFromSim();
					}
					
					if ((gom_code==GOM.gom_op.WRITE)&&(obj.elem.name=="ARGEE_BREAKPOINT_UPLOAD_START"))
					{
						prev_sim_stopped=sim_stopped;
						sim_stopped=true;
						resumeSim(); // force the simulator to truly stop
						break_cmd=dt.getUint8(offset);offset++;
						var break_pos,break_data;
						break_pos=dt.getUint16(offset,true);offset+=2;
						break_data=dt.getUint32(offset,true);offset+=4;
						if ((break_cmd==DEBG_CMD_CONTINUE)||(break_cmd==DEBG_CMD_STEP))
						{
							_setupBreakpointReplacement(break_pos,break_data,1); // preemption point enable
						}
						else
						{
							_setupBreakpointReplacement(break_pos,break_data,0);
						}
						_updateStatusRegs(boolToInt(sim_stopped),boolToInt(exception_detected));
					}
					else if ((gom_code==GOM.gom_op.WRITE)&&(obj.elem.name=="ARGEE_BREAKPOINT_UPLOAD_FINILIZE"))
					{
						if ((break_cmd==DEBG_CMD_CONTINUE)||(break_cmd==DEBG_CMD_STEP)||(break_cmd==DEBG_CMD_BREAK_ALL))
						{
							if (exception_detected==false)
						   {
							   sim_stopped=false;
						   }
						}
						else if (break_cmd==DEBG_CMD_SET_CLR_BREAKPOINTS)
						{
							if (prev_sim_stopped==false)
							{
								sim_stopped=false;
							}
						}
						_updateStatusRegs(boolToInt(sim_stopped),boolToInt(exception_detected));
						if (sim_stopped==false)
						{
							sim_gen=runSim();
							sim_gen.next();
						}
					} 
					if ((gom_code==GOM.gom_op.READ)&&(obj.elem.sim_val!=undefined))
					{
						
						if (obj.elem.type==TYPE.NUM)
						{
							var arr=new Uint32Array(2);
							arr[0]=4;
							arr[1]=obj.elem.sim_val[inst];
							this.response=arr.buffer;
						}
						else
						{
							var i;
							this.response=new ArrayBuffer(4+obj.elem.sim_val[inst].byteLength);
							var dt1=new DataView(this.response);
							dt1.setUint32(0,obj.elem.sim_val[inst].byteLength,true);
							var map=new Uint8Array(obj.elem.sim_val[inst]);
							for(i=0;i<map.byteLength;i++)
							{
								dt1.setUint8(4+i,map[i]);
							}
						}	
					}
					else if ((gom_code==GOM.gom_op.READ)&&(obj.elem.sim_arr_val!=undefined))
					{
							var i;
							var resp=new ArrayBuffer(100000);
							var dt1=new DataView(resp);
							offset=0;
							dt1.setUint32(offset,obj.elem.sim_arr_val[0].byteLength,true);offset+=4;
							var tm1=new Uint8Array(obj.elem.sim_arr_val[0]);
							var k;
							for(k=0;k<obj.elem.sim_arr_val[0].byteLength;k++)
							{
								dt1.setUint8(offset,tm1[k]);offset+=1;
							}
							this.response=resp.slice(0,offset);
					}
					else if ((gom_code==GOM.gom_op.READ)&&(obj.elem.cust_get!=undefined))
					{
						this.response=obj.elem.cust_get(inst);
					}
					break;
				}
			}
			this.readyState=4;
			this.status=200;
			this.req_pending=false;
			this.onreadystatechange();
		}
	}
};

function getSimMode()
{
   if (typeof window === 'undefined') 
   {
      // nodejs
      return true;
   }
	return sim_mode;
}

function getSimAjaxObj()
{
	return sim_AjaxObj;
}

var sim_gom;


function* simInit()
{
	sim_gom==GOM_inst(true);
	sim_mode=true;
	if (getLocalStorage("simCode")==undefined)
	{
		prog_div=this.document.getElementById("prog");
		cont_menu_div=this.document.getElementById("cont_menu");
		men_div=this.document.getElementById("sup_men");
		var_div1=this.document.getElementById("vars");
		nav=this.document.getElementById("navigation");
		
		
		prog_div.style.visibility = 'hidden';
		var_div1.style.visibility = 'hidden';	
		men_div.style.visibility = 'hidden';
		nav.style.visibility = 'hidden';

		
		prog_div.style.visibility = 'visible';
		prog_div.style.width="99%";
		prog_div.innerHTML=sim_RenderDeviceSelection();
		yield 1;
	}
	simDevInit();
	//invocation = sim_AjaxObj;
	GOM.addAjaxAction(TRANSF.startEnvConn);
}




var sim_gen;
var tm1=null;
function resumeSim()
{
	clearTimeout(tm1)
	sim_gen.next();
}
function* wait(ms)
{
	if (tm1!=null)
	{
		clearTimeout(tm1)
	}
	tm1=setTimeout(resumeSim,ms);
	yield 1;
}



function preprocessProjFile(arr)
{
	var i;
	/*_MOV_VAL(5,0x435);
	var tmp=_GET_VAL(5);*/
	
	
	var tmp=_getTmpBuf();
	var prog_ptr=_getProgBuf();
	writeArrayToMemory(new Uint8Array(arr),tmp);
	if (GEN.getARM7_Mode()==true)
	{
		_setArm7Mode(1);
	}
	else
	{
		_setArm7Mode(0);
	}
	if (_processProjFile(tmp)==0)
	{
		sim_stopped=true;
		return;
	}
	/*_ARGEE_sim_PrepExecNST();
	var ret=0;
	while(ret==0)
	{
		ret=_ARGEE_simExec();
	}
	console.log("reg1 value:"+Module.getValue(prog_ptr+152,'i32'));
	_ARGEE_sim_PrepExecNST();
	ret=0;
	while(ret==0)
	{
		ret=_ARGEE_simExec();
	}
	console.log("reg1 value:"+Module.getValue(prog_ptr+152,'i32'));
	*/
	sim_stopped=false;
	prev_sim_stopped=false;
	exception_detected=false;
	break_cmd=-1;
	sim_gen=runSim();
	sim_gen.next();
}

function getCurrTime()
{
	var d=new Date();
	return d.getTime();
}

var sim_stopped=false;
var exception_detected=false;
function setSimStopped(stop)
{
	sim_stopped=stop;
	resumeSim(); // force the simulator to truly stop
}

var sys_time=1000;


function* runSim()
{
	var ret;
	var cnt=0;
	while(sim_stopped==false)
	{
		
		_ARGEE_sim_PrepExecNST();
		ret=0;
		_updateStatusRegs(boolToInt(sim_stopped),boolToInt(exception_detected));
		_setSystemTime(sys_time&0xffffffff);
		var start_scan_time_snapshot=getCurrTime();
		//console.log("PC="+_GET_VAL(15);
		cnt=1;
		while(ret==0)
		{
			if ((getCurrTime()-start_scan_time_snapshot)>1)
			{
				start_scan_time_snapshot=getCurrTime();
				
				//console.log("times: "+start_scan_time_snapshot+" "+getCurrTime());
				//console.log("PC="+_GET_VAL(15);
				_setNST_Preempt();
			}
			ret=_ARGEE_simExec();
			/*cnt++;
			if ((cnt%1000)==0)
			{
				_setNST_Preempt();
				//
				//yield* wait(1);
			}*/
		}
		if (ret==-3)
		{
			// breakpoint
			sim_stopped=true;
			_updateStatusRegs(boolToInt(sim_stopped),boolToInt(exception_detected));
			return;
		}
		else if (ret==-2)
		{
			// exception
			exception_detected=true;
			sim_stopped=true;
			_updateStatusRegs(boolToInt(sim_stopped),boolToInt(exception_detected));
			return;
		}
		else
		{
			sys_time+=5;
			_setSystemTime(sys_time&0xffffffff);
			yield* wait(5);
		}
	}
}


return {
	preprocessProjFile:preprocessProjFile,
	getSimGen:getSimGen,
	selectSimDevice:selectSimDevice,
	getSimMode:getSimMode,
	getSimAjaxObj:getSimAjaxObj,
	setSimStopped:setSimStopped,
	simExchTrig:simExchTrig,
	fillSimSlots:fillSimSlots,
	sim_InitDeviceStruct:sim_InitDeviceStruct,
	setup_slot_names:setup_slot_names,
	findConvSlotNum:findConvSlotNum,
	getSlotName:getSlotName,
	createEmptyARGEE_Proj:createEmptyARGEE_Proj,
	simDB_constructSliceObj:simDB_constructSliceObj,
	createImportedProj:createImportedProj,
}
}());

var SIM=ARGEE_sim;

/**** End of file ****/
// XHR2 library from NPM
if (typeof window ==='undefined')
{
   var http_lib=(function() 
   {
     var InvalidStateError, NetworkError, ProgressEvent, SecurityError, SyntaxError, XMLHttpRequest, XMLHttpRequestEventTarget, XMLHttpRequestUpload, http, https, os, url,
       extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
       hasProp = {}.hasOwnProperty;

     XMLHttpRequestEventTarget = (function() {
       function XMLHttpRequestEventTarget() {
         this.onloadstart = null;
         this.onprogress = null;
         this.onabort = null;
         this.onerror = null;
         this.onload = null;
         this.ontimeout = null;
         this.onloadend = null;
         this._listeners = {};
       }

       XMLHttpRequestEventTarget.prototype.onloadstart = null;

       XMLHttpRequestEventTarget.prototype.onprogress = null;

       XMLHttpRequestEventTarget.prototype.onabort = null;

       XMLHttpRequestEventTarget.prototype.onerror = null;

       XMLHttpRequestEventTarget.prototype.onload = null;

       XMLHttpRequestEventTarget.prototype.ontimeout = null;

       XMLHttpRequestEventTarget.prototype.onloadend = null;

       XMLHttpRequestEventTarget.prototype.addEventListener = function(eventType, listener) {
         var base;
         eventType = eventType.toLowerCase();
         (base = this._listeners)[eventType] || (base[eventType] = []);
         this._listeners[eventType].push(listener);
         return void 0;
       };

       XMLHttpRequestEventTarget.prototype.removeEventListener = function(eventType, listener) {
         var index;
         eventType = eventType.toLowerCase();
         if (this._listeners[eventType]) {
           index = this._listeners[eventType].indexOf(listener);
           if (index !== -1) {
             this._listeners[eventType].splice(index, 1);
           }
         }
         return void 0;
       };

       XMLHttpRequestEventTarget.prototype.dispatchEvent = function(event) {
         var eventType, j, len, listener, listeners;
         event.currentTarget = event.target = this;
         eventType = event.type;
         if (listeners = this._listeners[eventType]) {
           for (j = 0, len = listeners.length; j < len; j++) {
             listener = listeners[j];
             listener.call(this, event);
           }
         }
         if (listener = this["on" + eventType]) {
           listener.call(this, event);
         }
         return void 0;
       };

       return XMLHttpRequestEventTarget;

     })();

     http = require('http');

     https = require('https');

     os = require('os');

     url = require('url');

     XMLHttpRequest = (function(superClass) {
       extend(XMLHttpRequest, superClass);

       function XMLHttpRequest(options) {
         XMLHttpRequest.__super__.constructor.call(this);
         this.onreadystatechange = null;
         this._anonymous = options && options.anon;
         this.readyState = XMLHttpRequest.UNSENT;
         this.response = null;
         this.responseText = '';
         this.responseType = '';
         this.responseURL = '';
         this.status = 0;
         this.statusText = '';
         this.timeout = 0;
         this.upload = new XMLHttpRequestUpload(this);
         this._method = null;
         this._url = null;
         this._sync = false;
         this._headers = null;
         this._loweredHeaders = null;
         this._mimeOverride = null;
         this._request = null;
         this._response = null;
         this._responseParts = null;
         this._responseHeaders = null;
         this._aborting = null;
         this._error = null;
         this._loadedBytes = 0;
         this._totalBytes = 0;
         this._lengthComputable = false;
       }

       XMLHttpRequest.prototype.onreadystatechange = null;

       XMLHttpRequest.prototype.readyState = null;

       XMLHttpRequest.prototype.response = null;

       XMLHttpRequest.prototype.responseText = null;

       XMLHttpRequest.prototype.responseType = null;

       XMLHttpRequest.prototype.status = null;

       XMLHttpRequest.prototype.timeout = null;

       XMLHttpRequest.prototype.upload = null;

       XMLHttpRequest.prototype.open = function(method, url, async, user, password) {
         var xhrUrl;
         method = method.toUpperCase();
         if (method in this._restrictedMethods) {
           throw new SecurityError("HTTP method " + method + " is not allowed in XHR");
         }
         xhrUrl = this._parseUrl(url);
         if (async === void 0) {
           async = true;
         }
         switch (this.readyState) {
           case XMLHttpRequest.UNSENT:
           case XMLHttpRequest.OPENED:
           case XMLHttpRequest.DONE:
             null;
             break;
           case XMLHttpRequest.HEADERS_RECEIVED:
           case XMLHttpRequest.LOADING:
             null;
         }
         this._method = method;
         this._url = xhrUrl;
         this._sync = !async;
         this._headers = {};
         this._loweredHeaders = {};
         this._mimeOverride = null;
         this._setReadyState(XMLHttpRequest.OPENED);
         this._request = null;
         this._response = null;
         this.status = 0;
         this.statusText = '';
         this._responseParts = [];
         this._responseHeaders = null;
         this._loadedBytes = 0;
         this._totalBytes = 0;
         this._lengthComputable = false;
         return void 0;
       };

       XMLHttpRequest.prototype.setRequestHeader = function(name, value) {
         var loweredName;
         if (this.readyState !== XMLHttpRequest.OPENED) {
           throw new InvalidStateError("XHR readyState must be OPENED");
         }
         loweredName = name.toLowerCase();
         if (this._restrictedHeaders[loweredName] || /^sec\-/.test(loweredName) || /^proxy-/.test(loweredName)) {
           console.warn("Refused to set unsafe header \"" + name + "\"");
           return void 0;
         }
         value = value.toString();
         if (loweredName in this._loweredHeaders) {
           name = this._loweredHeaders[loweredName];
           this._headers[name] = this._headers[name] + ', ' + value;
         } else {
           this._loweredHeaders[loweredName] = name;
           this._headers[name] = value;
         }
         return void 0;
       };

       XMLHttpRequest.prototype.send = function(data) {
         if (this.readyState !== XMLHttpRequest.OPENED) {
           throw new InvalidStateError("XHR readyState must be OPENED");
         }
         if (this._request) {
           throw new InvalidStateError("send() already called");
         }
         switch (this._url.protocol) {
           case 'file:':
             this._sendFile(data);
             break;
           case 'http:':
           case 'https:':
             this._sendHttp(data);
             break;
           default:
             throw new NetworkError("Unsupported protocol " + this._url.protocol);
         }
         return void 0;
       };

       XMLHttpRequest.prototype.abort = function() {
         if (!this._request) {
           return;
         }
         this._request.abort();
         this._setError();
         this._dispatchProgress('abort');
         this._dispatchProgress('loadend');
         return void 0;
       };

       XMLHttpRequest.prototype.getResponseHeader = function(name) {
         var loweredName;
         if (!this._responseHeaders) {
           return null;
         }
         loweredName = name.toLowerCase();
         if (loweredName in this._responseHeaders) {
           return this._responseHeaders[loweredName];
         } else {
           return null;
         }
       };

       XMLHttpRequest.prototype.getAllResponseHeaders = function() {
         var lines, name, value;
         if (!this._responseHeaders) {
           return '';
         }
         lines = (function() {
           var ref, results;
           ref = this._responseHeaders;
           results = [];
           for (name in ref) {
             value = ref[name];
             results.push(name + ": " + value);
           }
           return results;
         }).call(this);
         return lines.join("\r\n");
       };

       XMLHttpRequest.prototype.overrideMimeType = function(newMimeType) {
         if (this.readyState === XMLHttpRequest.LOADING || this.readyState === XMLHttpRequest.DONE) {
           throw new InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");
         }
         this._mimeOverride = newMimeType.toLowerCase();
         return void 0;
       };

       XMLHttpRequest.prototype.nodejsSet = function(options) {
         var baseUrl, parsedUrl;
         if ('httpAgent' in options) {
           this.nodejsHttpAgent = options.httpAgent;
         }
         if ('httpsAgent' in options) {
           this.nodejsHttpsAgent = options.httpsAgent;
         }
         if ('baseUrl' in options) {
           baseUrl = options.baseUrl;
           if (baseUrl !== null) {
             parsedUrl = url.parse(baseUrl, false, true);
             if (!parsedUrl.protocol) {
               throw new SyntaxError("baseUrl must be an absolute URL");
             }
           }
           this.nodejsBaseUrl = baseUrl;
         }
         return void 0;
       };

       XMLHttpRequest.nodejsSet = function(options) {
         XMLHttpRequest.prototype.nodejsSet(options);
         return void 0;
       };

       XMLHttpRequest.prototype.UNSENT = 0;

       XMLHttpRequest.UNSENT = 0;

       XMLHttpRequest.prototype.OPENED = 1;

       XMLHttpRequest.OPENED = 1;

       XMLHttpRequest.prototype.HEADERS_RECEIVED = 2;

       XMLHttpRequest.HEADERS_RECEIVED = 2;

       XMLHttpRequest.prototype.LOADING = 3;

       XMLHttpRequest.LOADING = 3;

       XMLHttpRequest.prototype.DONE = 4;

       XMLHttpRequest.DONE = 4;

       XMLHttpRequest.prototype.nodejsHttpAgent = http.globalAgent;

       XMLHttpRequest.prototype.nodejsHttpsAgent = https.globalAgent;

       XMLHttpRequest.prototype.nodejsBaseUrl = null;

       XMLHttpRequest.prototype._restrictedMethods = {
         CONNECT: true,
         TRACE: true,
         TRACK: true
       };

       XMLHttpRequest.prototype._restrictedHeaders = {
         'accept-charset': true,
         'accept-encoding': true,
         'access-control-request-headers': true,
         'access-control-request-method': true,
         connection: true,
         'content-length': true,
         cookie: true,
         cookie2: true,
         date: true,
         dnt: true,
         expect: true,
         host: true,
         'keep-alive': true,
         origin: true,
         referer: true,
         te: true,
         trailer: true,
         'transfer-encoding': true,
         upgrade: true,
         'user-agent': true,
         via: true
       };

       XMLHttpRequest.prototype._privateHeaders = {
         'set-cookie': true,
         'set-cookie2': true
       };

       XMLHttpRequest.prototype._userAgent = ("Mozilla/5.0 (" + (os.type()) + " " + (os.arch()) + ") ") + ("node.js/" + process.versions.node + " v8/" + process.versions.v8);

       XMLHttpRequest.prototype._setReadyState = function(newReadyState) {
         var event;
         this.readyState = newReadyState;
         event = new ProgressEvent('readystatechange');
         this.dispatchEvent(event);
         return void 0;
       };

       XMLHttpRequest.prototype._sendFile = function() {
         if (this._url.method !== 'GET') {
           throw new NetworkError('The file protocol only supports GET');
         }
         throw new Error("Protocol file: not implemented");
       };

       XMLHttpRequest.prototype._sendHttp = function(data) {
         if (this._sync) {
           throw new Error("Synchronous XHR processing not implemented");
         }
         if ((data != null) && (this._method === 'GET' || this._method === 'HEAD')) {
           console.warn("Discarding entity body for " + this._method + " requests");
           data = null;
         } else {
           data || (data = '');
         }
         this.upload._setData(data);
         this._finalizeHeaders();
         this._sendHxxpRequest();
         return void 0;
       };

       XMLHttpRequest.prototype._sendHxxpRequest = function() {
         var agent, hxxp, request;
         if (this._url.protocol === 'http:') {
           hxxp = http;
           agent = this.nodejsHttpAgent;
         } else {
           hxxp = https;
           agent = this.nodejsHttpsAgent;
         }
         request = hxxp.request({
           hostname: this._url.hostname,
           port: this._url.port,
           path: this._url.path,
           auth: this._url.auth,
           method: this._method,
           headers: this._headers,
           agent: agent
         });
         this._request = request;
         if (this.timeout) {
           request.setTimeout(this.timeout, (function(_this) {
             return function() {
               return _this._onHttpTimeout(request);
             };
           })(this));
         }
         request.on('response', (function(_this) {
           return function(response) {
             return _this._onHttpResponse(request, response);
           };
         })(this));
         request.on('error', (function(_this) {
           return function(error) {
             return _this._onHttpRequestError(request, error);
           };
         })(this));
         this.upload._startUpload(request);
         if (this._request === request) {
           this._dispatchProgress('loadstart');
         }
         return void 0;
       };

       XMLHttpRequest.prototype._finalizeHeaders = function() {
         this._headers['Connection'] = 'keep-alive';
         this._headers['Host'] = this._url.host;
         if (this._anonymous) {
           this._headers['Referer'] = 'about:blank';
         }
         this._headers['User-Agent'] = this._userAgent;
         this.upload._finalizeHeaders(this._headers, this._loweredHeaders);
         return void 0;
       };

       XMLHttpRequest.prototype._onHttpResponse = function(request, response) {
         var lengthString;
         if (this._request !== request) {
           return;
         }
         switch (response.statusCode) {
           case 301:
           case 302:
           case 303:
           case 307:
           case 308:
             this._url = this._parseUrl(response.headers['location']);
             this._method = 'GET';
             if ('content-type' in this._loweredHeaders) {
               delete this._headers[this._loweredHeaders['content-type']];
               delete this._loweredHeaders['content-type'];
             }
             if ('Content-Type' in this._headers) {
               delete this._headers['Content-Type'];
             }
             delete this._headers['Content-Length'];
             this.upload._reset();
             this._finalizeHeaders();
             this._sendHxxpRequest();
             return;
         }
         this._response = response;
         this._response.on('data', (function(_this) {
           return function(data) {
             return _this._onHttpResponseData(response, data);
           };
         })(this));
         this._response.on('end', (function(_this) {
           return function() {
             return _this._onHttpResponseEnd(response);
           };
         })(this));
         this._response.on('close', (function(_this) {
           return function() {
             return _this._onHttpResponseClose(response);
           };
         })(this));
         this.responseURL = this._url.href.split('#')[0];
         this.status = this._response.statusCode;
         this.statusText = http.STATUS_CODES[this.status];
         this._parseResponseHeaders(response);
         if (lengthString = this._responseHeaders['content-length']) {
           this._totalBytes = parseInt(lengthString);
           this._lengthComputable = true;
         } else {
           this._lengthComputable = false;
         }
         return this._setReadyState(XMLHttpRequest.HEADERS_RECEIVED);
       };

       XMLHttpRequest.prototype._onHttpResponseData = function(response, data) {
         if (this._response !== response) {
           return;
         }
         this._responseParts.push(data);
         this._loadedBytes += data.length;
         if (this.readyState !== XMLHttpRequest.LOADING) {
           this._setReadyState(XMLHttpRequest.LOADING);
         }
         return this._dispatchProgress('progress');
       };

       XMLHttpRequest.prototype._onHttpResponseEnd = function(response) {
         if (this._response !== response) {
           return;
         }
         this._parseResponse();
         this._request = null;
         this._response = null;
         this._setReadyState(XMLHttpRequest.DONE);
         this._dispatchProgress('load');
         return this._dispatchProgress('loadend');
       };

       XMLHttpRequest.prototype._onHttpResponseClose = function(response) {
         var request;
         if (this._response !== response) {
           return;
         }
         request = this._request;
         this._setError();
         request.abort();
         this._setReadyState(XMLHttpRequest.DONE);
         this._dispatchProgress('error');
         return this._dispatchProgress('loadend');
       };

       XMLHttpRequest.prototype._onHttpTimeout = function(request) {
         if (this._request !== request) {
           return;
         }
         this._setError();
         request.abort();
         this._setReadyState(XMLHttpRequest.DONE);
         this._dispatchProgress('timeout');
         return this._dispatchProgress('loadend');
       };

       XMLHttpRequest.prototype._onHttpRequestError = function(request, error) {
         if (this._request !== request) {
           return;
         }
         this._setError();
         request.abort();
         this._setReadyState(XMLHttpRequest.DONE);
         this._dispatchProgress('error');
         return this._dispatchProgress('loadend');
       };

       XMLHttpRequest.prototype._dispatchProgress = function(eventType) {
         var event;
         event = new ProgressEvent(eventType);
         event.lengthComputable = this._lengthComputable;
         event.loaded = this._loadedBytes;
         event.total = this._totalBytes;
         this.dispatchEvent(event);
         return void 0;
       };

       XMLHttpRequest.prototype._setError = function() {
         this._request = null;
         this._response = null;
         this._responseHeaders = null;
         this._responseParts = null;
         return void 0;
       };

       XMLHttpRequest.prototype._parseUrl = function(urlString) {
         var absoluteUrlString, index, password, user, xhrUrl;
         if (this.nodejsBaseUrl === null) {
           absoluteUrlString = urlString;
         } else {
           absoluteUrlString = url.resolve(this.nodejsBaseUrl, urlString);
         }
         xhrUrl = url.parse(absoluteUrlString, false, true);
         xhrUrl.hash = null;
         if (xhrUrl.auth && ((typeof user !== "undefined" && user !== null) || (typeof password !== "undefined" && password !== null))) {
           index = xhrUrl.auth.indexOf(':');
           if (index === -1) {
             if (!user) {
               user = xhrUrl.auth;
             }
           } else {
             if (!user) {
               user = xhrUrl.substring(0, index);
             }
             if (!password) {
               password = xhrUrl.substring(index + 1);
             }
           }
         }
         if (user || password) {
           xhrUrl.auth = user + ":" + password;
         }
         return xhrUrl;
       };

       XMLHttpRequest.prototype._parseResponseHeaders = function(response) {
         var loweredName, name, ref, value;
         this._responseHeaders = {};
         ref = response.headers;
         for (name in ref) {
           value = ref[name];
           loweredName = name.toLowerCase();
           if (this._privateHeaders[loweredName]) {
             continue;
           }
           if (this._mimeOverride !== null && loweredName === 'content-type') {
             value = this._mimeOverride;
           }
           this._responseHeaders[loweredName] = value;
         }
         if (this._mimeOverride !== null && !('content-type' in this._responseHeaders)) {
           this._responseHeaders['content-type'] = this._mimeOverride;
         }
         return void 0;
       };

       XMLHttpRequest.prototype._parseResponse = function() {
         var arrayBuffer, buffer, i, j, jsonError, ref, view;
         if (Buffer.concat) {
           buffer = Buffer.concat(this._responseParts);
         } else {
           buffer = this._concatBuffers(this._responseParts);
         }
         this._responseParts = null;
         switch (this.responseType) {
           case 'text':
             this._parseTextResponse(buffer);
             break;
           case 'json':
             this.responseText = null;
             try {
               this.response = JSON.parse(buffer.toString('utf-8'));
             } catch (error1) {
               jsonError = error1;
               this.response = null;
             }
             break;
           case 'buffer':
             this.responseText = null;
             this.response = buffer;
             break;
           case 'arraybuffer':
             this.responseText = null;
             arrayBuffer = new ArrayBuffer(buffer.length);
             view = new Uint8Array(arrayBuffer);
             for (i = j = 0, ref = buffer.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
               view[i] = buffer[i];
             }
             this.response = arrayBuffer;
             break;
           default:
             this._parseTextResponse(buffer);
         }
         return void 0;
       };

       XMLHttpRequest.prototype._parseTextResponse = function(buffer) {
         var e;
         try {
           this.responseText = buffer.toString(this._parseResponseEncoding());
         } catch (error1) {
           e = error1;
           this.responseText = buffer.toString('binary');
         }
         this.response = this.responseText;
         return void 0;
       };

       XMLHttpRequest.prototype._parseResponseEncoding = function() {
         var contentType, encoding, match;
         encoding = null;
         if (contentType = this._responseHeaders['content-type']) {
           if (match = /\;\s*charset\=(.*)$/.exec(contentType)) {
             return match[1];
           }
         }
         return 'utf-8';
       };

       XMLHttpRequest.prototype._concatBuffers = function(buffers) {
         var buffer, j, k, len, len1, length, target;
         if (buffers.length === 0) {
           return new Buffer(0);
         }
         if (buffers.length === 1) {
           return buffers[0];
         }
         length = 0;
         for (j = 0, len = buffers.length; j < len; j++) {
           buffer = buffers[j];
           length += buffer.length;
         }
         target = new Buffer(length);
         length = 0;
         for (k = 0, len1 = buffers.length; k < len1; k++) {
           buffer = buffers[k];
           buffer.copy(target, length);
           length += buffer.length;
         }
         return target;
       };

       return XMLHttpRequest;

     })(XMLHttpRequestEventTarget);

     
     XMLHttpRequest.XMLHttpRequest = XMLHttpRequest;

     SecurityError = (function(superClass) {
       extend(SecurityError, superClass);

       function SecurityError() {
         SecurityError.__super__.constructor.apply(this, arguments);
       }

       return SecurityError;

     })(Error);

     XMLHttpRequest.SecurityError = SecurityError;

     InvalidStateError = (function(superClass) {
       extend(InvalidStateError, superClass);

       function InvalidStateError() {
         InvalidStateError.__super__.constructor.apply(this, arguments);
       }

       return InvalidStateError;

     })(Error);

     InvalidStateError = (function(superClass) {
       extend(InvalidStateError, superClass);

       function InvalidStateError() {
         return InvalidStateError.__super__.constructor.apply(this, arguments);
       }

       return InvalidStateError;

     })(Error);

     XMLHttpRequest.InvalidStateError = InvalidStateError;

     NetworkError = (function(superClass) {
       extend(NetworkError, superClass);

       function NetworkError() {
         NetworkError.__super__.constructor.apply(this, arguments);
       }

       return NetworkError;

     })(Error);

     XMLHttpRequest.SyntaxError = SyntaxError;

     SyntaxError = (function(superClass) {
       extend(SyntaxError, superClass);

       function SyntaxError() {
         SyntaxError.__super__.constructor.apply(this, arguments);
       }

       return SyntaxError;

     })(Error);

     ProgressEvent = (function() {
       function ProgressEvent(type) {
         this.type = type;
         this.target = null;
         this.currentTarget = null;
         this.lengthComputable = false;
         this.loaded = 0;
         this.total = 0;
       }

       ProgressEvent.prototype.bubbles = false;

       ProgressEvent.prototype.cancelable = false;

       ProgressEvent.prototype.target = null;

       ProgressEvent.prototype.loaded = null;

       ProgressEvent.prototype.lengthComputable = null;

       ProgressEvent.prototype.total = null;

       return ProgressEvent;

     })();

     XMLHttpRequest.ProgressEvent = ProgressEvent;

     XMLHttpRequestUpload = (function(superClass) {
       extend(XMLHttpRequestUpload, superClass);

       function XMLHttpRequestUpload(request) {
         XMLHttpRequestUpload.__super__.constructor.call(this);
         this._request = request;
         this._reset();
       }

       XMLHttpRequestUpload.prototype._reset = function() {
         this._contentType = null;
         this._body = null;
         return void 0;
       };

       XMLHttpRequestUpload.prototype._setData = function(data) {
         var body, i, j, k, offset, ref, ref1, view;
         if (typeof data === 'undefined' || data === null) {
           return;
         }
         if (typeof data === 'string') {
           if (data.length !== 0) {
             this._contentType = 'text/plain;charset=UTF-8';
           }
           this._body = new Buffer(data, 'utf8');
         } else if (Buffer.isBuffer(data)) {
           this._body = data;
         } else if (data instanceof ArrayBuffer) {
           body = new Buffer(data.byteLength);
           view = new Uint8Array(data);
           for (i = j = 0, ref = data.byteLength; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
             body[i] = view[i];
           }
           this._body = body;
         } else if (data.buffer && data.buffer instanceof ArrayBuffer) {
           body = new Buffer(data.byteLength);
           offset = data.byteOffset;
           view = new Uint8Array(data.buffer);
           for (i = k = 0, ref1 = data.byteLength; 0 <= ref1 ? k < ref1 : k > ref1; i = 0 <= ref1 ? ++k : --k) {
             body[i] = view[i + offset];
           }
           this._body = body;
         } else {
           throw new Error("Unsupported send() data " + data);
         }
         return void 0;
       };

       XMLHttpRequestUpload.prototype._finalizeHeaders = function(headers, loweredHeaders) {
         if (this._contentType) {
           if (!('content-type' in loweredHeaders)) {
             headers['Content-Type'] = this._contentType;
           }
         }
         if (this._body) {
           headers['Content-Length'] = this._body.length.toString();
         }
         return void 0;
       };

       XMLHttpRequestUpload.prototype._startUpload = function(request) {
         if (this._body) {
           request.write(this._body);
         }
         request.end();
         return void 0;
       };

       return XMLHttpRequestUpload;

     })(XMLHttpRequestEventTarget);

     XMLHttpRequest.XMLHttpRequestUpload = XMLHttpRequestUpload;
     
     return{
        XMLHttpRequest:XMLHttpRequest,
     }
   }()); 

   XMLHttpRequest=http_lib.XMLHttpRequest;
}
/********************************************************************************
 *
 * Copyright (c) 2016 by TUSA
 *
 ********************************************************************************
 *
 *  Initial Author       : Roman Glistvain
 *  Maintainers          : Roman Glistvain
 *
 *
 ********************************************************************************
 *
 *  DESCRIPTION: Common configuration variables for the ARGEE IDE
 *
 *******************************************************************************/

var argee_interscan_delay=2; // time in ms
var show_warning_on_close=false;
var nst_inst_trace_buf=128; // bytes (has to be a power of 2)
var max_prog_traces=50;
var left_col_width=35;
//var font_family='Times New Roman';
var font_family='Helvetica, "Helvetica Neue", Arial, sans-serif';
//var font_family='Arial';
var hmi_font_family='Arial';
var display_import_file_info=true;
var argee_modbus_tcp_connection_timeout=10; // time in sec 
var experimental_toggle_add_button_below=true;
/********************************************************************************
 *
 * Copyright (c) 2013 by TUSA
 *
 ********************************************************************************
 *
 *  Initial Author       : Roman Glistvain
 *  Maintainers          : Roman Glistvain
 *
 *
 ********************************************************************************
 *
 *  DESCRIPTION: ARGEE GOM representation. This file contains data structures as
 *               well as object descriptions for GOM objects. It also contains AJAX
 *               code required to transfer objects and project files to the firmware.
 *
 *******************************************************************************/

var TYPE={NUM:0,ARR:1,JS_ARR:2};
 
 
var field_types=
{
	enumeration:0,
	var_list:1,
	str_num:2,
	fixed:3,
	str_num_var:4, // field which exposes variable context menu extension
	str_text_area:5,
	num:6,
	state_enum:7,
	actions_add_delete:8,
	actions_add_delete_init:9,
	enumeration_special:10, // instead of enumerated value -> it stores the actual enumerated string 
};
 
 

 
function GOM_inst(shadow_gom)
{ 

var UID_WEBSERVER_BASE = 54;    
var UID_ARGEE_BASE = 73;    
var UID_DHCPCL_BASE=6;
var UID_MULTPC_BASE=0x1b;
var UID_SAPI_APP_BASE=0x1c;	
var UID_MB_SERVER_BASE=39

/*
var  ARGEE_BOOT_PROJ_ENABLED=2;
var  ARGEE_GET_SUB_IDS_OBJ=10;
var  ARGEE_KERN_VER_VERIFY=18;
var  ARGEE_ENV_VER=19;
var  ARGEE_PROJ_CHECKSUM=20;
var  ARGEE_CTRL_PREEMPT_POINT_OFFSET=21;
var  ARGEE_CTRL_SAVE_LR_OFFSET=22;
var  ARGEE_CTRL_SAVE_SP_OFFSET=23;
var  ARGEE_CTRL_CURR_TASK_OFFSET=24;
var  ARGEE_CTRL_FUNCT_TBL_OFFSET=25;
var  ARGEE_CTRL_FUNCT_TBL_LEN_OFFSET=26;
var  ARGEE_CTRL_IO_MAP_OFFSET=27;
var  ARGEE_CTRL_IO_MAP_LEN=28;
var  ARGEE_CTRL_VAR_SEGM_SIZE=29;
var  ARGEE_RUN_CODE=30;
var  ARGEE_SOURCE_CODE=31;
var  ARGEE_GET_PROG_VARS=32;
var  ARGEE_IO_INP=33;
var  ARGEE_IO_OUTP=34;
var  ARGEE_IO_DIAG=35;
var  ARGEE_IO_PARAM=36;
var  ARGEE_GET_PLC_INP=37;
var  ARGEE_GET_PLC_OUTP=38;
*/




var obj_def=
[

	{UID_BASE:UID_DHCPCL_BASE,
		sub_obj:
		[
			{name:"ARGEE_DEV_NAME",off:3,type:TYPE.ARR,num_inst:1,val:[]},
		]
	},

	{UID_BASE:UID_MULTPC_BASE,
		sub_obj:
		[
			{name:"MULTPC_ORDER_NUM",off:0x16,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"MULTPC_FIELDBUS_CONNECTED",off:38,type:TYPE.NUM,num_inst:1,val:[]},
		]
	},
	{UID_BASE:UID_MB_SERVER_BASE,
		sub_obj:
		[
			{name:"MBS_CONNECTION_TIMEOUT",off:60,type:TYPE.NUM,num_inst:1,val:[]},
		]
	},
   

	{UID_BASE:UID_SAPI_APP_BASE,
		sub_obj:
		[
			{name:"SAPI_APP_VER_STRING",off:3,type:TYPE.ARR,num_inst:1,val:[]},
		]
	},

	{UID_BASE:UID_WEBSERVER_BASE,
		sub_obj:
		[
			{name:"IODB_GET_ENTRY_OBJ",off:5,type:TYPE.ARR,num_inst:0xffffffff,val:[]},
			{name:"IODB_GET_MOD_NAME_OBJ",off:6,type:TYPE.ARR,num_inst:0xffffffff,val:[]},
			{name:"IODB_GET_NUM_ENTRIES_OBJ",off:4,type:TYPE.NUM,num_inst:0xffffffff,val:[]},
			{name:"IODB_GET_ENTRY_ENUM_ELEMS_OBJ",off:8,type:TYPE.ARR,num_inst:0xffffffff,val:[]},			
		]
	},
	

	{UID_BASE:UID_ARGEE_BASE,
		sub_obj:
		[
			{name:"ARGEE_COMP_VER",off:0,type:TYPE.NUM,num_inst:2,val:[]},
			{name:"ARGEE_BOOT_PROJ_ENABLED",off:2,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_GET_SUB_IDS_OBJ",off:10,type:TYPE.ARR,num_inst:1,val:[]},
			{name:"ARGEE_CHECK_PASSWORD",off:9,type:TYPE.ARR,num_inst:1,val:[]},
			{name:"ARGEE_PROJ_TITLE",off:17,type:TYPE.ARR,num_inst:1,val:[]},
			{name:"ARGEE_INTERSCAN_DELAY",off:19,type:TYPE.NUM,num_inst:1,val:[]},
			// only available in get_all_inst command
			//{name:"ARGEE_IO_TARGET_ID",off:39,type:TYPE.NUM,num_inst:100,val:[]},
			
			{name:"ARGEE_KERN_VER_VERIFY",off:118,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_ENV_VER",off:119,type:TYPE.NUM,num_inst:1,val:[],ignore_in_device:true},
			{name:"ARGEE_PROJ_NV_CHECKSUM",off:120,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CTRL_PREEMPT_POINT_OFFSET",off:121,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CTRL_SAVE_LR_OFFSET",off:122,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CTRL_SAVE_SP_OFFSET",off:123,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CTRL_CURR_TASK_OFFSET",off:124,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CTRL_FUNCT_TBL_OFFSET",off:125,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CTRL_FUNCT_TBL_LEN_OFFSET",off:126,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CTRL_IO_MAP_OFFSET",off:127,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CTRL_INSTR_TRACE_OFFSET",off:128,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CTRL_VAR_SEGM_SIZE",off:129,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_RUN_CODE",off:130,type:TYPE.ARR,num_inst:1,val:[]},
			{name:"ARGEE_SOURCE_CODE",off:131,type:TYPE.ARR,num_inst:1,val:[],ignore_in_device:true},
			{name:"ARGEE_GET_PROG_VARS",off:132,type:TYPE.ARR,num_inst:1,val:[]},
			{name:"ARGEE_IO_INP",off:133,type:TYPE.ARR,num_inst:100,val:[]},
			{name:"ARGEE_IO_INP_SUBM_MIRR",off:65536+133,type:TYPE.ARR,num_inst:100,val:[]},
			{name:"ARGEE_IO_OUTP",off:134,type:TYPE.ARR,num_inst:100,val:[]},
			{name:"ARGEE_IO_DIAG",off:135,type:TYPE.ARR,num_inst:100,val:[]},
			{name:"ARGEE_IO_DIAG_SUBM_MIRR",off:65536+135,type:TYPE.ARR,num_inst:100,val:[]},
			{name:"ARGEE_IO_PARAM",off:136,type:TYPE.ARR,num_inst:100,val:[]},
			{name:"ARGEE_GET_PLC_INP",off:137,type:TYPE.ARR,num_inst:1,val:[]},
			{name:"ARGEE_GET_PLC_INP_SUBM_MIRR",off:65536+137,type:TYPE.ARR,num_inst:1,val:[]},
			{name:"ARGEE_GET_PLC_OUTP",off:138,type:TYPE.ARR,num_inst:1,val:[]},
			{name:"ARGEE_IO_TARG_MOD_ID",off:139,type:TYPE.NUM,num_inst:256,val:[]},
			{name:"ARGEE_BASE_MEM_ADDR",off:140,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CLEAR_INSTR_TRACE",off:141,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_PROJ_TYPE",off:142,type:TYPE.NUM,num_inst:1,val:[],ignore_in_device:true},
			{name:"ARGEE_CTRL_LR_CALLER_OFFSET",off:143,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CTRL_FP_CALLER_OFFSET",off:144,type:TYPE.NUM,num_inst:1,val:[]},
			// use invalid UID offset >16 bit to avoid having internal objects but still exchangable with the device having same UID
			{name:"ARGEE_ARGEE_STORAGE",off:65536+132,type:TYPE.ARR,num_inst:1,val:[]}, // special object which is a mirror object of ARGEE_GET_PROG_VARS -> used to store the intermediate values in the HMI
			{name:"ARGEE_CURR_TIMER_TICK",off:145,type:TYPE.ARR,num_inst:1,val:[]},
			{name:"ARGEE_PATCHED_CODE_STORAGE",off:(65536*2)+130,type:TYPE.ARR,num_inst:1,val:[]}, // special object which is a mirror object of ARGEE_GET_PROG_VARS -> used to store the breakpoint patched code			
			{name:"ARGEE_BREAKPOINT_UPLOAD_START",off:146,type:TYPE.ARR,num_inst:1,val:[]},
			{name:"ARGEE_BREAKPOINT_UPLOAD_FINILIZE",off:147,type:TYPE.ARR,num_inst:1,val:[]},			
			{name:"ARGEE_CTRL_DIRECT_ASM_CALL_SEGM_OFFSET",off:148,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_CTRL_INTERCYCLE_TIME",off:149,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"ARGEE_PROJ_DEV_NAME",off:150,type:TYPE.ARR,num_inst:1,val:[],ignore_in_device:true},
			{name:"ARGEE_PROJ_DEV_EXPECTED_ENV_REV",off:151,type:TYPE.NUM,num_inst:1,val:[],ignore_in_device:true},
			{name:"ARGEE_PROJ_DEV_ORDER_NUM",off:152,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"NST_ARGEE_BREAKPOINT_ITEM_LIST",off:0,type:TYPE.JS_ARR,num_inst:1,val:[]},	
			{name:"DBG_TASK_TRACE_LEVEL",off:0,type:TYPE.NUM,num_inst:1,val:[]},	
			{name:"DBG_TASK_TRACE",off:0,type:TYPE.JS_ARR,num_inst:1,val:[]},	
			{name:"DEV_RUN",off:0,type:TYPE.NUM,num_inst:1,val:[]},	
			{name:"DEV_EXCEPTION",off:0,type:TYPE.NUM,num_inst:1,val:[]},	
			{name:"INSTR_TRACE",off:0,type:TYPE.JS_ARR,num_inst:1,val:[]},
			{name:"WAIT_TRACE",off:0,type:TYPE.JS_ARR,num_inst:1,val:[]},
			{name:"IP_ADDRESS",off:0,type:TYPE.ARR,num_inst:1,val:[]},
			{name:"GOTO_LINE",off:0,type:TYPE.NUM,num_inst:1,val:[]},	
			{name:"SPECIAL_REG",off:0,type:TYPE.ARR,num_inst:1,val:[]},	
			{name:"SPECIAL_REG_SUBM_MIRR",off:6000,type:TYPE.ARR,num_inst:1,val:[]},	
			{name:"PROG_TRACE_TBL_SEG_OFFSET_OBJ",off:154,type:TYPE.NUM,num_inst:1,val:[]},
			{name:"HMI_SOURCE_CODE",off:7000,type:TYPE.ARR,num_inst:1,val:[],ignore_in_device:true},	
			{name:"MODULE_LIST_ARRAY",off:7001,type:TYPE.ARR,num_inst:1,val:[],ignore_in_device:true},	
			{name:"ARGEE_PROJ_APP_VER_STRING",off:7002,type:TYPE.ARR,num_inst:1,val:[],ignore_in_device:true},	
			{name:"ARGEE_PROJ_CHECKSUM",off:7003,type:TYPE.NUM,num_inst:1,val:[],ignore_in_device:true},
			{name:"DEV_EXCEPTION_NUM",off:0,type:TYPE.NUM,num_inst:1,val:[]},	
		]
	}
]	
var url;
function setDestinationURL(targetURL)
{
	url=targetURL;
}

function getValDataView(obj_str,inst)
{
	var id=objEnum[obj_str];
	return objDb[id].elem.val_dv[inst];	
}

function getPrevDataView(obj_str,inst)
{
	var id=objEnum[obj_str];
	return objDb[id].elem.prev_dv[inst];	
}


function clearDVs()
{
	for(i in objDb)
	{
		if (objDb[i].elem.val_dv!=undefined)
		{
			//delete objDb[i].elem.val_dv;
			delete objDb[i].elem.prev_dv;
			delete objDb[i].elem.prev_val;
		}
	}
}

function findObj(uid)
{
	var i,j;
	var uid_real=uid>>>16;
	var uid_off=uid&0xffff;
	for(i=0;i<obj_def.length;i++)
	{
		if (obj_def[i].UID_BASE==uid_real)
		{
			for(j=0;j<obj_def[i].sub_obj.length;j++)
			{
				if (obj_def[i].sub_obj[j].off==uid_off)
				{
					return objEnum[obj_def[i].sub_obj[j].name];
				}
			}
		}
	}
	return 0xffffffff;
}


function getObjNameStr(uid)
{
	var i,j;
	var uid_real=uid>>>16;
	var uid_off=uid&0xffff;
	for(i=0;i<obj_def.length;i++)
	{
		if (obj_def[i].UID_BASE==uid_real)
		{
			for(j=0;j<obj_def[i].sub_obj.length;j++)
			{
				if (obj_def[i].sub_obj[j].off==uid_off)
				{
					return obj_def[i].sub_obj[j].name;
				}
			}
		}
	}
	return null;
	
}

var objDb=[];

var objEnum={};

function getObjEnum()
{
	return objEnum;
}


function convertJsonToGOM(json_obj_list)
{
   var i;
   for(i=0;i<json_obj_list.length;i++)
   {
      var oid=objEnum[json_obj_list[i].name];
		if (objDb[oid].elem.type==TYPE.NUM)
		{
			objDb[oid].elem.val[json_obj_list[i].inst]=json_obj_list[i].val;
		}
		else
		{
         var len1=json_obj_list[i].val.length;
         var arr1 = Object.values(json_obj_list[i].val);
         var arr=new Uint8Array(arr1);
			objDb[oid].elem.val[json_obj_list[i].inst]=arr.buffer;
			syncDV(oid,json_obj_list[i].inst);
		}
   }
}

function convertToJSObj(gom_obj_list)
{
   var i;
   var obj_list=[];
   for(i=0;i<gom_obj_list.length;i++)
   {
      var name=gom_obj_list[i][0];
      var inst=gom_obj_list[i][1];
      var oid=objEnum[name];
      var ptr=objDb[oid].elem.val[inst];
      if (objDb[oid].elem.type==TYPE.NUM)
      {
         len=4;
      }
      else
      {
         len=ptr.byteLength;
      }
      obj_list[obj_list.length]={name:name,inst:inst,type:objDb[oid].elem.type};
      if (objDb[oid].elem.type==TYPE.NUM)
      {
         obj_list[obj_list.length-1].val=ptr;
      }
      else
      {
         obj_list[obj_list.length-1].val=new Uint8Array(ptr);
      }
   }
   return obj_list;
}

function addObjToFrame(dv,offset,obj_str,inst)
{
	var curr;
	var oid=objEnum[obj_str];
	var uid=(objDb[oid].base.UID_BASE<<16|(objDb[oid].elem.off&0xffff));
	var len,i;
	var ptr=objDb[oid].elem.val[inst];
	if (objDb[oid].elem.type==TYPE.NUM)
	{
		len=4;
	}
	else
	{
		len=ptr.byteLength;
	}
	
	if ((len+offset)>=max_proj_size)
	{
		return -1;
	}
	
	var ignore_in_firmware;
	if (objDb[oid].elem.ignore_in_device==true)
	{
		ignore_in_firmware=true;
	}
	else
	{
		ignore_in_firmware=false;
	}
	curr=offset;
	dv.setUint32(curr,uid,true);curr+=4;
	dv.setUint32(curr,inst,true);curr+=4;
	var len_with_flags=len|(ignore_in_firmware<<24);
	dv.setUint32(curr,len_with_flags,true);curr+=4;
	if (objDb[oid].elem.type==TYPE.NUM)
	{
		dv.setUint32(curr,ptr,true);
		curr+=4;
	}
	else
	{
		var map=new Uint8Array(ptr);
		for(i=0;i<len;i++)
		{
			dv.setUint8(curr,map[i]);
			curr++;
		}
	}
	return curr;
}

function constructObjDb()
{
	var i,j;
	var enum_list;
	var last_obj_elem=0;
	objEnum={};
	
	for(i=0;i<obj_def.length;i++)
	{
		var base=obj_def[i].base;
		for(j=0;j<obj_def[i].sub_obj.length;j++)
		{
			objEnum[obj_def[i].sub_obj[j].name]=last_obj_elem;
			objDb[last_obj_elem]={elem:obj_def[i].sub_obj[j],base:obj_def[i]};
			last_obj_elem++;
		}
	}
}	

function setObjNum(id_str,inst,val)
{
	var id=objEnum[id_str];
	objDb[id].elem.val[inst]=val;
}

function getObjByName(id_str)
{
	var id=objEnum[id_str];
	return objDb[id];
}
function getObjByOID(oid)
{
	return objDb[oid];
}
	
	

function syncDV(oid,inst)
{
	if (objDb[oid].elem.val_dv==undefined)
	{
		objDb[oid].elem.val_dv=[];
	}
	objDb[oid].elem.val_dv[inst]=new DataView(objDb[oid].elem.val[inst]);
	if ((objDb[oid].elem.prev_val==undefined)||(objDb[oid].elem.prev_val[inst]==undefined))
	{
		copyCurrToPrev(oid,inst);
	}
}

function setObjArrCompressed(id_str,inst,arr)
{
	var compr=pako.deflate(new Uint8Array(arr),{level:9});
	setObjArr(id_str,inst,compr.buffer);
}

// Array elements are always typed arrays
function setObjArr(id_str,inst,arr)
{
	var i;
	var id=objEnum[id_str];
	if (objDb[id].elem.type==TYPE.JS_ARR)
	{
		objDb[id].elem.val[inst]=fastClone(arr);
	}
	else
	{
		objDb[id].elem.val[inst]=arr.slice(0);
		if (objDb[id].elem.val_dv==undefined)
		{
			objDb[id].elem.val_dv=[];
		}
		objDb[id].elem.val_dv[inst]=new DataView(objDb[id].elem.val[inst]);
	}
}

function setObjArrAtOffset(id_str,inst,offset,arr,len)
{
	var i;
	var id=objEnum[id_str];
	var arr1=new Uint8Array(arr);
	for(i=0;i<len;i++)
	{
		objDb[id].elem.val_dv[inst].setUint8(offset+i,arr1[i]);
	}
}

function getObjNum(id_str,inst)
{
	var id=objEnum[id_str];
	return objDb[id].elem.val[inst];
}

function getObjArrCompressed(id_str,inst)
{
	var obj=getObjArr(id_str,inst);
	var arr;
	try
	{
		arr=pako.inflate(new Uint8Array(obj))
	}
	catch(e)
	{
		arr=new Uint8Array(obj);
	}
	return arr.buffer;
}

function getObjArr(id_str,inst)
{
	var id=objEnum[id_str];
	return objDb[id].elem.val[inst];
}

// assume we only use this function for array objects
function copyCurrToPrev(id,inst)
{
	if (objDb[id].elem.prev_val==undefined)
	{
		objDb[id].elem.prev_val=[];
	}
	objDb[id].elem.prev_val[inst]=objDb[id].elem.val[inst].slice(0);
	if (objDb[id].elem.prev_dv==undefined)
	{
		objDb[id].elem.prev_dv=[];
	}
	objDb[id].elem.prev_dv[inst]=new DataView(objDb[id].elem.prev_val[inst]);
}

function getObjPrev(id_str,inst)
{
	var id=objEnum[id_str];
	if (objDb[id].elem.prev_val==undefined)
	{
		copyCurrToPrev(id,inst);
	}
}

function getObjType(id_str)
{
	var id=objEnum[id_str];
	return objDb[id].elem.type;
}

function syncObjPrev(id_str,inst)
{
	var id=objEnum[id_str];
	copyCurrToPrev(id,inst);
}

function convStringToArr(str)
{
	var i;
	var arr=new Uint8Array(str.length+1);
	for(i=0;i<str.length;i++)
	{
		arr[i]=str.charCodeAt(i);
	}
	arr[arr.length]=0; // null terminate
	return arr.buffer;
}

function convUnicodeStringToArr(str)
{
	var enc=new TextEncoder();
	var arr=enc.encode(str);
	var arr_null_term=new Uint8Array(arr.byteLength+1);
	arr_null_term.set(arr.slice(0));
	arr_null_term[arr_null_term.byteLength-1]=0;
	return arr_null_term.buffer;
}

function convArrToUnicodeString(arr)
{
	var dec=new TextDecoder("utf-8");
	var str=dec.decode(arr);
	// check the last byte. if it is 0-> remove it.
	if (str.charCodeAt(str.length-1)==0)
	{
		return str.slice(0,str.length-1);
	}
	return str;
}



function convArrBufToArr(arrBuf,len)
{
	return arrBuf.slice(0,len);
}

function convArrBufToArr8(arrBuf)
{
	var i;
	var res=[];
	var arr_buf=new Uint8Array(arrBuf);
	for(i=0;i<arr_buf.byteLength;i++)
	{
		res[i]=arr_buf[i];
	}
	return res;
}



function convArr8ToArrBuf(arr8)
{
	var i;
	var arr_buf=new Uint8Array(arr8.length);
	for(i=0;i<arr8.length;i++)
	{
		arr_buf[i]=arr8[i];
	}
	return arr_buf.buffer;
}


function convArrBuftoArr32(arrBuf)
{
	var i;
	var res=[];
	var arr_buf=new Uint32Array(arrBuf);
	for(i=0;i<ToInt32(arrBuf.byteLength/4);i++)
	{
		res[i]=arr_buf[i];
	}
	return res;
}

function convArr32ToArrBuf(arr32)
{
	var i;
	var arr_buf=new Uint32Array(arr32.length);
	for(i=0;i<arr32.length;i++)
	{
		arr_buf[i]=arr32[i];
	}
	return arr_buf.buffer;
}




function arrToString(arr)
{
	var i;
	var map=new Uint8Array(arr);
	var str="";
	for(i=0;i<arr.byteLength;i++)
	{
		if (map[i]==0)
		{
			break;
		}
		str+=String.fromCharCode(map[i]);
	}
	return str;
}
	

/* AJAX code */
var download_gen;

var gom_op=
{
	READ:0,
	WRITE:1,
	MULT_INST_READ:2,
	WRITE_WITH_OFFSET:3,
	//READ_WITH_OFFSET:4,
	UID_TO_OID:5,
	STORE_ARGEE_FILE:6,
	READ_ARGEE_FILE:7,
	GOM_HDLR_CMD_EXT_WRITE_WITH_OFFSET:10,
	GOM_HDLR_CMD_READ_BATCH:15,
};

var max_proj_size=256*1024;

var tmp_arr=new ArrayBuffer(256*1024);

function startObjExchangeFunc(func)
{
	//console.log("new obj exchange");
	abort_ajax=false;
	download_gen=func();
	download_gen.next();	
}

function advanceGen()
{
	download_gen.next();
}

var curr_ajax=null;
var last_sent_arr;
var lastProjFileSize;

function getLastProjFileSize()
{
	return lastProjFileSize;
}

function loadProjFromLocalStorage()
{
	IO_CONF.loadParams();
	loadProjTitleFromLocalStorage();
	var prj=JSON.parse(getLocalStorage("prog_code"));
	//loadProjTitleFromLocalStorage();
	if (getObjArr("ARGEE_PROJ_TITLE",0)==undefined)
	{
		var title="";
		setObjArr("ARGEE_PROJ_TITLE",0,convStringToArr(title));
	}
	if (prj==null)
	{
		FLOW.initProj(true);
		FLOW.showFlowchart();
		renderMenu("show_flow_menu_only");
	}
	else if (prj.constants!=undefined)
	{
		FLOW.loadFlowchart();
		FLOW.showFlowchart();
		renderMenu("show_flow_menu_only");
	}
	else if (prj.editor==ENV.ARGEE)
	{
		DESCR.loadLocal();
		adjustMenuScreen(1);
		DESCR.renderDefaultView(true)
		renderMenu("show_pro_menu_only");

	}
	else
	{
		NST.showLocal();
		renderMenu("show_pro_menu_only");

	}
}

function createPartialExport(dv)
{
		var params=getLocalStorage("params");
		var prj_title=getLocalStorage("title");
		var code=getLocalStorage("prog_code");
		var comb_proj={params:params,prj_title:prj_title,code:code};
		var comb_proj_str=JSON.stringify(comb_proj);
		dv.setUint32(0,0x30fffff1,true);//magic_num
		dv.setUint32(4,comb_proj_str.length,true);
		var i;
		
		for(i=0;i<comb_proj_str.length;i++)
		{
			dv.setUint8(8+i,comb_proj_str.charCodeAt(i));
		}
		return 8+comb_proj_str.length;
}


function loadPartialFile(dv)
{
	var i;
	str=""
	var len=dv.getUint32(4,true);
	for(i=0;i<len;i++)
	{
		str+=String.fromCharCode(dv.getUint8(8+i));
	}
	var obj=JSON.parse(str);
	if (obj.params!=null) setLocalStorage("params",obj.params);
	if (obj.title!=null) setLocalStorage("title",obj.prj_title);
	setLocalStorage("prog_code",obj.code);
	loadProjFromLocalStorage();
}

function createProjFile(obj_str)
{
	// obj_str contains the list of objects and instances
	var tmp_buf=new ArrayBuffer(1024*1024); // large temp buffer		
	var dv=new DataView(tmp_buf);
	var curr=12;
	var num_obj=0;
	var file_size=0;
	var checksum_pos=-1;
	if (obj_str==null)
	{
		curr=createPartialExport(dv);
	}
	else
	{
		setObjNum("ARGEE_PROJ_CHECKSUM",0,0);
		for(i=0;i<obj_str.length;i++)
		{
			var obj_name=obj_str[i][0];
			var obj_inst=obj_str[i][1];
            var obj_len;
			if (obj_name=="ARGEE_PROJ_CHECKSUM")
			{
				checksum_pos=curr+12; // 12 byte offset to account for UID,INST,LEN_FLAG
			}
            if (debug_console==true)
            {
                console.log("adding object "+obj_name+" inst "+obj_inst+" curr_offset "+curr);
            }
            obj_len=curr;
			curr=addObjToFrame(dv,curr,obj_name,obj_inst);num_obj++;
            obj_len=curr-obj_len;
            if (debug_console==true)
            {
                console.log("obj len "+obj_len);
            }
            
			if (curr==-1)
			{
				return null;
			}
		}
		dv.setUint32(0,0x30ffffff,true);//magic_num
		dv.setUint32(4,curr-12,true); // file size
		dv.setUint16(8,num_obj,true);
		dv.setUint16(10,PROCESS.isRT_Enabled(),true); // currently one bit 0 is used
		var checksum=0;
		if (checksum_pos!=-1)
		{
			for(i=0;i<curr;i++)
			{
				checksum+=dv.getUint8(i);
			}
			dv.setUint32(checksum_pos,checksum,true);
			setObjNum("ARGEE_PROJ_CHECKSUM",0,checksum);
		}
	}
	var new_buf=tmp_buf.slice(0,curr);
	lastProjFileSize=new_buf.byteLength;
	
	return new_buf;	
}

function parseARGEE2(dataView)
{
	var i,j;
	var scanlist_size_offset=16;
	var param_size_offset=20;
	var bin_code_size_offset=28;
	var source_code_size_offset=32;
	var second_header_pos_offset=56;
	var header_size=68;
	var scanlist_size=dataView.getUint32(scanlist_size_offset,true);
	var param_size=dataView.getUint32(param_size_offset,true);
	var bin_code_size=dataView.getUint32(bin_code_size_offset,true);
	var source_code_size=dataView.getUint32(source_code_size_offset,true);
	var second_header_pos=dataView.getUint32(second_header_pos_offset,true);
	var gom_size=dataView.getUint16(second_header_pos+2,true)+4;
	var source_code_offset=header_size+scanlist_size+param_size+gom_size+bin_code_size;
	var text="";
	var scanlist=[];
	var scanlist_offset=header_size;
	
	var kern_ver, env_ver, firware_ver,checksum;
	
	setObjNum("ARGEE_KERN_VER_VERIFY",0,dataView.getUint32(0,true));
	setObjNum("ARGEE_ENV_VER",0,dataView.getUint32(4,true));
   setObjNum("ARGEE_PROJ_DEV_EXPECTED_ENV_REV",0,dataView.getUint32(4,true));
	setObjNum("ARGEE_PROJ_CHECKSUM",0,dataView.getUint32(8,true));
	
	var third_header_offset_addr=52;
	var third_header_offset_pos=dataView.getUint32(third_header_offset_addr,true);
	var order_num=0;
	var firmware_rev=0;
	if (third_header_offset_pos!=0)
	{
		order_num=dataView.getUint32(third_header_offset_pos,true);
		firmware_rev=dataView.getUint32(third_header_offset_pos+4,true);
	}
	setObjNum("ARGEE_PROJ_DEV_ORDER_NUM",0,order_num);
	setObjArr("ARGEE_PROJ_APP_VER_STRING",0,convStringToArr("V"+num2dot(firmware_rev)));
	

	
	
	scanlist[0]=(scanlist_size/4);
	for(i=0;i<(scanlist_size/4);i++)
	{
		scanlist[i+1]=dataView.getUint32(scanlist_offset+4*i,true);		
	}
	var arr=new Uint32Array(scanlist.length);
	for(i=0;i<scanlist.length;i++)
	{
		arr[i]=scanlist[i];
	}
	setObjArr("MODULE_LIST_ARRAY",0,arr.buffer);
		
	var params=[];
	var params_offset=header_size+scanlist_size;
	var curr_offset=params_offset;
	for(i=0;i<(scanlist_size/4);i++)
	{
		var size=dataView.getUint8(curr_offset);curr_offset++;
		params[i]=new Uint8Array(size);
		for(j=0;j<size;j++)
		{
			params[i][j]=dataView.getUint8(curr_offset);curr_offset++;
		}
		setObjArr("ARGEE_IO_PARAM",i,params[i].buffer);
	}
	
	for(i=0;i<source_code_size;i++)
	{
		if (dataView.getUint8(source_code_offset+i)==0)
		{
			break;
		}
		text+=String.fromCharCode(dataView.getUint8(source_code_offset+i));
	}
	var conv=IMP.convertARGEE2_Proj(text);
	setObjArrCompressed("ARGEE_SOURCE_CODE",0,convUnicodeStringToArr(conv.prog_text));
	setObjArr("ARGEE_PROJ_TITLE",0,convStringToArr(conv.proj_title));
	setObjNum("ARGEE_PROJ_TYPE",0,ENV.ARGEE);
}

var proj_rt_state=0;
function getProjRT_State()
{
	return proj_rt_state;
}
function loadProjFile(arr,module,only_proper_files)
{
	var dataView=new DataView(arr);
	var magic_num=dataView.getUint32(0,true);
	var i;
	
	if ((only_proper_files==true)&&(magic_num!=0x30ffffff))
	{
		return false;
	}
	if (magic_num==0x30fffff1)
	{
		// loading project which doesn't compile
		var_div=document.getElementById("vars");
		prog_div.style.width=(100-left_col_width)+"%";
		var_div.style.width=(left_col_width-1)+"%";
		prog_div.style.left=left_col_width+"%";
		var_div.style.left="5px";
		var_div.style.right=left_col_width+"%";
		var_div.style.display="block";
		loadPartialFile(dataView);
		return "partial";
	}
	if (magic_num!=0x30ffffff)
	{
		if ((magic_num&0xff000000)==0x02000000)
		{
			parseARGEE2(dataView);
			return true;
		}
		return false;
	}
	offset=8;
	var num_objs=dataView.getUint16(offset,true);offset+=4;
	for(i=0;i<num_objs;i++)
	{
		var uid=dataView.getUint32(offset,true);offset+=4;
		var inst=dataView.getUint32(offset,true);offset+=4;
		var len_and_flags=dataView.getUint32(offset,true);offset+=4;
		// ignore flags
		var obj_len=len_and_flags&0xffffff;
		var oid=findObj(uid);
		var data;
		if (objDb[oid].elem.type==TYPE.NUM)
		{
			data=dataView.getUint32(offset,true);offset+=4;
			if (module==false)
			{
				objDb[oid].elem.val[inst]=data;
			}
		}
		else
		{
			data=arr.slice(offset,offset+obj_len);offset+=obj_len;
			if ((module==false)||(objDb[oid].elem.name=="ARGEE_SOURCE_CODE"))
			{
				setObjArr(objDb[oid].elem.name,inst,data);
				}
		}
	}
	return true;
}

var first_time_send=true;
var first_trans_clone;

var simple_request_time=-1;

function setSimpleRequestTime(tm)
{
	simple_request_time=tm;
}

// exchange syncs data with the local object database in JS
function* objectExchange(obj_str,inst,op,silent,offs,len) // offset/length used for read/write with offset
{
   if (typeof window === 'undefined') 
   {
      curr_ajax= new XMLHttpRequest();
   }
   else
   {
      if (SIM.getSimMode()==true)
      {
         curr_ajax=SIM.getSimAjaxObj();
      }
      else
      {
         curr_ajax= new XMLHttpRequest();
      }
   }
	var inv=curr_ajax;
	var now = (new Date()).getTime();
	var dataView;
	var len;
	var i,j;
	var arr;
	inv.open('POST', url+'/pg', true);
	inv.responseType = 'arraybuffer';
	var arr=tmp_arr;
	var dataView=new DataView(arr);
	var i;
	var offset=0;
	var oid=0;;
	var uid=0;;
	dataView.setUint8(offset,8); offset++; // code = GOM Access
							     offset+=2; // skip request length for now;
	var op_id=gom_op[op];
    dataView.setUint32(offset,op_id,true);offset+=4; // Operation
	if (op_id==gom_op.STORE_ARGEE_FILE)
	{
		// obj_str contains arrayBuffer for the project ->createProjFile needs to be called first
		dataView.setUint32(offset,obj_str.byteLength,true);offset+=4;
		var tmp_arr1=new Uint8Array(obj_str);
		for(i=0;i<obj_str.byteLength;i++)
		{
			dataView.setUint8(offset,tmp_arr1[i]);offset++;
		}
	}
	else if (op_id==gom_op.WRITE_WITH_OFFSET)
	{
		oid=objEnum[obj_str];
		uid=(objDb[oid].base.UID_BASE<<16|(objDb[oid].elem.off&0xffff));
		dataView.setUint32(offset,uid,true);offset+=4;
		dataView.setUint32(offset,inst,true);offset+=4;
		// offs -> contain tuples [offset(16 bit, len (16 bit)]
		dataView.setUint32(offset,offs.length,true);offset+=4;
		var dv_obj=objDb[oid].elem.val_dv[inst];
		for(i=0;i<offs.length;i++)
		{
			dataView.setUint16(offset,offs[i][0],true);offset+=2;
			dataView.setUint16(offset,offs[i][1],true);offset+=2;
			for(j=0;j<offs[i][1];j++)
			{
				dataView.setUint8(offset,dv_obj.getUint8(offs[i][0]+j));offset+=1;
			}
		}
	}
	else if ((op_id==gom_op.READ)||(op_id==gom_op.WRITE)
	   )
	{
		oid=objEnum[obj_str];
		uid=(objDb[oid].base.UID_BASE<<16|(objDb[oid].elem.off&0xffff));
		dataView.setUint32(offset,uid,true);offset+=4;
		dataView.setUint32(offset,inst,true);offset+=4;
		if (op_id==gom_op.WRITE)
		{
			if (objDb[oid].elem.type==TYPE.NUM)
			{
				dataView.setUint32(offset,4,true);offset+=4; //length
				dataView.setUint32(offset,objDb[oid].elem.val[inst],true);offset+=4; 
			}
			else
			{
				dataView.setUint32(offset,objDb[oid].elem.val[inst].byteLength,true);offset+=4; //length
				var map=new Uint8Array(objDb[oid].elem.val[inst]);
				for(i=0;i<objDb[oid].elem.val[inst].byteLength;i++)
				{
					dataView.setUint8(offset,map[i],true);offset+=1; 
				}
			}
		}
	}
	else if (op_id==gom_op.MULT_INST_READ)
	{
		//obj_str -> contains a list of objects to transfer 
		dataView.setUint32(offset,obj_str.length,true);offset+=4; //length
		for(i=0;i<obj_str.length;i++)
		{
			var oid=objEnum[obj_str[i]];
			objDb[oid].elem.remote_oid;
			dataView.setUint32(offset,objDb[oid].elem.remote_oid,true);offset+=4; 
		}
	}
	else if (op_id==gom_op.UID_TO_OID)
	{
		oid=objEnum[obj_str];
		if (objDb[oid].elem.remote_oid!=undefined)
		{
			return;
		}
		uid=(objDb[oid].base.UID_BASE<<16|(objDb[oid].elem.off&0xffff));
		dataView.setUint32(offset,uid,true);offset+=4;
	}
	
	dataView.setUint16(1,offset&0xffff,true); // length of request => current offset
	var arr=tmp_arr.slice(0,offset);
	
	if (op_id==gom_op.STORE_ARGEE_FILE)
	{
		//console.log("create on_progress callback");
		startFileUploadProgressUpdate();
	}
	
	if (op_id==gom_op.READ_ARGEE_FILE)
	{
		if (simple_request_time==-1)
		{
			inv.timeout=10000;
		}
		else
		{
			inv.timeout=1024*simple_request_time;
		}
		console.log("Load file timeout="+inv.timeout);
	}
	else if (op_id==gom_op.STORE_ARGEE_FILE)
	{
		if (simple_request_time==-1)
		{
	      inv.timeout=4000+(offset/10)|0;
		}
		else
		{
		   inv.timeout=600*simple_request_time+((offset/10)*simple_request_time);
      }
      console.log("Store file timeout="+inv.timeout);
	}
	else
	{
	    if (simple_request_time==-1)
		{
	      inv.timeout=4000;
		}
		else
		{
		   inv.timeout=600*simple_request_time;
		}
		//console.log("Simple Request timeout="+inv.timeout);
	}
	inv.ontimeout = function ()
	{
		if (op_id==gom_op.STORE_ARGEE_FILE)
		{
			stopFileUploadProgressUpdate();
		}
		prog_div.style.visibility = 'visible';
		prog_div.innerHTML="<h1>Can not connect to the device: "+url+"</h1>"; 
		return;
	}

	inv.onreadystatechange=function()
	{
		if ((this.readyState==4)&&(this.status==200))
		{

			if (op_id==gom_op.STORE_ARGEE_FILE)
			{
				stopFileUploadProgressUpdate();
			}
			if (abort_ajax==true)
			{
				console.log("AJAX Aborted");
				abort_ajax=false;
				return;
			}
			download_gen.next();
		}
		else if (this.readyState==4)
		{
         if (abort_ajax==false)
         {
            if (setCompilerMessage(false,true,"<b>Transmission failed</b>")==false)
            {
               prog_div.style.visibility = 'visible';
               prog_div.innerHTML="<h1>Communication failure with device: "+url+"</h1>"; 
            }
         }
			stopFileUploadProgressUpdate();
		}
			
	}

	/*if ((op_id==gom_op.STORE_ARGEE_FILE)&&(first_time_send==true))
	{
		first_time_send=false;
		first_trans_clone=arr.slice(0);
	}
	else if (op_id==gom_op.STORE_ARGEE_FILE)
	{
		if (arr.byteLength!=first_trans_clone.byteLength)
		{
			alert("error in length");
		}
		var a1=new Uint8Array(arr);
		var a2=new Uint8Array(first_trans_clone);
		for(i=0;i<arr.byteLength;i++)
		{
			if (a1[i]!=a2[i])
			{
				alert("error in array "+i);
				return;
			}
		}
		
	}*/
	last_sent_arr=arr;
	inv.send(arr);
	if (silent==false)
	{
		//setCompilerMessage(false,false,"<b>Please wait ....</b> Exchanging object "+uid.toString(16)+":"+inst);
	}

   if (typeof window === 'undefined') 
   {
      
   }
   else
   {
      
      if (SIM.getSimMode()==true)
      {
         SIM.simExchTrig();
      }
   }
	
	yield 1;
	arr=inv.response; // arrayBuffer;
	dataView=new DataView(arr);
	offset=0;
   
	if (op_id==gom_op.READ)
	{
		var len1=dataView.getUint32(offset,true);offset+=4;
		if (objDb[oid].elem.type==TYPE.NUM)
		{
			objDb[oid].elem.val[inst]=dataView.getUint32(offset,4,true);
		}
		else
		{
			objDb[oid].elem.val[inst]=arr.slice(4);
			syncDV(oid,inst);
		}
	}
	else if (op_id==gom_op.UID_TO_OID)
	{
		objDb[oid].elem.remote_oid=dataView.getUint32(0,true);
		//console.log("Remote OID "+obj_str+"="+objDb[oid].elem.remote_oid);
	}
	else if (op_id==gom_op.MULT_INST_READ)
	{
		for(i=0;i<obj_str.length;i++)
		{
			var oid=objEnum[obj_str[i]];
			offset+=4; // skip OID
			var num_inst=dataView.getUint32(offset,true);offset+=4;
			for(j=0;j<num_inst;j++)
			{
				var inst_len=dataView.getUint32(offset,true);offset+=4;
				var val;
				if (objDb[oid].elem.type==TYPE.NUM)
				{
					val=dataView.getUint32(offset,true);offset+=4;
				}
				else
				{
					val=arr.slice(offset,offset+inst_len);offset+=inst_len;
				}
				objDb[oid].elem.val[j]=val;
				if (objDb[oid].elem.type!=TYPE.NUM)
				{
					syncDV(oid,j);
				}
			}
		}
	}
	else if (op_id==gom_op.READ_ARGEE_FILE)
	{
		// Do I need to store the specific objects that are present in the project file?
		// read header
		if (arr.byteLength<12)
		{
			return;
		}
		var magic_num=dataView.getUint32(0,true);
		if (magic_num!=0x30ffffff)
		{
			if ((magic_num&0xff000000)==0x02000000)
			{
				parseARGEE2(dataView);
				return;
			}
			return;
		}
		offset=8;
		proj_rt_state=0;

		var num_objs=dataView.getUint16(offset,true);offset+=2;
		var flags=dataView.getUint16(10,true);offset+=2; // currently one bit 0 is used
		if ((flags&1)!=0)
		{
			proj_rt_state=1;
		}

		for(i=0;i<num_objs;i++)
		{
			var uid=dataView.getUint32(offset,true);offset+=4;
			var inst=dataView.getUint32(offset,true);offset+=4;
			var len_and_flags=dataView.getUint32(offset,true);offset+=4;
			// ignore flags
			var obj_len=len_and_flags&0xffffff;
			var oid=findObj(uid);
			var data;
			if (objDb[oid].elem.type==TYPE.NUM)
			{
				data=dataView.getUint32(offset,true);offset+=4;
				objDb[oid].elem.val[inst]=data;
			}
			else
			{
				data=arr.slice(offset,offset+obj_len);offset+=obj_len;
				setObjArr(objDb[oid].elem.name,inst,data);
			}
		}
	}
}	
		

var ajax_actions_queue=[];
var activeAjaxAction=null;
function addAjaxAction(fn)
{
	var i;
	for(i=0;i<ajax_actions_queue.length;i++)
	{
		if (ajax_actions_queue[i]==fn)
		{
			//console.log("Already present in the queue "+ fn);
			return;
		}
	}
	ajax_actions_queue[ajax_actions_queue.length]=fn;	
	/*if (activeAjaxAction==null)
	{
		stopAjaxTimer();
		setInterval(ajaxTimerTask,1);
	}*/
}

function finAjaxAction()
{
	activeAjaxAction=null;
}


// timer based task
function ajaxTimerTask()
{
	var now = (new Date()).getTime();
	//console.log("AjaxTimer at: "+now);
	if ((activeAjaxAction==null)&&(ajax_actions_queue.length>0))
	{
		activeAjaxAction=ajax_actions_queue[0];
		ajax_actions_queue.splice(0,1);
		startObjExchangeFunc(activeAjaxAction);
	}
}

function clearAjaxQueue()
{
	activeAjaxAction=null;
	ajax_actions_queue=[];
}

var ajaxTimer;

function startAjaxTimer()
{
	ajaxTimer=setInterval(ajaxTimerTask,100);
}

function stopAjaxTimer()
{
	clearInterval(ajaxTimer);	
}

// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!  AUTO-REFRESH Handling !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

var auto_refresh_in_progress=false;
var auto_refreshcallback=null;
var refresh_timer_id=null;

var file_upload_timer=null;
var number_of_dots=0;

function fileUploadProgress()
{
	stopFileUploadProgressUpdate();
	var str="";
	var i;
	for(i=0;i<number_of_dots;i++)
	{
		str+=".";
	}
	setCompilerMessage(false,false,"<b>Project file uploading "+str+"</b>");
	number_of_dots++;
	file_upload_timer=setTimeout(fileUploadProgress,100);
}

function stopFileUploadProgressUpdate()
{
	if (file_upload_timer!=null)
	{
		clearTimeout(file_upload_timer);	
	}
	file_upload_timer=null;
}

function startFileUploadProgressUpdate()
{
	number_of_dots=0;
	file_upload_timer=setTimeout(fileUploadProgress,0);
}

function triggerAutoRefresh()
{
	addAjaxAction(autoRefreshWrapper);	
}

function autoRefreshStart(func)
{
	auto_refreshcallback=func;
	refresh_timer_id=setInterval(triggerAutoRefresh,100);
}

function* autoRefreshWrapper()
{
	if (refresh_timer_id!=null)
	{
		clearInterval(refresh_timer_id);
		refresh_timer_id=null;
	}
	//console.log("Auto Refresh Callback started");
	yield* auto_refreshcallback();
	//console.log("Auto Refresh Callback ended");
	finAjaxAction();
	refresh_timer_id=setInterval(triggerAutoRefresh,100);
}
	
function autoRefreshStop()
{
	if (refresh_timer_id!=null)
	{
		console.log("Stopping refresh timer");
		clearInterval(refresh_timer_id);
		refresh_timer_id=null;
	}
	clearAjaxQueue();
	if (curr_ajax!=null)
	{		
		curr_ajax.abort();
	}
}

function isAutoRefreshStopped()
{
	if (refresh_timer_id!=null)
	{
		return false;
	}
	return true;
}


function storeEnv(type)
{
	setLocalStorage("editor",JSON.stringify(type));
}

function loadEnv()
{
	if (getLocalStorage("editor")!=undefined)
	{
		return JSON.parse(getLocalStorage("editor"));
	}
	else
	{
		return ENV.FLOWCHART;
	}
}
		
constructObjDb();
if (shadow_gom==false)
{
	startAjaxTimer();
}


return {
	obj_def:obj_def,
	getObjNum:getObjNum,
	arrToString:arrToString,
	convArrBufToArr:convArrBufToArr,
	convStringToArr:convStringToArr,
	getObjArr:getObjArr,
	setObjArr:setObjArr,
	setObjNum:setObjNum,
	findObj:findObj,
	getObjEnum:getObjEnum,
	addObjToFrame:addObjToFrame,
	TYPE:TYPE,
	objectExchange:objectExchange,
	startObjExchangeFunc:startObjExchangeFunc,
	getValDataView:getValDataView,
	getPrevDataView:getPrevDataView,
	advanceGen:advanceGen,
	setDestinationURL:setDestinationURL,
	addAjaxAction:addAjaxAction,
	finAjaxAction:finAjaxAction,
	clearAjaxQueue:clearAjaxQueue,
	setObjArrAtOffset:setObjArrAtOffset,
	autoRefreshStop:autoRefreshStop,
	autoRefreshStart:autoRefreshStart,
	storeEnv:storeEnv,
	loadEnv:loadEnv,
	syncObjPrev:syncObjPrev,
	isAutoRefreshStopped:isAutoRefreshStopped,
	createProjFile:createProjFile,
	loadProjFile:loadProjFile,
	clearDVs:clearDVs,
	getLastProjFileSize:getLastProjFileSize,
	loadProjFromLocalStorage:loadProjFromLocalStorage,
	getObjNameStr:getObjNameStr,
	getObjType:getObjType,
	getObjByName:getObjByName,
	getObjByOID:getObjByOID,
	gom_op:gom_op,
	convArr8ToArrBuf:convArr8ToArrBuf,
	convArrBufToArr8:convArrBufToArr8,
	setObjArrCompressed:setObjArrCompressed,
	getObjArrCompressed:getObjArrCompressed,
	convArrBuftoArr32:convArrBuftoArr32,
	convArr32ToArrBuf:convArr32ToArrBuf,
   convertToJSObj:convertToJSObj,
   convertJsonToGOM:convertJsonToGOM,
   convUnicodeStringToArr:convUnicodeStringToArr,
   convArrToUnicodeString:convArrToUnicodeString,
   getProjRT_State:getProjRT_State,
   setSimpleRequestTime:setSimpleRequestTime,
}
}


var ARGEE_obj_db=GOM_inst(false);
	
var GOM=ARGEE_obj_db;






 
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// END: Initialization code
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

/********************************************************************************
 *
 * Copyright (c) 2016 by TUSA
 *
 ********************************************************************************
 *
 *  Initial Author       : Roman Glistvain
 *  Maintainers          : Roman Glistvain
 *
 *
 ********************************************************************************
 *
 *  DESCRIPTION: ARGEE Parser. Tokenizes the ST source code and generates AST
 *               out of it. 
 *
 *******************************************************************************/
var st_preproc_inst; 


 var ARGEE_nst_parse=(function()
{ 

var globals;
// for connecting ARGEE view errors to NST compiled errors
var argee_to_nst_line_mapping=[];

function addArgeeLineMapping(str,line)
{
	var arr=JSON.parse(str);
	var vis_elem_type=arr[0];
	var vis_elem_item=arr[1];
	var index=arr[2];
	argee_to_nst_line_mapping[line]={vis_elem_type:vis_elem_type,vis_elem_item:vis_elem_item,index:index};
}

function getNST_Prog_Line_From_ARGEE(item_num)
{
	var i,k;
	for(k in argee_to_nst_line_mapping)
	{
		i=parseInt(k);
		if ((argee_to_nst_line_mapping[i].vis_elem_type==1)&&
		    (argee_to_nst_line_mapping[i].vis_elem_item==item_num))
			{
				return i;
			}
	}
	return -1;
}

function getARGEE_Prog_Line_From_NST(line)
{
	if (argee_to_nst_line_mapping[line]!=undefined)
	{
		if (argee_to_nst_line_mapping[line].vis_elem_type==0)
		{
			var curr_line=line+1;
			while(curr_line<argee_to_nst_line_mapping.length)
			{
				if ((argee_to_nst_line_mapping[curr_line]!=undefined)&&(argee_to_nst_line_mapping[curr_line].vis_elem_type==1))
				{
					break;
				}
				curr_line++;
			}
			if (argee_to_nst_line_mapping[curr_line]==undefined)
			{
				return -1;
			}
			else
			{
				return argee_to_nst_line_mapping[curr_line].vis_elem_item
			}
		}
		return argee_to_nst_line_mapping[line].vis_elem_item
	}
	return -1;
}

function getARGEE_ElemIndexFromARGEE_Line(argee_type,argee_line)
{
	var i,k;
	for(k in argee_to_nst_line_mapping)
	{
		i=parseInt(k);
		if ((argee_to_nst_line_mapping[i].vis_elem_type==argee_type)&&
		    (argee_to_nst_line_mapping[i].vis_elem_item==argee_line))
			{
				return argee_to_nst_line_mapping[i].index;
			}
	}
	return -1;
}



/*var enum_list=[];

function addToEnumList(val)
{
	enum_list[enum_list.length]=val;
}
*/

function getStandaloneCompilerRemappingInfo(line_in_st)
{
   var mapped_argee_elem=argee_to_nst_line_mapping[line_in_st];
   var file_name=mapped_argee_elem.vis_elem_type;
   var line_num=mapped_argee_elem.vis_elem_item;
   return {file_name:file_name,line_num:line_num};
}
      
function getElemIndexFromNST_Line(line)
{
	var mapped_argee_elem=argee_to_nst_line_mapping[line];
	var item_index=getARGEE_ElemIndexFromARGEE_Line(mapped_argee_elem.vis_elem_type,mapped_argee_elem.vis_elem_item);
	return item_index;
}   

function setErrMsg(e)
{
	var mapped_argee_elem=argee_to_nst_line_mapping[token_start_line];
	if (mapped_argee_elem==undefined)
	{
		mapped_argee_elem=argee_to_nst_line_mapping[token_start_line-1];
	}
	if (mapped_argee_elem!=undefined)
	{
      if (typeof window === 'undefined') 
      {
         // standalone ST compiler
         var file_name=mapped_argee_elem.vis_elem_type;
         var line_num=mapped_argee_elem.vis_elem_item;
         setCompilerMessage(false,true,"Error: "+(e.err_msg)+" File : \""+file_name+"\" Line number:"+line_num);
      }
      else
      {         
         var err_item_index=getARGEE_ElemIndexFromARGEE_Line(mapped_argee_elem.vis_elem_type,mapped_argee_elem.vis_elem_item);
         if (mapped_argee_elem.vis_elem_type==0)
         {
            var elem_descr=DESCR.getVarElemAndLineFromIndex(err_item_index);
            if (elem_descr[1].length>0)
            {
               setCompilerMessage(false,true,"Error: "+(e.err_msg) + " in the <b>Variable Definition:  "+(elem_descr[0])+" . "+(elem_descr[1])+"</b>");
            }
            else
            {
               setCompilerMessage(false,true,"Error: "+(e.err_msg) + " in the <b>Variable Definition:  "+(elem_descr[0])+"</b>");
            }
         }
         else
         {
            
            var last_part=DESCR.indexToDotString(err_item_index.slice(3));
            var elem=DESCR.getElemFromIndex(err_item_index.slice(0,2));
            var func_block_name;
            if (elem.type==DESCR.block_types.hmi)
            {
               setCompilerMessage(false,true,"Error: "+(e.err_msg) + " in the <b>Program</b> HMI element: <b>"+ (last_part)+"</b>");
            }
            else
            {
               func_block_name=DESCR.getElemFromIndex(err_item_index.slice(0,2)).values[0];
               if (func_block_name==default_task_type)
               {
                  func_block_name=default_task_replace_type;
               }
               setCompilerMessage(false,true,"Error: "+(e.err_msg) + " in the <b>Program</b> Function Block: <b>"+func_block_name+"</b> element: <b>"+ (last_part)+"</b>");
            }
         }
         DESCR.showErrorLine(err_item_index,mapped_argee_elem.vis_elem_type);
      }

	}
	else
	{
		setCompilerMessage(false,true,"Error: "+(e.err_msg)+" ST Line number:"+token_start_line);
	}
}

var indiv_expr_mode=false;

	
function parseIndivExpression(str,mode)
{
	argee_to_nst_line_mapping=[];
    str=str.replace(/\r\n/g,"\n");
    str=str.replace(/\r/g," ");
	file=str.split("\n");
	enum_list=[];
	curr_char_pos=-1;
	curr_line=0;
	indiv_expr_mode=true;
	tokens_capitalized=mode;
	expr_nesting=0;
	try
	{
		getNextChar();
		getNextToken();
		obj=parseExpression();
		globals=obj;
	}
	catch(e)
	{
		setErrMsg(e);
      if (debug_console==true)
      {
         console.log("Error: "+(e.err_msg) + " in the program on line: "+ (token_start_line+1));
      }
		tokens_capitalized=true;
		return null;
	}
	tokens_capitalized=true;
	return globals;
}

var parse_pass;


function parseProjectOnePass(str,mode)
{
	var updated_str=str;
	st_preproc_inst=undefined;
	preproc_defines="";
	parse_pass=1;
	return parse_imp(str,mode);
	
	
}

var after_preprocessor=null;
var test_js_preproc_html=null;
function getProprocessedInput()
{
	return after_preprocessor;
}
function getTestJsHTML()
{
	return test_js_preproc_html;
}
	
function parseProject(str,mode)
{
	st_preproc_inst=undefined;
	preproc_defines="";
	parse_pass=1;
	after_preprocessor=str;
	test_js_preproc_html=null;
	if (parse_imp(str,mode)!=null)
	{
		if (preproc_defines.length>0)
		{
			var newScript;
			try 
			{
				if (hmi_debug_renderes==false)
				{
					standalone_hmi_custom_renderers={};
					standalone_hmi_custom_renderers.dummy_func=function(){};
				}
				var str1="function st_preproc(){"+preproc_defines+"}; st_preproc_inst=new st_preproc();";
				
				test_js_preproc_html="<html><head><script>\r\n"+str1+"\r\n</script></head><body><div id=\"test_id\"></div><script>\r\nvar test_data=st_preproc_inst.Run(\"HMI_BEGIN    END_HMI  \");\r\n var elem=document.getElementById(\"test_id\").innerText=test_data;\r\n</script></body></html>";
				
				if (typeof window === 'undefined') 
				{
					// nodeJS
					eval(str1);
					if (st_preproc_inst.Run!=undefined)
					{
						after_preprocessor=st_preproc_inst.Run(str);
					}
					
				}
				else
				{					
					var head = document.getElementsByTagName('head')[0];
					
					newScript = document.createElement("script");
					var inlineScript = document.createTextNode(str1);
					newScript.appendChild(inlineScript); 
					head.appendChild(newScript);
					if (st_preproc_inst.Run!=undefined)
					{
						after_preprocessor=st_preproc_inst.Run(str);
					}
				}
				//newScript.parentNode.removeChild( newScript );
			}
			catch (e) 
			{
				if (typeof window === 'undefined') 
				{
					// nodeJS
				}
				else
				{
					newScript.parentNode.removeChild( newScript );
				}
				if (e instanceof SyntaxError) 
				{
					alert(e.message);
				}
				setCompilerMessage(false,true,"Preprocessor Error: "+(e.message));
				return null;
			}
			//console.log(after_preprocessor);
		}
	}
	else
	{
		return null;
	}
	preproc_defines="";
	parse_pass=2;
	return parse_imp(after_preprocessor,mode);
}	

function parse_imp(str,mode)
{
	argee_to_nst_line_mapping=[];
    str=str.replace(/\r\n/g,"\n");
    str=str.replace(/\r/g," ");
	
    
	file=str.split("\n");
	enum_list=[];
	curr_char_pos=-1;
	curr_line=0;
	indiv_expr_mode=false;
	tokens_capitalized=mode;
	expr_nesting=0;
   token_start_line=0;
   var_mode_assignment=false;
   const_strings=[];
   const_num=[];

	try
	{
		getNextChar();
		getNextToken();
		obj=parseProgram();
		globals=obj;
	}
	catch(e)
	{
		setErrMsg(e);
      if (debug_console==true)
      {
         console.log("Error: "+(e.err_msg) + " in the program on line: "+ (token_start_line+1));
      }
		//var res_inner=this.document.getElementById("comp_res_id");
		//res_inner.innerHTML="Error: "+(e.err_msg) + " in the program on line: "+ (token_start_line+1);
		tokens_capitalized=true;
		return null;
	}
	tokens_capitalized=true;
	return globals;
	//quickPrintAST(globals);
}

var token_types=
{
	COMMA:100+0,
	COLUMN:100+1,
	SEMICOL:100+2,
	LEFT_SQ_BRACKET:100+3,
	RIGHT_SQ_BRACKET:100+4,
	COMMENT_LINE:100+5,
	LEFT_ROUND_BRACKET:100+6,
	RIGHT_ROUND_BRACKET:100+7,
	ASSIGNMENT:100+8,
	PLUS:100+9,
	MINUS:100+10,
	RANGE:100+11,
	DOT:100+12,
	LESS_EQ:100+13,
	NOT_EQ:100+14,
	LESS:100+15,
	BIGGER:100+16,
	BIGGER_OR_EQ:100+17,
	//DIVIDE:100+18,
	MULT:100+19,
	EQ:100+20,

	/*DIV_SYM:100+11,
	MOD_SYM:100+12,
	*/
	

	IDENT:200,
	INT_CONST:201,
	STR_CONST:202,
	FLOAT_CONST:203,
	HEX_CONST:204,
	
	// fixed tokens
	//PROGRAM:300+0,
	//END_PROGRAM:300+1,
	FUNCTION_BLOCK:300+2,
	END_FUNCTION_BLOCK:300+3,
	VAR:300+4,
	END_VAR:300+5,
	VAR_INPUT:300+6,
	VAR_OUTPUT:300+7,
	VAR_INOUT:300+8,
	

	// PLC VARs are defined as regular variables of a type sructure which is initialized at compile time.
	// The special structure defines the PLC variable and its elements
	// PLC variables are: ARGEE_TO_PLC_BIT,ARGEE_TO_PLC_WORD,PLC_TO_ARGEE_BIT,PLC_TO_ARGEE_WORD,
	
	IF:300+10,
	THEN:300+11,
	ELSE:300+12,
	ELSIF:300+13,
	END_IF:300+14,
	WHILE:300+15,
	DO:300+16,
	END_WHILE:300+17,
	ARRAY:300+18,
	OF:300+19,
	AND:300+20,
	OR:300+21,
	NOT:300+22,
	DIV:300+23,
	VAR_TASK:300+24,
	VAR_RETAIN:300+25,
	WAIT_UNTIL:300+26,
	STRING:300+27,
	MOD:300+28,
	FOR_LOOP:300+29,
	END_FOR:300+30,
	TO:300+31,
	CONDITIONAL_EXEC_BEGIN:300+32,
	CONDITIONAL_EXEC_END:300+33,
	VAR_MODULE:300+34,
	// floating point internal tokens
	F_ADD:400+1,
	F_MULT:400+2,
	F_DIV:400+3,
	F_SUB:400+4,
	F_LESS_EQ:     400+13,
	F_NOT_EQ:      400+14,
	F_LESS:        400+15,
	F_BIGGER:      400+16,
	F_BIGGER_OR_EQ:400+17,
	F_MULT:        400+19,
	F_EQ:          400+20,
	//F_NEG:         400+21, // do I need this?
	
	TASK_BEGIN: 500+0,
	END_TASK:500+1,

	
	
	JSON_INPUT:500+2,
	PREPROC_GEN:500+3,
	PREPROC_RUN:500+4,
	AUTO_START_TASK_BEGIN: 500+5,
	
	
	ENUM_BEGIN:600+0,
	ENUM_END:600+1,
	FUNCTION_BLOCK_GROUP_BEGIN:600+2,
	FUNCTION_BLOCK_GROUP_END:600+3,
	MODULE:600+4,
	
	BITFIELD_FUNCT_BLOCK:600+5,
	
	
	HMI_BEGIN:700+0,
	END_HMI:700+1,
	HMI_SCREEN_BEGIN:700+2,
	END_HMI_SCREEN:700+3,
	HMI_SECTION_BEGIN:700+4,
	END_HMI_SECTION:700+5,
	HMI_GRID_SCREEN:700+14,
	END_HMI_GRID_SCREEN:700+15,
	HMI_GRID_ROW:700+16,
	END_HMI_GRID_ROW:700+17,
	HMI_GRID_SECTION:700+18,
	END_HMI_GRID_SECTION:700+19,
	HMI_IMAGE_GROUP:700+20,
	END_HMI_IMAGE_GROUP:700+21,
	HMI_BLOCK:700+22,
	END_HMI_BLOCK:700+23,

	HMI_BLOCK_SCREEN:700+24,
	END_HMI_BLOCK_SCREEN:700+25,
	
	HMI_BLOCK_FUNCT_BLOCK:700+26,
	HMI_CONTROL_FUNCT_BLOCK:700+27,

	
	COMMENT_BEGIN:800+0,
	COMMENT_END:800+1,
	
	STRUCT_BEGIN:800+2,
	STRUCT_END:800+3,

	FUNCTION_BEGIN:800+4,
	FUNCTION_END:800+5,

	PROCEDURE_BEGIN:800+6,
	PROCEDURE_END:800+7,


};

// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!  Start of Tokenizer  !!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
var keyword_elements=
[

	{elem:token_types.AND,sym:"&"},
	{elem:token_types.OR,sym:"|"},
	{elem:token_types.NOT,sym:"!"},
	{elem:token_types.MOD,sym:"%"},
	{elem:token_types.AND,sym:"AND"},
	{elem:token_types.OR,sym:"OR"},
	{elem:token_types.NOT,sym:"NOT"},
	{elem:token_types.MOD,sym:"MOD"},

	/*{elem:token_types.PROGRAM,sym:"PROGRAM"},
	{elem:token_types.END_PROGRAM,sym:"END_PROGRAM"},*/
	{elem:token_types.FUNCTION_BLOCK,sym:"FUNCTION_BLOCK"},
	{elem:token_types.END_FUNCTION_BLOCK,sym:"END_FUNCTION_BLOCK"},
	{elem:token_types.VAR,sym:"VAR"},
	{elem:token_types.END_VAR,sym:"END_VAR"},
	{elem:token_types.VAR_INPUT,sym:"VAR_INPUT"},
	{elem:token_types.VAR_OUTPUT,sym:"VAR_OUTPUT"},
	{elem:token_types.VAR_INOUT,sym:"VAR_INOUT"},
	{elem:token_types.VAR_TASK,sym:"VAR_TASK"},
	{elem:token_types.VAR_MODULE,sym:"VAR_MODULE"},
	{elem:token_types.VAR_RETAIN,sym:"VAR_RETAIN"},
	{elem:token_types.IF,sym:"IF"},
	{elem:token_types.THEN,sym:"THEN"},
	{elem:token_types.ELSE,sym:"ELSE"},
	{elem:token_types.ELSIF,sym:"ELSIF"},
	{elem:token_types.END_IF,sym:"END_IF"},
	{elem:token_types.WHILE,sym:"WHILE"},
	{elem:token_types.DO,sym:"DO"},
	{elem:token_types.END_WHILE,sym:"END_WHILE"},
	{elem:token_types.ARRAY,sym:"ARRAY"},
	{elem:token_types.OF,sym:"OF"},
	{elem:token_types.WAIT_UNTIL,sym:"WAIT_UNTIL"},
	{elem:token_types.STRING,sym:"STRING"},
// all other token symbols	
	{elem:token_types.COMMA,sym:","},
	{elem:token_types.COLUMN,sym:":"},
	{elem:token_types.SEMICOL,sym:";"},
	{elem:token_types.LEFT_SQ_BRACKET,sym:"["},
	{elem:token_types.RIGHT_SQ_BRACKET,sym:"]"},
	{elem:token_types.COMMENT_LINE,sym:"//"},
	{elem:token_types.LEFT_ROUND_BRACKET,sym:"("},
	{elem:token_types.RIGHT_ROUND_BRACKET,sym:")"},
	{elem:token_types.ASSIGNMENT,sym:":="},
	{elem:token_types.IDENT,sym:"Identifier"},
	{elem:token_types.INT_CONST,sym:"Integer Constant"},
	{elem:token_types.STR_CONST,sym:"String Constant"},
	{elem:token_types.FLOAT_CONST,sym:"Real Constant"},
	
	

	
	
	{elem:token_types.PLUS,sym:"+"},
	{elem:token_types.MINUS,sym:"-"},
	{elem:token_types.DIV,sym:"/"},
	{elem:token_types.DIV,sym:"DIV"},
	{elem:token_types.MULT,sym:"*"},
	{elem:token_types.EQ,sym:"="},
	{elem:token_types.LESS_EQ,sym:"<="},
	{elem:token_types.NOT_EQ,sym:"<>"},
	{elem:token_types.LESS,sym:"<"},
	{elem:token_types.BIGGER,sym:">"},
	{elem:token_types.BIGGER_OR_EQ,sym:">="},

	{elem:token_types.F_ADD,sym:" _f+"},
	{elem:token_types.F_SUB,sym:" _f-"},
	{elem:token_types.F_DIV,sym:" _f/"},
	{elem:token_types.F_MULT,sym:" _f*"},
	{elem:token_types.F_EQ,sym:" _f="},
	{elem:token_types.F_LESS_EQ,sym:" _f<="},
	{elem:token_types.F_NOT_EQ,sym:" _f<>"},
	{elem:token_types.F_LESS,sym:" _f<"},
	{elem:token_types.F_BIGGER,sym:" _f>"},
	{elem:token_types.F_BIGGER_OR_EQ,sym:" _f>="},

	{elem:token_types.JSON_INPUT,sym:"JSON_INPUT"},
	{elem:token_types.ENUM_BEGIN,sym:"ENUM"},
	{elem:token_types.ENUM_END,sym:"END_ENUM"},

	{elem:token_types.FUNCTION_BLOCK_GROUP_BEGIN,sym:"FUNCTION_BLOCK_GROUP"},
	{elem:token_types.FUNCTION_BLOCK_GROUP_END,sym:"END_FUNCTION_BLOCK_GROUP"},
	{elem:token_types.MODULE,sym:"LIBRARY"},
	{elem:token_types.MODULE,sym:"MODULE"},

	
	{elem:token_types.TASK_BEGIN,sym:"TASK"},
	{elem:token_types.AUTO_START_TASK_BEGIN,sym:"AUTO_STARTING_TASK"},
	
	{elem:token_types.END_TASK,sym:"END_TASK"},

	{elem:token_types.HMI_BEGIN,sym:"HMI_BEGIN"},
	{elem:token_types.END_HMI,sym:"END_HMI"},
	{elem:token_types.HMI_SCREEN_BEGIN,sym:"HMI_SCREEN"},
	{elem:token_types.END_HMI_SCREEN,sym:"END_HMI_SCREEN"},
	{elem:token_types.HMI_SECTION_BEGIN,sym:"HMI_SECTION"},
	{elem:token_types.END_HMI_SECTION,sym:"END_HMI_SECTION"},
	
	
	{elem:token_types.HMI_GRID_SCREEN,sym:"HMI_GRID_SCREEN"},
	{elem:token_types.END_HMI_GRID_SCREEN,sym:"END_HMI_GRID_SCREEN"},
	{elem:token_types.HMI_GRID_ROW,sym:"HMI_GRID_ROW"},
	{elem:token_types.END_HMI_GRID_ROW,sym:"END_HMI_GRID_ROW"},
	{elem:token_types.HMI_GRID_SECTION,sym:"HMI_GRID_SECTION"},
	{elem:token_types.END_HMI_GRID_SECTION,sym:"END_HMI_GRID_SECTION"},
	{elem:token_types.HMI_IMAGE_GROUP,sym:"HMI_IMAGE_GROUP"},
	{elem:token_types.END_HMI_IMAGE_GROUP,sym:"END_HMI_IMAGE_GROUP"},
	{elem:token_types.HMI_BLOCK,sym:"HMI_BLOCK"},
	{elem:token_types.END_HMI_BLOCK,sym:"END_HMI_BLOCK"},

	{elem:token_types.HMI_BLOCK_SCREEN,sym:"HMI_BLOCK_SCREEN"},
	{elem:token_types.END_HMI_BLOCK_SCREEN,sym:"END_HMI_BLOCK_SCREEN"},
	
	
	{elem:token_types.COMMENT_BEGIN,sym:"COMMENT_BEGIN"},
	{elem:token_types.COMMENT_END,sym:"COMMENT_END"},
	{elem:token_types.FOR_LOOP,sym:"FOR"},
	{elem:token_types.END_FOR,sym:"END_FOR"},
	{elem:token_types.TO,sym:"TO"},



	
	
	
	{elem:token_types.CONDITIONAL_EXEC_BEGIN,sym:"CONDITIONAL_EXEC_BEGIN"},
	{elem:token_types.CONDITIONAL_EXEC_END,sym:"CONDITIONAL_EXEC_END"},


	{elem:token_types.HMI_BLOCK_FUNCT_BLOCK,sym:"HMI_BLOCK_FUNCT_BLOCK"},
	{elem:token_types.HMI_CONTROL_FUNCT_BLOCK,sym:"HMI_CONTROL_FUNCT_BLOCK"},
	{elem:token_types.BITFIELD_FUNCT_BLOCK,sym:"BITFIELD_FUNCT_BLOCK"},
	{elem:token_types.STRUCT_BEGIN,sym:"STRUCT"},
	{elem:token_types.STRUCT_END,sym:"END_STRUCT"},

	{elem:token_types.FUNCTION_BEGIN,sym:"FUNCTION"},
	{elem:token_types.FUNCTION_END,sym:"END_FUNCTION"},


	{elem:token_types.PROCEDURE_BEGIN,sym:"PROCEDURE"},
	{elem:token_types.PROCEDURE_END,sym:"END_PROCEDURE"},

];

function findKeywordIndex(str)
{
	var i;
	for(i=0;i<keyword_elements.length;i++)
	{
		if (str.toUpperCase()==keyword_elements[i].sym)
		{
			return i;
		}
	}
	return -1;
}

function getOpName(op)
{
	var i;
	for(i=0;i<keyword_elements.length;i++)
	{
		if (keyword_elements[i].elem==op)
		{
			return keyword_elements[i].sym+ " ";
		}
	}
}


var next_char;
var next_token;
var next_token_suppliment;
var next_token_non_capitalized;



var file=[];
var curr_char_pos;
var curr_line;

/*var exceptions=
{
	END_OF_FILE:-1,
	INVALID_TOKEN:1,
	ERROR:2,
	NOT_YET:3,
};
*/


function UserException(err_msg)
{
	this.err_msg=err_msg;
}

function getTokenStartLine()
{
	return token_start_line;
}

function stopCompilation(err_msg,elem)
{
	if (elem!=undefined)
	{
		token_start_line=elem.line_num;
	}
	/*else
	{
		token_start_line--;
	}*/
	throw new UserException(err_msg);
}

var save_curr_line;
var save_curr_char_pos;

function saveParsePoint()
{
	save_curr_line=curr_line;
	save_curr_char_pos=curr_char_pos;
}

function restoreParsePoint()
{
	curr_line=save_curr_line;
	curr_char_pos=save_curr_char_pos;
}

// Ideas for the tokenizer and parser are taken from https://github.com/dincho/mini-pascal-compiler/commits/master
function getNextChar(pass_eol)
{
	if ((curr_char_pos+1)>file[curr_line].length)
	{
		curr_line++;
		curr_char_pos=0;
	}
	else
	{
		curr_char_pos++;
	}
	if (curr_char_pos>=file[curr_line].length)
	{
		// mark end of line with space
		if (curr_line==(file.length-1))
		{
			
			next_char=-1;
			return;
			//stopCompilation(exceptions.END_OF_FILE);
		}
		else if (pass_eol!=undefined)
		{
			next_char='\n';
			return;
		}
		next_char=' ';
		return;
	}
	if (curr_line>=file.length)
	{
		next_char=-1;
		return;
		//stopCompilation(exceptions.END_OF_FILE);
	}
	next_char=file[curr_line].charAt(curr_char_pos);
}

function lookupNextSameLine()
{
	if ((curr_char_pos+1)>=file[curr_line].length)
	{
		return ' ';
	}
	else
	{
		return file[curr_line].charAt(curr_char_pos+1);
	}
}

var token_start_line=0;

var tokens_capitalized=true;
function setParseCapitalization(mode)
{
	tokens_capitalized=mode;
}

function parseIdentOrKeyword()
{
	var token_string="";
	var ind;
	
	while(1)
	{
		if (((next_char>='a')&&(next_char<='z'))||
	        ((next_char>='A')&&(next_char<='Z'))||
			((next_char>='0')&&(next_char<='9'))||
			(next_char=='_')
			)
		{
			
			token_string+=next_char;
			getNextChar();
		}
		else
		{
			break;
		}
	}
	if (tokens_capitalized==true)
	{
		next_token_non_capitalized=token_string;
		token_string=token_string.toUpperCase();
	}
	if ((ind=findKeywordIndex(token_string))==-1)
	{
		next_token=token_types.IDENT;
		next_token_suppliment=token_string;
	}
	else
	{
		next_token=keyword_elements[ind].elem;
	}
}

function parseFloatOrInt()
{
	var state=0;
	var stop=false;
	var save_token_str;
	var num_start=curr_char_pos;
    var token_string=""; 
	var prev_char="";
	var pos_cnt=0;
	
	while(stop==false)
	{
		switch(state)
		{
			case 0:
				// whole number
				if ((next_char>='0')&&(next_char<='9'))
				{
					prev_char=next_char;
					saveParsePoint();
					getNextChar();
					pos_cnt++;
				}
				else if (next_char=='x')
				{
					if ((pos_cnt==1)&&(prev_char=='0'))
					{
						saveParsePoint();
						getNextChar();
						state=16;
						break;
					}
					else
					{
						stop=true;
						break;
					}
				}
				else if (next_char=='.')
				{
					
					save_token_str=token_string;
					getNextChar();
					if ((next_char>='0')&&(next_char<='9'))
					{
						saveParsePoint();
						getNextChar();
					}
					else
					{
						stop=true;
						break;
					}
					state=1;
					break;
				}
				else
				{
					stop=true;
					break;
				}
				break;
			case 1:
			    // decimal
				if ((next_char>='0')&&(next_char<='9'))
				{
					saveParsePoint();
					getNextChar();
				}
				else if (next_char=='e')
				{
					getNextChar();
					if ((next_char=='+')||(next_char=='-'))
					{
						getNextChar();
					}
					else if ((next_char>='0')&&(next_char<='9'))
					{
						saveParsePoint();
						getNextChar();
					}
					else
					{
						stop=true;
						break;
					}
					state=2;
					break;
				}
				else
				{
					stop=true;
					break;
				}
				break;
			case 2:
				if ((next_char>='0')&&(next_char<='9'))
				{
					saveParsePoint();
					getNextChar();
				}
				else
				{
					stop=true;
					break;
				}
				break;
			case 16:
				if (((next_char>='0')&&(next_char<='9'))||
				    ((next_char>='A')&&(next_char<='F'))||	
					((next_char>='a')&&(next_char<='f')))
				{
					saveParsePoint();
					getNextChar();
				}
				else
				{
					stop=true;
					break;
				}
		}
	}
	restoreParsePoint();
	token_string="";
	for(i=num_start;i<=curr_char_pos;i++)
	{
		token_string+=file[curr_line].charAt(i);
	}
	getNextChar();
	if (state==0)
	{
		next_token=token_types.INT_CONST;
	}
	else if (state==16)
	{
		var num=parseInt(token_string,16);
		next_token=token_types.HEX_CONST;
		token_string=num.toString();
	}
	else
	{
		next_token=token_types.FLOAT_CONST;
	}
	next_token_suppliment=token_string;
}

/*function parseNumber()
{
	var token_string="";
	var fp=false;
	while(1)
	{
		if ((next_char>='0')&&(next_char<='9'))
		{
			token_string+=next_char;
			getNextChar();
		}
		else if (next_char=='.')
		{
			fp=true;
			token_string+=next_char;
			getNextChar();
		}
		else if (next_char=='e')
		{
			fp=true;
			token_string+=next_char;
			getNextChar();
			// add +,- or char
			token_string+=next_char;
			getNextChar();
		}
		else
		{
			break;
		}
	}
	if (fp==true)
	{
		next_token=token_types.FLOAT_CONST;
	}
	else
	{	
		next_token=token_types.INT_CONST;
	}
	next_token_suppliment=token_string;
}*/	


function parseString(multi_line)
{
	var token_string="";
	var pass_eol=undefined;
	if (multi_line==true)
	{
		pass_eol=true;
	}
	getNextChar(pass_eol);
	var start_str_line=curr_line;
	while(1)
	{
		if ((start_str_line!=curr_line)&&(multi_line==false))
		{
			stopCompilation("Can not have multi-line strings");
		}
		if (next_char=='\\')
		{
			getNextChar(pass_eol);
			token_string+='\\';
			token_string+=next_char;
		}
		else if (next_char=='\"')
		{
			getNextChar(pass_eol);
			break;
		}
		else
		{
			token_string+=next_char;
		}
		getNextChar(pass_eol);
	}
	next_token=token_types.STR_CONST;
	next_token_suppliment=token_string;
}

var token_start_line;
var token_start_pos;
var token_real_start_line;
var token_real_start_pos;
var preproc_defines;

function getNextToken()
{
	token_start_line=curr_line;
	token_start_pos=curr_char_pos;
	while(1)
	{
		if ((next_char!=' ')&&(next_char!='\t'))
		{
			break;
		}
		getNextChar();
	}
	if (next_char==-1)
	{
		// end of file
		next_token=-1;
		return;
	}
	token_real_start_line=curr_line;
	token_real_start_pos=curr_char_pos;
	if (next_char=='/')
	{
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;


		getNextChar();
		if (next_char=='/')
		{
			// skip the rest of the line
			curr_line++;
			curr_char_pos=0;
			next_char=file[curr_line].charAt(curr_char_pos);
			getNextToken();
		}
		else
		{
			next_token=token_types.DIV;
		}
		return;
	}
	if (next_char=='{')
	{
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;

		getNextChar();
		next_token_suppliment="";
		while (next_char!='}')
		{
			next_token_suppliment+=next_char;
			getNextChar();
		}
		getNextChar();
		addArgeeLineMapping(next_token_suppliment,curr_line);
		getNextToken();
		return;
	}
	if (next_char=="#")
	{
		// preprocessor
		var token_gen_preproc=false;
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;

		getNextChar();
		next_token_suppliment="";
		while (1)
		{
			next_token_suppliment+=next_char;
			getNextChar();
			if (next_char=='#')
			{
				getNextChar();
				if (next_char=='#')
				{
					break;
				}
				else
				{
					next_token_suppliment+"#";
				}
			}
		}
		
		var token_end_line=curr_line;
		var token_end_pos=curr_char_pos;
		var token_lines="";
		{
			var i;
			for(i=token_start_line+1;i<token_end_line;i++)
			{
				token_lines+=file[i]+"\r\n";
			}
		}
		next_token_suppliment=token_lines;
		
		
		/*if (next_token_suppliment.startsWith("GENERATE"))
		{
			token_gen_preproc=true;
			next_token_suppliment=next_token_suppliment.slice(8);
			preproc_defines+=next_token_suppliment;
		}*/
		// check if it is definition of preorcessor items or execution
		
		getNextChar();
		getNextToken();
		/*if (next_token==token_types.SEMICOL)
		{
			//remove last semicol after hash
			getNextToken();
		}
		if ((parse_pass==2)&&(token_gen_preproc==false))
		{
			eval(next_token_suppliment);
			var result_of_exec=st_preproc_inst.str_result;	
		}*/
		return;
	}
	if (next_char=='(')
	{
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;

		
		getNextChar();
		if (next_char=='*')
		{
			// comment skipping mode;
			while(1)
			{
				getNextChar();
				if ((next_char=='*')&&(lookupNextSameLine()==')'))
				{
					getNextChar();
					getNextChar();
					break;
				}
			}
			// comment skipped
			getNextToken();
		}
		else
		{
			next_token=token_types.LEFT_ROUND_BRACKET;
		}
		return;
	}
	else if (((next_char>='a')&&(next_char<='z'))||
	    ((next_char>='A')&&(next_char<='Z'))
		||(next_char=='_'))
	{
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;
		

		parseIdentOrKeyword();
		return;
	}
	else if ((next_char>='0')&&(next_char<='9'))
	{
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;

		
		parseFloatOrInt();
		return;
	}
	else if (next_char=='\"')
	{
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;

		
		parseString(false);
		return;
	}
	else if (next_char==':')
	{
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;

		
		// could be : or :=
		getNextChar();
		if (next_char!='=')
		{
			next_token=token_types.COLUMN;
		}
		else
		{
			next_token=token_types.ASSIGNMENT;
			getNextChar();
		}
		return;
	}
	else if (next_char=='.')
	{
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;

		
		// could be . or ..
		getNextChar();
		if (next_char!='.')
		{
			next_token=token_types.DOT;
		}
		else
		{
			next_token=token_types.RANGE;
			getNextChar();
		}
		return;
	}
	else if (next_char=='<')
	{
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;

		
		// could be < or <= or <>
		getNextChar();
		if (next_char=='=')
		{
			next_token=token_types.LESS_EQ;
			getNextChar();
		}
		else if (next_char=='>')
		{
			next_token=token_types.NOT_EQ;	
			getNextChar();
		}
		else
		{
			next_token=token_types.LESS;
		}
		return;
	}		
	else if (next_char=='>')
	{
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;

		
		// could be > or >=
		getNextChar();
		if (next_char=='=')
		{
			next_token=token_types.BIGGER_OR_EQ;
			getNextChar();
		}
		else
		{
			next_token=token_types.BIGGER;
		}
		return;
	}		
	else
	{
		token_start_line=curr_line;
		token_start_pos=curr_char_pos;

		
		switch(next_char)
		{
			case '&':next_token=token_types.AND; break;
			case '|':next_token=token_types.OR; break;
			case '!':next_token=token_types.NOT; break;
			case '%':next_token=token_types.MOD; break;


		
			case '+':next_token=token_types.PLUS; break;
			case '-':next_token=token_types.MINUS; break;
			//case '/':next_token=token_types.DIV; break;
			case '*':next_token=token_types.MULT; break;
			case ';':next_token=token_types.SEMICOL; break;
			case ',':next_token=token_types.COMMA; break;
			case '=':next_token=token_types.EQ; break;
			//case '(':next_token=token_types.LEFT_ROUND_BRACKET; break;
			case ')':next_token=token_types.RIGHT_ROUND_BRACKET; break;
			case '[':next_token=token_types.LEFT_SQ_BRACKET; break;
			case ']':next_token=token_types.RIGHT_SQ_BRACKET; break;
			// default: run function which throws and exception
		}
		getNextChar();
		return;
	}
}

// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!  End of Tokenizer  !!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!  Start of Parser !!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


/*
	   <expression>		::=	 <AND_expression> 
	   <AND_expression>     ::= <OR_expression> { AND <OR_expression>}
	   <OR_expression>     ::= <REL_expression> { OR <REL_expression>}
	   <REL_expression>		::=	 <simple_expression> |
	                             <simple_expression> <relation operator> <simple_expression>
       <simple_expression>	::=	<sign><term> { <operator plus><term> }
       <term>			::=	<factor> { <operator multiply><factor> }
       <factor>			::=	<variable>
       					| <constant>
       					| ( <expression> )
       					| NOT <factor>
       <relation operator>		::=	= | <> | < | <= | >= | >
       <sign>			::=	+ | - | <empty>
       <operator plus>		::=	+ | - 
       <operator multiply>	::=	* | DIV 
       <variable>		::=	<simple variable>
       					| <index variable>
       <index variable>		::=	<variable array> 	[ <expression> ]
       <variable array>		::=	<simple variable>
       <simple variable>	::=	<identifier of variable>
       <identifier of variable>	::=	<identifier>
*/


var ELEM=
{
	EXPR:0,
	CONST:1,
	EXPR_VAR:2,
	EXPR_IDENT:3,
	EXPR_VAR_ARR_IND:4,
	FUNC:5,
	FUNC_ARGS:6,
	FUNCT_BLOCK:7,
	FUNC_BLOCK_CALL:8,
	OP:9,
	PROGRAM:10,
	FUCT_BLOCK_LIST:13,
	VAR_SEGM:14,
	STATEMENT_LIST:15,
	IF:16,
	WHILE:17,
	VAR_REG:18,
	VAR_ARR:19,
	ASSIGN:20,
	FUNC_BLOCK_NAME:21,
	FUNC_BLOCK_ARG_LIST:22,
	FUNC_BLOCK_VAR_ASSIGN:23,
	VAR_SEGM_LIST:24,
	EXPR_VAR_OFFSET:25,
	WAIT_UNTIL:26,
	ELEM_PREEMPTION_POINT:27,
	ELEM_RETURN:28,
	ELEM_FUNC_BLOCK_PROLOGUE:29,
	ELEM_CONTEXT_SWITCH:30,
	CONST_STR:31,
	TO_FLOAT:32,
	TO_INT:33,
	CONST_INT:34,
	FUNC_NO_RETURN:35,
	TASK:36,
	ENUM_ELEM:37,
	ENUM_OBJ:38,
	HMI:39,
	HMI_SCREEN:40,
	HMI_SECTION:41,
	COMMENT:42,
	TRACE:43,
	LADDER_TRACE:44,
	FUNCTION_BLOCK_GROUP:45,
	LADDER_COMMENT:46,
	COMMENT_BLOCK:47,
	COMMENT_VAR:48,
	CONST_INT_ARR:49,
	FOR_LOOP:50,
	LADDER_FUNC_BLOCK_CALL:51,

	HMI_GRID_SCREEN:56,
	HMI_GRID_ROW:57,
	HMI_GRID_SECTION:58,
	HMI_IMAGE_GROUP:58,
	MODULE:59,
	PREPROC_GEN:60,
	PREPROC_EXEC:61,
	HMI_BLOCK:62,	
	HMI_BLOCK_ELEMENTS:63,
	HMI_BLOCK_SCREEN:64,	
}

function setObjType(obj,str,enm,dont_reset_line_counter)
{
	obj.str_type=str;
	obj.enum_type=enm;
	if (dont_reset_line_counter!=true)
	{
		obj.line_num=token_start_line;
	}
}

function extractExpression(pos_arr,include_comments)
{
	var i,j;
	var str="";
	var in_comment=false; 
	for(i=pos_arr[0];i<=pos_arr[2];i++)
	{
		var start_str_pos=0;
		var end_str_pos=file[i].length;
		if (i==pos_arr[0])
		{
			start_str_pos=pos_arr[1];
			if (pos_arr[0]==pos_arr[2])
			{
				end_str_pos=pos_arr[3];
			}
		}
		else if (i==pos_arr[2])
		{
			end_str_pos=pos_arr[3];
		}
		in_comment=false;
		for(j=start_str_pos;j<end_str_pos;j++)
		{
			if ((file[i].charAt(j)=='{')&&(include_comments==false))
			{
				in_comment=true;
			}
			else if (in_comment==false)
			{
				str+=file[i].charAt(j);
			}
			else if (file[i].charAt(j)=='}')
			{
				in_comment=false;
			}
		}
		if (i<pos_arr[2])
		{
			str+="\r\n";
		}
	}
	return str;
	//console.log(str);
}
var expr_nesting=0;
function parseExpression()
{
	var expr;
	var obj=new Object();
	var start_expr_line=token_start_line;
	var start_expr_pos=token_start_pos;
	expr_nesting++;
	expr=parseAND_Expression();
	/*if (
	     (next_token==token_types.EQ)||
		 (next_token==token_types.NOT_EQ)||
		 (next_token==token_types.LESS)||
		 (next_token==token_types.LESS_EQ)||
		 (next_token==token_types.BIGGER)||
		 (next_token==token_types.BIGGER_OR_EQ)
	   )
	{
		setObjType(obj,"EXPR",ELEM.EXPR);
		obj.list=[];
		obj.list[0]=expr;
		obj.list[1]={enum_type:ELEM.OP,str_type:getOpName(next_token),data:next_token},
		getNextToken();
		expr=parseSimpleExpression();
		obj.list[2]=expr;
		obj.elem_pos_in_text=[start_expr_line,start_expr_pos,token_real_start_line,token_real_start_pos];
		obj.elem_string=extractExpression(obj.elem_pos_in_text);
		obj.expr_nesting=expr_nesting;
		expr_nesting--;
		return obj;
		
	}
	else*/
	{
		expr.elem_pos_in_text=[start_expr_line,start_expr_pos,token_real_start_line,token_real_start_pos];
		if (expr.elem_pos_in_text[0]!=expr.elem_pos_in_text[2])
		{
			var jk=1;
		}
      if ((expr.list!=undefined)&&(expr.list.length==1)&&(expr.list[0].const_type!=undefined)&&
         (expr.list[0].const_type==CONST_TYPE.STR))
      {
            expr.elem_string=expr.list[0].const_val;
      }
      else
      {
         expr.elem_string=extractExpression(expr.elem_pos_in_text,false);
      }
		expr.expr_nesting=expr_nesting;
		expr_nesting--;
		return expr;
	}
}

function parseAND_Expression()
{
	var obj=new Object();
	var i;
	var or_expr=parseOR_Expression();
	if (next_token==token_types.AND)
	{
		setObjType(obj,"EXPR",ELEM.EXPR);
		obj.list=[];
		i=0;
		obj.list[i]=or_expr;i++
		while (next_token==token_types.AND)
		{
			obj.list[i]={enum_type:ELEM.OP,str_type:getOpName(next_token),data:next_token};i++;
			getNextToken();	
			or_expr=parseOR_Expression();
			obj.list[i]=or_expr;i++;
		}
		return obj;
	}
	else
	{
		return or_expr;
	}
}

function parseOR_Expression()
{
	var obj=new Object();
	var i;
	var rel_expr=parseREL_Expression();
	if (next_token==token_types.OR)
	{
		setObjType(obj,"EXPR",ELEM.EXPR);
		obj.list=[];
		i=0;
		obj.list[i]=rel_expr;i++
		while (next_token==token_types.OR)
		{
			obj.list[i]={enum_type:ELEM.OP,str_type:getOpName(next_token),data:next_token};i++;
			getNextToken();	
			rel_expr=parseREL_Expression();
			obj.list[i]=rel_expr;i++;
		}
		return obj;
	}
	else
	{
		return rel_expr;
	}
}


function parseREL_Expression()
{
	var obj=new Object();
	var i;
	var rel_expr=parseSimpleExpression();
	if (
		 (next_token==token_types.EQ)||
		 (next_token==token_types.NOT_EQ)||
		 (next_token==token_types.LESS)||
		 (next_token==token_types.LESS_EQ)||
		 (next_token==token_types.BIGGER)||
		 (next_token==token_types.BIGGER_OR_EQ)
	   )
	{
		setObjType(obj,"EXPR",ELEM.EXPR);
		obj.list=[];
		i=0;
		obj.list[i]=rel_expr;i++
		obj.list[i]={enum_type:ELEM.OP,str_type:getOpName(next_token),data:next_token};i++;
		getNextToken();	
		rel_expr=parseSimpleExpression();
		obj.list[i]=rel_expr;i++;
		return obj;
	}
	else
	{
		return rel_expr;
	}
}


function parseSimpleExpression()
{
	var obj=new Object();
	var term;
	var compound=false;
	var i;
	
	if ((next_token==token_types.PLUS)||(next_token==token_types.MINUS)||(next_token==token_types.NOT))
	{
		setObjType(obj,"EXPR",ELEM.EXPR);
		obj.list=[];
		i=0;
		obj.list[0]={enum_type:ELEM.OP,str_type:getOpName(next_token),data:next_token};i++;
		compound=true;
		getNextToken();	
	}
	term=parseTerm();
	if ((next_token==token_types.PLUS)||(next_token==token_types.MINUS))
	{
		if (compound==false)
		{
			setObjType(obj,"EXPR",ELEM.EXPR);
			obj.list=[];
			i=0;
		}
		obj.list[i]=term;i++
		
		while ((next_token==token_types.PLUS)||(next_token==token_types.MINUS))
		{
			obj.list[i]={enum_type:ELEM.OP,str_type:getOpName(next_token),data:next_token};i++;
			getNextToken();	
			term=parseTerm();
			obj.list[i]=term;i++;
		}
		return obj;
	}
	else
	{
		if (compound==false)
		{
			return term;
		}
		else
		{
			obj.list[i]=term;i++
			return obj;
		}
	}
}

function parseTerm()
{
	var obj=new Object();
	var i;
	var factor;
	factor=parseFactor();
	if ((next_token==token_types.MULT)||(next_token==token_types.DIV)||(next_token==token_types.MOD))
	{
		setObjType(obj,"EXPR",ELEM.EXPR);
		obj.list=[];
		i=0;
		obj.list[i]=factor;i++;
		
		while ((next_token==token_types.MULT)||(next_token==token_types.DIV)||(next_token==token_types.MOD))
		{
			obj.list[i]={enum_type:ELEM.OP,str_type:getOpName(next_token),data:next_token};i++;
			getNextToken();	
			factor=parseFactor();
			obj.list[i]=factor;i++;
		}
		return obj;
	}
	else
	{
		return factor;
	}
}



function parseFactor()
{
	var obj=new Object();
	var i;
	if (next_token==token_types.IDENT)
	{
		var v=parseVariableOrFunction(null,false,true);
		/*obj.type="variable or function";
		obj.data=v;*/
		return v;
	}
	if (next_token==token_types.STR_CONST)
	{
		var v=parseConstStrVar();
		return v;	
	}
	if (next_token==token_types.FLOAT_CONST)
	{
		var v=parseConstFloatVar();
		return v;	
	}
    
	if ((next_token==token_types.INT_CONST)||(next_token==token_types.HEX_CONST))
	{
		// Handle ...
		setObjType(obj,"CONST",ELEM.CONST);
		obj.data=next_token_suppliment;

		if (next_token==token_types.HEX_CONST)
		{
			obj.hex=true;
		}
		getNextToken();	
		return obj;
	}
	if ((next_token==token_types.MINUS)||(next_token==token_types.PLUS))
    {
        setObjType(obj,"EXPR",ELEM.EXPR);
		obj.list=[];
		obj.list[0]={enum_type:ELEM.OP,str_type:getOpName(next_token),data:next_token};
		getNextToken();	
        obj.list[1]=parseFactor();
        return obj;
    }
	if (next_token==token_types.LEFT_ROUND_BRACKET)
	{
		var expr;
		getNextToken();	
		expr=parseExpression();
		/*obj.type="nested expression";
		obj.data=expr;
		match(token_types.RIGHT_ROUND_BRACKET);
		return obj;
		*/
		match(token_types.RIGHT_ROUND_BRACKET);
		return expr;
	}
	if (next_token==token_types.NOT)
	{
		setObjType(obj,"EXPR",ELEM.EXPR);
		obj.list=[];
		i=0;
		obj.list[i]={enum_type:ELEM.OP,str_type:getOpName(next_token),data:next_token};i++;
		getNextToken();	
		obj.list[i]=parseFactor();
		return obj;
	}
	else
	{
		if (next_token==token_types.RIGHT_ROUND_BRACKET)
		{
			stopCompilation("Empty expression is not allowed");
		}
		else
		{
			stopCompilation("Invalid token '"+getOpName(next_token)+"'");
		}
	}
}

function getConstStringName(str)
{
	var i;
	for(i=0;i<const_strings.length;i++)
	{
		if (const_strings[i].val==str)
		{
			return const_strings[i].name;
		}
	}
	var len=const_strings.length;
	const_strings[len]={name:"___CONST_STR_"+len,val:str};
	return const_strings[len].name;
}	


var var_mode_assignment=false;
var CONST_TYPE=
{
	STR:0,
	NUM:1,
};

function parseConstStrVar()
{
	var obj=new Object();
	var i;
	setObjType(obj,"EXPR_VAR",ELEM.EXPR_VAR);
	obj.list=[];
	i=0;
	var obj1=new Object();
	if (var_mode_assignment==true)
	{
		setObjType(obj1,"CONST_STR",ELEM.CONST_STR);
		obj1.data=next_token_suppliment;
		getNextToken();	
		return obj1;
	}
	else
	{
		var obj1=new Object();
		setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);
		obj1.data=getConstStringName(next_token_suppliment);
		obj1.const_type=CONST_TYPE.STR;
		obj1.const_val="\""+next_token_suppliment+"\"";
		obj1.const_elem=true;
		obj.list[i]=obj1;
		
		
		getNextToken();	
	}
	return obj;
}


function getConstFloatName(str)
{
	var arr=new ArrayBuffer(4);
	var dt=new DataView(arr);
	dt.setFloat32(0,parseFloat(str),true);
	var num=dt.getUint32(0,true);
	
	for(i=0;i<const_num.length;i++)
	{
		if (const_num[i].val==num)
		{
			return const_num[i].name;
		}
	}
	var len=const_num.length;
	const_num[len]={name:"___CONST_NUM_"+len,val:num};
	return const_num[len].name;
	
}

function parseConstFloatVar()
{
	var obj=new Object();
	var i;
	setObjType(obj,"EXPR_VAR",ELEM.EXPR_VAR);
	obj.list=[];
	i=0;
	var obj1=new Object();
	if (var_mode_assignment==true)
	{
		stopCompilation("Can not have statically assigned floating point variables");
	}
	else
	{
		var obj1=new Object();
		setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);
		obj1.data=getConstFloatName(next_token_suppliment);
		obj1.const_type=CONST_TYPE.NUM;
		obj1.const_val=next_token_suppliment;
		obj1.const_elem=true;
		obj.list[i]=obj1;
		getNextToken();	
	}
	return obj;
}


function createConstElem(val,isFloat)
{
	var obj=new Object();
	setObjType(obj,"EXPR_VAR",ELEM.EXPR_VAR);
	i=0;
	var obj1=new Object();
	
	if (isFloat==true)
	{
		obj.list=[];

		var obj1=new Object();
		setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);
		obj1.data=getConstFloatName(val);
		obj.list[i]=obj1;
	}
	else
	{
		setObjType(obj,"CONST",ELEM.CONST);
		obj.data=val;
	}
	return obj;
}


function parseVarPart()
{
	var obj=new Object();
	var i;
	setObjType(obj,"EXPR_VAR",ELEM.EXPR_VAR);
	obj.list=[];
	i=0;
	var empty_array_detected=false;
	while(1)
	{
		if (next_token==token_types.IDENT)
		{
			var obj1=new Object();
			setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);
			obj1.data=next_token_suppliment;
			obj1.unCapitalizedName=next_token_non_capitalized;
			obj.list[i]=obj1;
			getNextToken();	
			i++;
		}
		else if (next_token==token_types.INT_CONST)
		{
			var obj1=new Object();
			// only one element after the dot -> bit position
			setObjType(obj1,"EXPR_VAR_OFFSET",ELEM.EXPR_VAR_OFFSET);
			obj.list[i]=obj1;
			/*if ((i!=1)&&(indiv_expr_mode==false))
			{
				stopCompilation("variable offset can only be applied to non/array mapped variables");
			}*/
			i++;
			
			obj1.offset=parseInt(next_token_suppliment);
			obj1.len=1;
			getNextToken();
			/*if (next_token==token_types.DOT)
			{
				getNextToken();
				if (next_token==token_types.INT_CONST)
				{
					obj1.len=parseInt(next_token_suppliment);
				}
				else
				{
					stopCompilation("Not an integer constant: "+next_token_suppliment);
				}
				getNextToken();
				break;
			}*/
			
			if (indiv_expr_mode==true)
			{
				// multiple "."s are possible
				continue;
			}

			break;
		}
		else if (next_token==token_types.FLOAT_CONST)
		{
			var obj1=new Object();
			var split_arr=next_token_suppliment.split(".");
			// 2 elements -> bit and len are both present
			setObjType(obj1,"EXPR_VAR_OFFSET",ELEM.EXPR_VAR_OFFSET);
			obj.list[i]=obj1;
			/*if ((i!=1)&&(indiv_expr_mode==false))
			{
				stopCompilation("variable offset can only be applied to non/array mapped variables");
			}*/
			i++;
			
			obj1.offset=parseInt(split_arr[0]);
			obj1.len=parseInt(split_arr[1]);
			getNextToken();
			if (indiv_expr_mode==true)
			{
				// multiple "."s are possible
				continue;
			}
			break;
		}
		else if (next_token==token_types.LEFT_SQ_BRACKET)
		{
			getNextToken();	
			if (next_token==token_types.RIGHT_SQ_BRACKET)
			{
				empty_array_detected=true;
				// treat it as a pointer -> move to next item
				getNextToken();	
			}
			else
			{
				var obj1=new Object();
				setObjType(obj1,"EXPR_VAR_ARR_IND",ELEM.EXPR_VAR_ARR_IND);
				obj1.list=[];
				obj1.list[0]=parseExpression();
				obj.list[i]=obj1;
				match(token_types.RIGHT_SQ_BRACKET);
				i++;
			}
		}
		else if (next_token==token_types.DOT)
		{
			if (empty_array_detected==true)
			{
				stopCompilation("Array index missing");
			}
			getNextToken();
		}
		else
		{			
			break;
		}
		
	}
	//obj=ARGEE_nst_process.postProcessVar(obj);
	/*if (obj.list.length==1)
	{
		return obj.list[0];
	}*/
	return obj;
}


function parseVariableOrFunction(var_part1,statement,no_arg_count_check)
{
	var obj=new Object();
	var var_part;
	if (var_part1==null)
	{
		var_part=parseVarPart();
	}
	else
	{
		var_part=var_part1;
	}
	if (next_token==token_types.LEFT_ROUND_BRACKET)
	{
		// built in function
		if ((var_part.list!=undefined)&&(var_part.list.length>1))
		{
			// function calls always start with a simple ident -> not array or structure
			stopCompilation("invalid function name");
		}
		if (statement==true)
		{
			setObjType(obj,"FUNC_NO_RETURN",ELEM.FUNC_NO_RETURN); // functions always have arguments -> they don't work on global variables - always on inputs			
		}
		else
		{
			setObjType(obj,"FUNC",ELEM.FUNC); // functions always have arguments -> they don't work on global variables - always on inputs
		}
		getNextToken();
		obj.data=var_part.list[0].data;
		/*obj.func_descr=findBuiltInFunc(obj.data);
		if (obj.ret_type=="REAL")
		{
			obj.fp=true;
		}
		if (obj.func_descr==null)
		{
			stopCompilation("unknown function");
		}*/
		obj.list=[];

		var obj1=new Object();
		setObjType(obj1,"FUNC_ARGS",ELEM.FUNC_ARGS);
		obj1.list=[];
		var expr=parseExpression();
		var i=0;
		obj1.list[i]=expr;i++;
		while(next_token==token_types.COMMA)
		{
			getNextToken();
			expr=parseExpression();
			obj1.list[i]=expr;i++;
		}
		match(token_types.RIGHT_ROUND_BRACKET);
		//obj.list[0]=obj1;
		obj.list=obj1.list;
		/*if ((obj.list.length>4)&&(no_arg_count_check==false))
		{
			// can't pass more than 4 arguments for now
			stopCompilation("Can not pass more than 4 parameters to a function");
		}*/
		return obj;
	}
	else
	{
		return var_part;
	}
}


function match(tok)
{
	if (next_token!=tok)
	{
		//stopCompilation("'"+getOpName(tok)+"' is missing");
		stopCompilation("Invalid token'"+getOpName(next_token)+"'");
	}
	getNextToken();	
}

var const_strings=[];
var const_num=[];

function getConstElems()
{
	return [const_num,const_strings];
}

function skipHMI_Comments()
{
   while(next_token==token_types.COMMENT_BEGIN)
   {
      while(next_token!=token_types.COMMENT_END)
      {
         getNextToken();
      }
      getNextToken();
   }
}

function parseProgram()
{
	var i,j;
	var obj=new Object();
	var obj_globals=new Object();
	var obj_funct_blocks=new Object();
	var obj_enum_blocks=new Object();
	obj.list=[];
	const_strings=[];
	const_num=[];
	setObjType(obj,"PROGRAM",ELEM.PROGRAM);
	setObjType(obj_globals,"VAR_SEGM_LIST",ELEM.VAR_SEGM_LIST);
	setObjType(obj_funct_blocks,"FUCT_BLOCK_LIST",ELEM.FUCT_BLOCK_LIST);
	obj_globals.list=[];
	obj_funct_blocks.list=[];
	obj.list=[obj_globals,obj_funct_blocks];
	i=0;
	j=0;
	while(1)
	{
		if ((next_token==token_types.VAR)||
		    (next_token==token_types.VAR_TASK))
		{
			var segm_type=next_token;
			obj_globals.list[j]=parseVarSegm(true);j++;
		}
		if (next_token==token_types.VAR_MODULE)
		{
			var segm_type=next_token;
			obj_funct_blocks.list[i]=parseVarSegm(true);i++;
		}
		else if (isFB_Token(next_token)==true)
		{
			var fb_type_token=next_token;
			getNextToken();
			obj_funct_blocks.list[i]=parseFunctionBlock(fb_type_token);i++;
		}
		else if (next_token==token_types.FUNCTION_BLOCK_GROUP_BEGIN)
		{
			getNextToken();
			obj_funct_blocks.list[i]=parseFunctionBlockGroup();i++;
		}
		else if (next_token==token_types.MODULE)
		{
			getNextToken();
			obj_funct_blocks.list[i]=parseModule();i++;
		}
		else if (next_token==token_types.ENUM_BEGIN)
		{
			var obj_enum=new Object();
			setObjType(obj_enum,"ENUM_OBJ",ELEM.ENUM_OBJ);
			obj_enum.list=[];
			var first_time=true;
			while (next_token!=token_types.ENUM_END)
			{
				if (first_time==true)
				{
					getNextToken();
					first_time=false;
				}
				if (next_token==token_types.COMMA)
				{
					getNextToken();
					continue;
				}
				if (next_token!=token_types.IDENT)
				{
					stopCompilation("Invalid enumeration definition");
				}
				//addToEnumList(next_token_suppliment);
				var enum_elem=new Object();
				setObjType(enum_elem,"ENUM_ELEM",ELEM.ENUM_ELEM);
				enum_elem.name=clone(next_token_suppliment);
				obj_enum.list[obj_enum.list.length]=enum_elem;
				getNextToken();
				if (next_token==token_types.COLUMN)
				{
					getNextToken();
					if ((next_token!=token_types.INT_CONST)&&(next_token!=token_types.HEX_CONST))
					{
						stopCompilation("Invalid enumeration definition");
					}
					enum_elem.const_val=next_token_suppliment;
					if (next_token==token_types.HEX_CONST)
					{
						enum_elem.hex=true;
					}
					getNextToken();
				}
				else if (next_token==token_types.LEFT_ROUND_BRACKET)
				{
					if (enum_elem.name.toUpperCase()!="COMMENT")
					{
						stopCompilation("invalid function in enumeration list",enum_elem);
					}
					setObjType(enum_elem,"COMMENT_VAR",ELEM.COMMENT_VAR);
					delete enum_elem.name;
					parseString(true);
					enum_elem.data=next_token_suppliment;
					match(token_types.STR_CONST);
					match(token_types.COMMA);
					enum_elem.comment_type=num(next_token_suppliment);
					getNextToken();
					match(token_types.RIGHT_ROUND_BRACKET);
					if (next_token==token_types.SEMICOL)
					{
						getNextToken();
						continue;
					}
					else
					{
						stopCompilation("invalid function in enumeration list",enum_elem);
					}
				}
				if (next_token==token_types.ENUM_END)
				{
					getNextToken();
					break;
				}
			}
			obj_funct_blocks.list[i]=obj_enum;i++;
			
		}
		else if (next_token==token_types.HMI_BEGIN)
		{
			var obj_hmi=new Object();
			setObjType(obj_hmi,"HMI",ELEM.HMI);
			obj_hmi.list=[];
			var_mode_assignment=true;
			getNextToken();
         skipHMI_Comments();
			while (next_token!=token_types.END_HMI)
			{
				var screen;
				screen=undefined;
				skipHMI_Comments();
				
				if ((next_token==token_types.HMI_BLOCK_SCREEN)||(next_token==token_types.HMI_BLOCK))
				{
					getNextToken();
					obj_hmi.list[obj_hmi.list.length]=parseHMI_Block();
					
				}
				else
				{

					if (next_token==token_types.HMI_SCREEN_BEGIN)
					{
						screen=new Object();
						setObjType(screen,"HMI_SCREEN",ELEM.HMI_SCREEN);
						getNextToken(); // switch to name
						screen.name=clone(next_token_suppliment);
						screen.list=[];
						getNextToken();
						
						while(next_token!=token_types.END_HMI_SCREEN)
						{
							var section;
					  skipHMI_Comments();
							if ((next_token==token_types.IDENT)&&(next_token_suppliment.toUpperCase()=="COMMENT"))
							{
								section=parseVariableOrFunction(null,true,true);
								if (next_token!=token_types.SEMICOL)
								{
									stopCompilation("Invalid token in HMI definition");
								}
								screen.list[screen.list.length]=section;							
								getNextToken(); 
								continue;
							}
					  skipHMI_Comments();
							if (next_token!=token_types.HMI_SECTION_BEGIN)
							{
								stopCompilation("Invalid token in HMI definition");
							}
							section=new Object();
							setObjType(section,"HMI_SECTION",ELEM.HMI_SECTION);
							getNextToken(); // switch to name
							section.name=clone(next_token_suppliment);
							section.list=[];
							getNextToken(); 
							var real_elements=0;
							while (next_token!=token_types.END_HMI_SECTION)
							{
						 skipHMI_Comments();
						 var obj_func=parseVariableOrFunction(null,true,true);
						 section.list[section.list.length]=obj_func;
						 match(token_types.SEMICOL);
						 real_elements++;
						 skipHMI_Comments();
							}
							getNextToken(); 
					  skipHMI_Comments();
							screen.list[screen.list.length]=section;
							if (real_elements==0)
							{
								stopCompilation("Empty sections are not allowed",section);
							}
						}
						if (screen.list.length==0)
						{
							stopCompilation("Empty screens are not allowed",screen);
						}
					}
					else if (next_token==token_types.HMI_IMAGE_GROUP)
					{
						hmi_image_group=new Object();
						setObjType(hmi_image_group,"HMI_IMAGE_GROUP",ELEM.HMI_IMAGE_GROUP);

						if (obj_hmi.images==undefined)
						{
							obj_hmi.images=[];
						}
						getNextToken();
				   skipHMI_Comments();
						while (next_token!=token_types.END_HMI_IMAGE_GROUP)
						{
					  skipHMI_Comments();
							var obj_func=parseVariableOrFunction(null,true,true);
							obj_hmi.images[obj_hmi.images.length]=obj_func;
							match(token_types.SEMICOL);
					  skipHMI_Comments();
						}
						if (obj_hmi.images.length==0)
						{
							stopCompilation("no images in the HMI IMAGE GROUP ",hmi_image_group);
						}
					}
					else if (next_token==token_types.HMI_GRID_SCREEN)
					{
						screen=new Object();
						setObjType(screen,"HMI_GRID_SCREEN",ELEM.HMI_GRID_SCREEN);
						getNextToken(); // switch to name
						skipHMI_Comments();
						screen.expr=parseExpression();
						if (screen.expr.elem_string.charAt(0)==' ')
						{
							screen.expr.elem_string=screen.expr.elem_string.slice(1);
						}
						screen.list=[];
						match(token_types.SEMICOL);
						skipHMI_Comments();
						while(next_token!=token_types.END_HMI_GRID_SCREEN)
						{
							var row;
							
							if ((next_token==token_types.IDENT)&&(next_token_suppliment.toUpperCase()=="COMMENT"))
							{
								row=parseVariableOrFunction(null,true,true);
								if (next_token!=token_types.SEMICOL)
								{
									stopCompilation("Invalid token in HMI definition");
								}
								screen.list[screen.list.length]=row;							
								getNextToken(); 
								continue;
							}
							skipHMI_Comments();
							
							if (next_token!=token_types.HMI_GRID_ROW)
							{
								stopCompilation("Invalid token in HMI definition");
							}
							row=new Object();
							setObjType(row,"HMI_GRID_ROW",ELEM.HMI_GRID_ROW);
							getNextToken(); // switch to name
							if (next_token==token_types.SEMICOL)
							{
								getNextToken(); // switch to name
							}
							else
							{
								row.expr=parseExpression();
								match(token_types.SEMICOL);
							}						
							skipHMI_Comments();
							row.list=[];
							while(next_token!=token_types.END_HMI_GRID_ROW)
							{
								var section;
								
								if ((next_token==token_types.IDENT)&&(next_token_suppliment.toUpperCase()=="COMMENT"))
								{
									section=parseVariableOrFunction(null,true,true);
									if (next_token!=token_types.SEMICOL)
									{
										stopCompilation("Invalid token in HMI definition");
									}
									row.list[row.list.length]=section;							
									getNextToken(); 
									continue;
								}
								skipHMI_Comments();
								if (next_token!=token_types.HMI_GRID_SECTION)
								{
									stopCompilation("Invalid token in HMI definition");
								}
								section=new Object();
								setObjType(section,"HMI_GRID_SECTION",ELEM.HMI_GRID_SECTION);
								getNextToken(); // switch to name
								section.expr=parseExpression();
								if (section.expr.elem_string.charAt(0)==' ')
								{
									section.expr.elem_string=section.expr.elem_string.slice(1);
								}

								match(token_types.SEMICOL);
						 skipHMI_Comments();
								section.list=[];
								while (next_token!=token_types.END_HMI_GRID_SECTION)
								{
							skipHMI_Comments();
									var obj_func=parseExpression();//parseVariableOrFunction(null,true,true);
									setObjType(obj_func,"FUNC_NO_RETURN",ELEM.FUNC_NO_RETURN); // force func_no_return
									section.list[section.list.length]=obj_func;
									match(token_types.SEMICOL);
							skipHMI_Comments();
								}
								row.list[row.list.length]=section;
								getNextToken(); 
						 skipHMI_Comments();
							}
							if (row.list.length==0)
							{
								stopCompilation("Empty rows are not allowed",row);
							}

							
							getNextToken(); 
					  skipHMI_Comments();
							screen.list[screen.list.length]=row;
						}
						
						
						if (screen.list.length==0)
						{
							stopCompilation("Empty screens are not allowed",screen);
						}
						
					}
					else if ((next_token==token_types.IDENT)&&(next_token_suppliment.toUpperCase()=="COMMENT"))
					{
						screen=parseVariableOrFunction(null,true,true);
						if (next_token!=token_types.SEMICOL)
						{
							stopCompilation("Invalid token in HMI definition");
						}
					}
					else
					{
						stopCompilation("Invalid token in HMI definition");
					}	
					getNextToken();
					if (screen!=undefined)
					{
						obj_hmi.list[obj_hmi.list.length]=screen;
					}
				}
				skipHMI_Comments();
			}
			var_mode_assignment=false;
			obj.hmi=obj_hmi;
			getNextToken(); 
		}
		
		else if (next_token==-1)
		{
			break;
		}
		else
		{
			stopCompilation("Invalid token in the program (not a variable or function block)");
		}
	}
	return obj;
}

function parseHMI_BlockElements()
{
	var obj=new Object();
	var obj1;
	var i;
	setObjType(obj,"HMI_BLOCK_ELEMENTS",ELEM.HMI_BLOCK_ELEMENTS);
	obj.list=[];
	i=0;
	while((next_token!=token_types.END_HMI_BLOCK)&&(next_token!=token_types.END_HMI_BLOCK_SCREEN))
	{
		skipHMI_Comments();
		if (next_token==token_types.HMI_BLOCK)
		{
			getNextToken();	
			var obj_tmp=parseHMI_Block();
			obj.list[i]=obj_tmp;
		}
		else
		{
			var obj_func=parseExpression();
			setObjType(obj_func,"FUNC_NO_RETURN",ELEM.FUNC_NO_RETURN);
			//parseVariableOrFunction(null,true,true);
			match(token_types.SEMICOL);
			obj.list[i]=obj_func;
		}
		i++;
	}
	getNextToken();	
	return obj;
}

function parseHMI_Block()
{
	var obj=new Object();
	setObjType(obj,"HMI_BLOCK",ELEM.HMI_BLOCK);
	obj.list=[];
    var obj_func=parseExpression();
	setObjType(obj_func,"FUNC_NO_RETURN",ELEM.FUNC_NO_RETURN);
			
	obj.list[0]=obj_func;
	match(token_types.SEMICOL);
	obj.list[1]=parseHMI_BlockElements();
	return obj;
}

function parseVarSegments()
{
	var obj=new Object();
	var i;
	setObjType(obj,"VAR_SEGM_LIST",ELEM.VAR_SEGM_LIST);
	obj.list=[];
	obj.type=null;
	i=0;
	while((next_token==token_types.VAR_INPUT)||
		(next_token==token_types.VAR_OUTPUT)||
		(next_token==token_types.VAR_INOUT)||
		(next_token==token_types.VAR)||
		(next_token==token_types.VAR_TASK)||
		(next_token==token_types.VAR_RETAIN))
	{
		obj.list[i]=parseVarSegm(false);i++;		
	}
	/*if (obj.list.length==1)
	{
		return obj.list[0];
	}*/
	return obj;
}

function parseFunctionBlockGroup()
{
	var obj=new Object();
	var i;
	if (next_token==token_types.IDENT)
	{
		setObjType(obj,"FUNCTION_BLOCK_GROUP",ELEM.FUNCTION_BLOCK_GROUP);
		obj.name=next_token_suppliment;
		getNextToken();	
	}
	else
	{
		stopCompilation("Identifier expected");
	}
	obj.list=[];
	obj.list[0]=parseVarSegments();
	obj.list[1]=parseStatements(true,true);
	
	if (next_token!=token_types.FUNCTION_BLOCK_GROUP_END)
	{
		stopCompilation("Invalid token");
	}
	getNextToken();	
	return obj;
}

function parseModule()
{
	var obj=new Object();
	var i;
	match(token_types.LEFT_ROUND_BRACKET);
	if (next_token!=token_types.STR_CONST)
	{
		stopCompilation("string expected");
	}
	setObjType(obj,"MODULE",ELEM.MODULE);
	obj.name=next_token_suppliment;
	getNextToken();	
	match(token_types.COMMA);
	if (next_token!=token_types.STR_CONST)
	{
		stopCompilation("string expected");
	}
	obj.version=next_token_suppliment;
	getNextToken();	
	match(token_types.RIGHT_ROUND_BRACKET);
	match(token_types.SEMICOL);
	return obj;
}

var fb_types=
[
	{start_token: token_types.FUNCTION_BLOCK, end_token:token_types.END_FUNCTION_BLOCK,
	                                        type:ELEM.FUNCT_BLOCK,string_type:"FUNCT_BLOCK"},
	{start_token: token_types.HMI_BLOCK_FUNCT_BLOCK, end_token:token_types.END_FUNCTION_BLOCK,
	 set_bool_field:"HMI_BLOCK_FUNCT_BLOCK",type:ELEM.FUNCT_BLOCK,string_type:"FUNCT_BLOCK"},
	{start_token: token_types.HMI_CONTROL_FUNCT_BLOCK, end_token:token_types.END_FUNCTION_BLOCK,
	 set_bool_field:"HMI_CONTROL_FUNCT_BLOCK",type:ELEM.FUNCT_BLOCK,string_type:"FUNCT_BLOCK"},
	{start_token: token_types.BITFIELD_FUNCT_BLOCK, end_token:token_types.END_FUNCTION_BLOCK,
	 set_bool_field:"BITFIELD_FUNCT_BLOCK",type:ELEM.FUNCT_BLOCK,string_type:"FUNCT_BLOCK"},
	{start_token: token_types.TASK_BEGIN, end_token:token_types.END_TASK,
	 set_bool_field:"task_function_block",type:ELEM.TASK,string_type:"TASK"},
	{start_token: token_types.STRUCT_BEGIN, end_token:token_types.STRUCT_END,
	 set_bool_field:"STRUCT",type:ELEM.FUNCT_BLOCK,string_type:"FUNCT_BLOCK"},
	{start_token: token_types.FUNCTION_BEGIN, end_token:token_types.FUNCTION_END,
	 set_bool_field:"FUNCTION",type:ELEM.FUNCT_BLOCK,string_type:"FUNCT_BLOCK"},

	{start_token: token_types.PROCEDURE_BEGIN, end_token:token_types.PROCEDURE_END,
	 set_bool_field:"PROCEDURE",type:ELEM.FUNCT_BLOCK,string_type:"FUNCT_BLOCK"},


];

function isFB_Token(token)
{
	var i;
	for(i=0;i<fb_types.length;i++)
	{
		if (fb_types[i].start_token==token)
		{
			return true;
		}
	}
	return false;
}


function parseFunctionBlock(first_token)
{
	var obj=new Object();
	var obj1=new Object();
	var i;
	var elem_ptr=null;
	for(i=0;i<fb_types.length;i++)
	{
		if (fb_types[i].start_token==first_token)
		{
			elem_ptr=fb_types[i];
			break;
		}
	}
	if (elem_ptr==null)
	{
		stopCompilation("Invalid token");
	}
	if (next_token==token_types.IDENT)
	{
		setObjType(obj,elem_ptr.string_type,elem_ptr.type);
			
		obj.name=next_token_suppliment;
		obj.unCapitalizedName=next_token_non_capitalized;

		getNextToken();	
		match(token_types.LEFT_ROUND_BRACKET);
	}
	else
	{
		stopCompilation("Identifier expected");
	}
	obj.list=[];
	var obj1=new Object();
	setObjType(obj1,"FUNC_ARGS",ELEM.FUNC_ARGS);
	obj1.list=[];
	while(next_token==token_types.IDENT)
	{
		obj1.list[obj1.list.length]=next_token_suppliment;
		getNextToken();	
		if (next_token==token_types.COMMA)
		{
			getNextToken();
		}
		else
		{
			break;
		}
	}
	match(token_types.RIGHT_ROUND_BRACKET);
	obj.arg_list=obj1;
		
	obj.list[0]=parseVarSegments();
	
	if (next_token!=elem_ptr.end_token)
	{
		obj.list[1]=parseStatements(true,true);
	}
	if (next_token==elem_ptr.end_token)
	{
		if ((first_token== token_types.TASK_BEGIN)&&(obj.list.length<2))
		{
			// create an empty wrapper for the code of the task
			obj.list[1]=createDummyTask();
		}
		if (elem_ptr.set_bool_field!=undefined)
		{
			obj[elem_ptr.set_bool_field]=true;
		}
	}
	else
	{
		stopCompilation("Invalid token");
	}
	getNextToken();
	if (obj.list.length==1)
	{
		obj.UDT=true;
	}
	return obj;
}


function parseVarSegm(global)
{
	var i,j;
	var obj=new Object();
	var obj1;
	setObjType(obj,"VAR_SEGM",ELEM.VAR_SEGM);
	i=0;
	obj.list=[];
	obj.type=next_token;
	if (obj.type==token_types.VAR_INOUT)
	{
		obj.type=token_types.VAR_INPUT;
	}
	getNextToken();	
	while(next_token!=token_types.END_VAR)
	{
		var start=i;
		obj1=new Object();
		setObjType(obj1,"VAR_REG",ELEM.VAR_REG);
		if (next_token==token_types.IDENT)
		{
			obj1.name=next_token_suppliment;
			obj1.unCapitalizedName=next_token_non_capitalized;
		
			// var identifier
			getNextToken();	
		}
		else
		{
			stopCompilation("Invalid variable name",obj1);
		}
		if (next_token==token_types.LEFT_ROUND_BRACKET)
		{
			// comment
			if (next_token_suppliment.toUpperCase()!="COMMENT")
			{
				stopCompilation("Non comment function in variable segment",obj1);
			}
			setObjType(obj1,"COMMENT_VAR",ELEM.COMMENT_VAR);
			parseString(true);
			obj1.data=next_token_suppliment;
			match(token_types.STR_CONST);
			match(token_types.COMMA);
			obj1.comment_type=num(next_token_suppliment);
			getNextToken();
			match(token_types.RIGHT_ROUND_BRACKET);
			match(token_types.SEMICOL);
			obj.list[i]=obj1;
			i++;
			continue;
		}
		obj.list[i]=obj1;
		while (next_token==token_types.COMMA)
		{
			obj1=new Object();
			getNextToken();	
			if (next_token!=token_types.IDENT)
			{
				stopCompilation("Identifier expected");
			}
			i++;
			setObjType(obj1,"VAR_REG",ELEM.VAR_REG);
			obj1.name=next_token_suppliment;
			obj1.unCapitalizedName=next_token_non_capitalized;
			
			obj.list[i]=obj1;
			getNextToken();
		}
		i++;
		match(token_types.COLUMN);
		var obj2=parseVarType(global,obj.type);
		
		if (global==true)
		{
			// could be followed by the initialization value
			
		}
		
		for(j=start;j<i;j++)
		{
			obj.list[j].type=clone(obj2);
			obj.list[j].segm_link=obj;
			if (obj2.type!=ELEM.VAR_REG)
			{
				setObjType(obj.list[j],"VAR_ARR",ELEM.VAR_ARR);
			}
			if (global==true)
			{
				
			}
		}
		match(token_types.SEMICOL);
	}
	getNextToken();	
	return obj;
}


function parseVarType(global,segm_type)
{
	var act_obj_type={};
	if (next_token==token_types.IDENT)
	{
		// simple type
		var name=next_token_suppliment;
		getNextToken();
		if (name.toUpperCase().localeCompare("CHAR")==0)
		{
			stopCompilation("Size of the string is not defined!");
		}
		act_obj_type={type:ELEM.VAR_REG,data:name,unCapitalizedName:next_token_non_capitalized};
	}
	else if (next_token==token_types.STRING)
	{
		getNextToken();
		if ((next_token!=token_types.LEFT_ROUND_BRACKET))
		{
			if (segm_type!=token_types.VAR_INOUT)
			{
				stopCompilation("string pointers can only be used in VAR_IN_OUT");
			}
			act_obj_type={type:ELEM.VAR_ARR,range_start:0,range_end:0,data:"CHAR"};
		}
		else
		{
			match(token_types.LEFT_ROUND_BRACKET);
			if (next_token!=token_types.INT_CONST)
			{
				stopCompilation("Invalid integer size of string");
			}
			var str_size=parseInt(next_token_suppliment);
			getNextToken();
			match(token_types.RIGHT_ROUND_BRACKET);
			// generate an array definition (array of char)
			act_obj_type={type:ELEM.VAR_ARR,range_start:0,range_end:str_size,data:"CHAR"};
		}
	}
	else if (next_token==token_types.ARRAY)
	{
		match(token_types.ARRAY);
		match(token_types.LEFT_SQ_BRACKET);
		var range_start,range_end;
		var type_arr;
		var range_end_named_const="";
		if (next_token==token_types.INT_CONST)
		{
		    range_start=parseInt(next_token_suppliment);
			if (range_start!=0)
			{
				stopCompilation("Array range should always start with element 0");
			}
		}
		else
		{
			stopCompilation("Invalid token in array definition");
		}
		getNextToken();
		match(token_types.RANGE);
		if (next_token==token_types.INT_CONST)
		{
			range_end=parseInt(next_token_suppliment);
			getNextToken();
		}
		else if (next_token==token_types.IDENT)
		{
			range_end=-1;
			range_end_named_const=next_token_suppliment;
			getNextToken();
			match(token_types.MINUS);
			match(token_types.INT_CONST);
			
		}
		match(token_types.RIGHT_SQ_BRACKET);
		match(token_types.OF);
		if (next_token==token_types.IDENT)
		{
			type_arr=next_token_suppliment;
		}
		getNextToken();
		act_obj_type={type:ELEM.VAR_ARR,range_start:range_start,range_end:range_end,data:type_arr,range_end_named_const:range_end_named_const};
	}
	else
	{
		stopCompilation("Expect Identifier or Array");
	}
	
	if ((next_token==token_types.IDENT)&&(next_token_suppliment.toUpperCase()=="AT"))
	{
		
	}
	else
	{
		// check if we are dealing with a bit type -> if so -> stop
		if (act_obj_type.data.toUpperCase()=="BIT")
		{
			stopCompilation("BIT data type should be mapped to IO");
		}
	}
		
	
	// next element can be either mapping or initialization. mapped elements can not be initialized statically
	if ((next_token==token_types.IDENT)&&(next_token_suppliment.toUpperCase()=="AT"))
	{
		if (global==false)
		{
			stopCompilation("Mapped variables should be global");
		}
		
		
		getNextToken();
		act_obj_type.mapped_elem=parseVarPart();
		if (act_obj_type.mapped_elem.list.length==0)
		{
			stopCompilation("Alias destination not specified");
		}
/*
		var offset_list=[];
		var curr_offset=0;
		offset_list[curr_offset]=next_token_suppliment;curr_offset++;
		getNextToken();
		while(next_token==token_types.COLUMN)
		{
			getNextToken();
			offset_list[curr_offset]=next_token_suppliment;curr_offset++;
			getNextToken();
		}
		act_obj_type.mapped_elem=offset_list;*/
	}
	else if (next_token==token_types.ASSIGNMENT)
	{
		
		if (global==false)
		{
			stopCompilation("Static assignments can only be done to global variables");
		}
		getNextToken();
		act_obj_type.initialize_data=[];
		var curr_init_elem=0;
		if (act_obj_type.data=="REAL")
		{
			stopCompilation("Can not statically assign floating point variables");
		}
		if (((act_obj_type.type==ELEM.VAR_ARR)&&(act_obj_type.data=="CHAR"))||
		   ((act_obj_type.type==ELEM.VAR_REG)&&(ARGEE_nst_process.isSimpleType(act_obj_type.data)>=0)))
		{
			
			var obj=new Object();
			setObjType(obj,"FUNC_BLOCK_VAR_ASSIGN",ELEM.FUNC_BLOCK_VAR_ASSIGN);
			obj.list=[];
			var obj1;
			var_mode_assignment=true; // hack for handling strings without generating new global variables
			var obj1=parseExpression();
			var_mode_assignment=false;				
			var obj2=new Object();
			setObjType(obj2,"EXPR_VAR",ELEM.EXPR_VAR);
			obj2.list=[]
			obj.list[0]=obj2;
			obj.list[1]=obj1;
			act_obj_type.initialize_data[0]=obj;
		}
		else if (next_token==token_types.LEFT_ROUND_BRACKET)
		{
			// list of assignment statements
			getNextToken();
			while(1)
			{
				var obj=new Object();
				setObjType(obj,"FUNC_BLOCK_VAR_ASSIGN",ELEM.FUNC_BLOCK_VAR_ASSIGN);
				obj.list=[];
				obj.list[0]=parseVarPart();
				
				match(token_types.ASSIGNMENT);
				var_mode_assignment=true; // hack for handling strings without generating new global variables
				obj.list[1]=parseExpression();
				var_mode_assignment=false;
				act_obj_type.initialize_data[curr_init_elem]=obj;curr_init_elem++;
				if (next_token==token_types.COMMA)
				{
					getNextToken();
					continue;
				}
				if (next_token==token_types.RIGHT_ROUND_BRACKET)
				{
					getNextToken();
					break;
				}
			}
		}
		else
		{
			stopCompilation("Invalid assignment "+next_token);
		}
	}
	return act_obj_type;
	
}

function createDummyTask()
{
	var obj=new Object();
	var obj1;
	setObjType(obj,"STATEMENT_LIST",ELEM.STATEMENT_LIST);
	obj.list=[];
	var i=0;
	// this is a function block -> inject header
	obj1=new Object();
	setObjType(obj1,"ELEM_FUNC_BLOCK_PROLOGUE",ELEM.ELEM_FUNC_BLOCK_PROLOGUE);
	obj.list[i]=obj1;i++;
	obj1=new Object();
	setObjType(obj1,"ELEM_PREEMPTION_POINT",ELEM.ELEM_PREEMPTION_POINT);
	obj.list[i]=obj1;i++;
	obj1=new Object();
	setObjType(obj1,"ELEM_RETURN",ELEM.ELEM_RETURN);
	obj.list[i]=obj1;i++;
	return obj;
}

// we only support assignment, function block call, IF, WHILE,
// type specifies the statement block we are expecting (and the "end identifier")
function parseStatements(inject_preemption,inject_return)
{
	var obj=new Object();
	var obj1;
	setObjType(obj,"STATEMENT_LIST",ELEM.STATEMENT_LIST);
	obj.list=[];
	var i=0;
	if (inject_return==true)
	{
		// this is a function block -> inject header
		obj1=new Object();
		setObjType(obj1,"ELEM_FUNC_BLOCK_PROLOGUE",ELEM.ELEM_FUNC_BLOCK_PROLOGUE);
		obj.list[i]=obj1;i++;
	}
	if (inject_preemption==true)
	{
		obj1=new Object();
		setObjType(obj1,"ELEM_PREEMPTION_POINT",ELEM.ELEM_PREEMPTION_POINT);
		obj.list[i]=obj1;i++;
	}
	
	while(1)
	{
		
		if (next_token==token_types.IDENT)
		{
			var var_elem=parseVarPart();
			// could be function block or assignment;
			
			if (next_token==token_types.ASSIGNMENT)
			{
				obj1=new Object();
				setObjType(obj1,"ASSIGN",ELEM.ASSIGN);
				obj1.list=[];
				obj1.list[0]=var_elem;
				getNextToken();	
				obj1.list[1]=parseExpression();
				match(token_types.SEMICOL);
				obj.list[i]=obj1;
			}
			else if (next_token==token_types.LEFT_ROUND_BRACKET)
			{
				if (var_elem.list[0].data.toUpperCase()=="COMMENT")
				{
					obj1=new Object();
					setObjType(obj1,"COMMENT",ELEM.COMMENT);
					parseString(true);
					obj1.data=next_token_suppliment;
					match(token_types.STR_CONST);
					match(token_types.RIGHT_ROUND_BRACKET);
					match(token_types.SEMICOL);
					obj.list[i]=obj1;
				}
				else if (var_elem.list[0].data.toUpperCase()=="LADDER_COMMENT")
				{
					obj1=new Object();
					setObjType(obj1,"LADDER_COMMENT",ELEM.LADDER_COMMENT);
					parseString(true);
					obj1.data=next_token_suppliment;
					match(token_types.STR_CONST);
					match(token_types.RIGHT_ROUND_BRACKET);
					match(token_types.SEMICOL);
					obj.list[i]=obj1;
				}
				else if (var_elem.list[0].data.toUpperCase()=="GENERATE_PREPROC")
				{
					obj1=new Object();
					setObjType(obj1,"COMMENT",ELEM.COMMENT);
					getNextToken();	
					obj1.data=next_token_suppliment;
					preproc_defines+=next_token_suppliment;
					obj1.preproc_elem=ELEM.PREPROC_GEN;
					match(token_types.RIGHT_ROUND_BRACKET);
					match(token_types.SEMICOL);
					obj.list[i]=obj1;
				}
				else if ((var_elem.list[0].data.toUpperCase()=="TRACE")||
				         (var_elem.list[0].data.toUpperCase()=="LADDER_TRACE"))    
				{
					var elem_type;
					var elem_str_type;
					if (var_elem.list[0].data.toUpperCase()=="TRACE")
					{
						elem_type=ELEM.TRACE;
						elem_str_type="TRACE";
					}
					else
					{
						elem_type=ELEM.LADDER_TRACE;
						elem_str_type="LADDER_TRACE";
					}
					obj1=new Object();
					setObjType(obj1,elem_str_type,elem_type);
					parseString(true);
					obj1.data=next_token_suppliment;
					match(token_types.STR_CONST);
					match(token_types.COMMA);
					obj1.list=[];
					obj1.list[0]=parseExpression();
					var obj2=new Object();
					setObjType(obj2,"CONST",ELEM.CONST);
					obj2.data=token_start_line;
					obj1.list[1]=obj2;
					match(token_types.RIGHT_ROUND_BRACKET);
					match(token_types.SEMICOL);
					obj.list[i]=obj1;
				}
				else
				{
				
				// this could be a function call or function_block call
					var start_expr_line=token_start_line;
					var start_expr_pos=token_start_pos;


					obj1=new Object();
					setObjType(obj1,"FUNC_NO_RETURN",ELEM.FUNC_NO_RETURN);
					var j=0;
					obj1.list=[];
					obj1.list[0]=var_elem;
					var obj2=new Object();
					setObjType(obj2,"FUNC_ARGS",ELEM.FUNC_ARGS);
					getNextToken();	
					obj2.list=[];
					if (next_token!=token_types.RIGHT_ROUND_BRACKET)
					{
						while(1)
						{
							obj2.list[j]=parseAssignFunctBlockCall();
							j++;
								
							if (next_token!=token_types.COMMA)
							{
								break;
							}
							getNextToken();	
						}
					}
					
					obj1.data=var_elem.list[0].data;
					obj1.func_ptr=var_elem;
					obj1.list=obj2.list;
					/*{
						var m=0;
						var str="";
						for(m=0;m<var_elem.list.length;m++)
						{
							if (m>0)
							{
								str+=".";
							}
							str+=var_elem.list[m].data;
						}
						obj1.data=str;
						obj1.list=obj2.list;
					}*/
					
					var end_expr_line=token_start_line;
					var end_expr_pos=token_start_pos;
					var pos_data=[start_expr_line,start_expr_pos,end_expr_line,end_expr_pos];
					obj1.elem_string=var_elem.list[0].data+extractExpression(pos_data,true)+")";

					
					obj.list[i]=obj1;
					match(token_types.RIGHT_ROUND_BRACKET);
					match(token_types.SEMICOL);
				}
			}
			else
			{
				stopCompilation("Invalid token in operation");
			}
		}
		else if (next_token==token_types.CONDITIONAL_EXEC_BEGIN)
		{	
			obj1=new Object();
			setObjType(obj1,"LADDER_FUNC_BLOCK_CALL",ELEM.LADDER_FUNC_BLOCK_CALL);
			obj1.list=[];
			getNextToken();	
			obj1.list[0]=parseStatements(true,false);
			match(token_types.CONDITIONAL_EXEC_END);
			obj.list[i]=obj1;
		}

		else if (next_token==token_types.WAIT_UNTIL)
		{
			obj1=new Object();
			setObjType(obj1,"WAIT_UNTIL",ELEM.WAIT_UNTIL);
			obj1.list=[];
			getNextToken();
			match(token_types.LEFT_ROUND_BRACKET);
			obj1.list[0]=parseExpression();
			match(token_types.RIGHT_ROUND_BRACKET);
			match(token_types.SEMICOL);
			obj.list[i]=obj1;
		}
		else if (next_token==token_types.IF)
		{
			obj1=new Object();
			var j;
			setObjType(obj1,"IF",ELEM.IF);
			getNextToken();	
			j=0;
			obj1.list=[];
			match(token_types.LEFT_ROUND_BRACKET);
			obj1.list[j]=parseExpression();j++;
			match(token_types.RIGHT_ROUND_BRACKET);
			match(token_types.THEN);
			obj1.list[j]=parseStatements(false,false);j++;
			while(next_token==token_types.ELSIF)
			{
				getNextToken();	
				match(token_types.LEFT_ROUND_BRACKET);
				obj1.list[j]=parseExpression(false,false);j++;
                if (obj1.list[j-1].enum_type==ELEM.CONST)
                {
                    stopCompilation("Can not have constant else if");
                }
				match(token_types.RIGHT_ROUND_BRACKET);
				obj1.list[j]=parseStatements(false,false);j++;
			}
			if (next_token==token_types.ELSE)
			{
				var obj2=new Object();
				setObjType(obj2,"CONST",ELEM.CONST);
				obj2.data="1";
				// this needs to be done here to properly calculate the line of the "ELSE" statement
				getNextToken();	
				
				obj1.list[j]=obj2;j++;
				obj1.list[j]=parseStatements(false,false);j++;
			}
			match(token_types.END_IF);
			obj.list[i]=obj1;
		}
		else if (next_token==token_types.WHILE)
		{
			obj1=new Object();
			setObjType(obj1,"WHILE",ELEM.WHILE);
			getNextToken();	
			obj1.list=[];
			match(token_types.LEFT_ROUND_BRACKET);
			obj1.list[0]=parseExpression();
			match(token_types.RIGHT_ROUND_BRACKET);
			match(token_types.DO);
			obj1.list[1]=parseStatements(true,false);
			if (obj1.list[1].list.length==1)
			{
				// preemption point only -> likely empty loop
				stopCompilation("Empty loop detected");
			}
			match(token_types.END_WHILE);
			obj.list[i]=obj1;
		}
		else if (next_token==token_types.FOR_LOOP)
		{
			obj1=new Object();
			setObjType(obj1,"FOR_LOOP",ELEM.FOR_LOOP);
			obj1.list=[];
			getNextToken();	
			if (next_token!=token_types.IDENT)
			{
				stopCompilation("Invalid syntax of For loop");
			}
			var var_elem=parseVarPart();
			if (var_elem.list.length!=1)
			{
				stopCompilation("Invalid syntax of For loop");
			}
			obj1.list[0]=var_elem;
			match(token_types.ASSIGNMENT);
			// from
			obj1.list[1]=parseExpression();
			match(token_types.TO);
			// to
			obj1.list[2]=parseExpression();
			match(token_types.DO);
			obj1.list[3]=parseStatements(true,false);
			match(token_types.END_FOR);
			obj.list[i]=obj1;
		}
		else if (next_token==token_types.COMMENT_BEGIN)
		{
			obj1=new Object();
			setObjType(obj1,"COMMENT_BLOCK",ELEM.COMMENT_BLOCK);
			obj1.list=[];
			getNextToken();
			obj1.list[0]=parseStatements(false,false);;			
			match(token_types.COMMENT_END);
			obj.list[i]=obj1;
		}
		else
		{
			break;
		}
		i++;
	}
	
	if (inject_return==true)
	{
		obj1=new Object();
		setObjType(obj1,"ELEM_RETURN",ELEM.ELEM_RETURN);
		obj.list[i]=obj1;i++;
	}
	
	return obj;
}

function parseAssignFunctBlockCall()
{
	var obj=new Object();
	setObjType(obj,"FUNC_BLOCK_VAR_ASSIGN",ELEM.FUNC_BLOCK_VAR_ASSIGN);
	obj.list=[];
	obj.list[0]=parseExpression();
	if ((next_token==token_types.COMMA)||(next_token==token_types.RIGHT_ROUND_BRACKET))
	{
		return obj.list[0];	
	}
	else
	{
		stopCompilation("Invalid function/function_block syntax");
	}
}	


var ast_disp_output=[];
var curr_ast_disp_line=0;



function addIndentSpaces(indent_level)
{
	var i;
	ast_disp_output[curr_ast_disp_line]="";
	for(i=0;i<indent_level;i++)
	{
		ast_disp_output[curr_ast_disp_line]+="|"; // use "|" instead of space because chrome debugger doesn't show the right number of spaces
	}
}


function printAST()
{
	var i;
	for(i=0;i<ast_disp_output.length;i++)
	{
		console.log(ast_disp_output[i].replace(/\|/g," ")); // replace the "|" with spaces when printing to screen
	}
}

function printASTToStr()
{
	var i;
	var str="";
	for(i=0;i<ast_disp_output.length;i++)
	{
		str+=ast_disp_output[i].replace(/\|/g," ")+"\n"; // replace the "|" with spaces when printing to screen
	}
	return  str;
}


var DISP_AST_OPT=
{
	DEBUG_INFO:0,
	REG_INFO:1,
};

function quickPrintAST(ast)
{
	ast_disp_output=[];
	curr_ast_disp_line=0;
	addIndentSpaces(0);
	displayAST_Elem(0,ast,DISP_AST_OPT.DEBUG_INFO);
	printAST();
}

function quickPrintASTtoStr(ast)
{
	ast_disp_output=[];
	curr_ast_disp_line=0;
	addIndentSpaces(0);
	displayAST_Elem(0,ast,DISP_AST_OPT.DEBUG_INFO);
	return printASTToStr();
}

function getStringFromAST(ast)
{
	ast_disp_output=[];
	curr_ast_disp_line=0;
	addIndentSpaces(0);
	displayAST_Elem(0,ast,DISP_AST_OPT.REG_INFO);
	//console.log(ast_disp_output);
	return ast_disp_output[0];
}

function displayAST_Elem(indent_level,ast,option)
{
	var i,j;
	if ((ast.expr_nesting!=undefined)&&(ast.expr_nesting==1))
	{
		if (ast.enum_type==ELEM.CONST_STR)
		{
			
			if (ast.data=="%")
			{
				// hack
				ast_disp_output[curr_ast_disp_line]+="%";
			}
			else
			{
				ast_disp_output[curr_ast_disp_line]+=decodeURI(ast.data);
			}
		}
		else
		{
			ast_disp_output[curr_ast_disp_line]+=ast.elem_string.trim();
		}
		return;
	}
	switch(ast.enum_type)
	{
		case ELEM.TO_FLOAT:
		    ast_disp_output[curr_ast_disp_line]+="TO_FLOAT(";
		    displayAST_Elem(indent_level,ast.list[0],option);
			ast_disp_output[curr_ast_disp_line]+=")";
			break;
		case ELEM.TO_INT:
		    ast_disp_output[curr_ast_disp_line]+="TO_INT(";
		    displayAST_Elem(indent_level,ast.list[0],option);
			ast_disp_output[curr_ast_disp_line]+=")";
			break;
			
			
		case ELEM.ELEM_FUNC_BLOCK_PROLOGUE:
			addIndentSpaces(indent_level);
			ast_disp_output[curr_ast_disp_line]+="FUNCTION_BLOCK_PROLOGUE";
			curr_ast_disp_line++;
			break;
		case ELEM.ELEM_CONTEXT_SWITCH:
			addIndentSpaces(indent_level);
			ast_disp_output[curr_ast_disp_line]+="ELEM_CONTEXT_SWITCH";
			curr_ast_disp_line++;
			break;
		case ELEM.WAIT_UNTIL:
			addIndentSpaces(indent_level);
			ast_disp_output[curr_ast_disp_line]+="WAIT(";
			displayAST_Elem(indent_level,ast.list[0],option);
			ast_disp_output[curr_ast_disp_line]+=")";
			curr_ast_disp_line++;
			break;
		case ELEM.ELEM_PREEMPTION_POINT:
			addIndentSpaces(indent_level);ast_disp_output[curr_ast_disp_line]+="PREEMPTION";curr_ast_disp_line++;
			break;
		case ELEM.ELEM_RETURN:
			addIndentSpaces(indent_level);ast_disp_output[curr_ast_disp_line]+="RETURN";curr_ast_disp_line++;
			break;
		case ELEM.VAR_SEGM:
			if (ast.type!=null)
			{
				addIndentSpaces(indent_level);ast_disp_output[curr_ast_disp_line]+="Variables "+getOpName(ast.type);curr_ast_disp_line++;
			}
			for(i=0;i<ast.list.length;i++)
			{
				displayAST_Elem(indent_level+1,ast.list[i],option);
			}
			if (ast.type!=null)
			{
				addIndentSpaces(indent_level);ast_disp_output[curr_ast_disp_line]+="END "+getOpName(ast.type);curr_ast_disp_line++;				
			}
			break;
		case ELEM.OP:
			ast_disp_output[curr_ast_disp_line]+=" "+ast.str_type+" ";
			break;
		case ELEM.VAR_REG:
			addIndentSpaces(indent_level);
			ast_disp_output[curr_ast_disp_line]+=ast.name+":"+ast.type.data;
			if (option==DISP_AST_OPT.DEBUG_INFO)
			{
				if (ast.bitfield_element!=undefined)
				{
					ast_disp_output[curr_ast_disp_line]+="{BITFIELD - offset:"+ast.offset+" bit_offset:"+ast.bit_offset+" bit_size:"+ast.bit_size+"}";	
				}
				else if (ast.type.link.BITFIELD_FUNCT_BLOCK!=undefined)
				{
					ast_disp_output[curr_ast_disp_line]+="{offset:"+ast.offset+" size:"+ast.size+" bitfield act_size:"+(ast.type.link.act_byte_size-4)+"}";	
				}
				else
				{
					ast_disp_output[curr_ast_disp_line]+="{offset:"+ast.offset+" size:"+ast.size+"}";	
				}
			}
			curr_ast_disp_line++;
			break;
		case ELEM.VAR_ARR:
			addIndentSpaces(indent_level);ast_disp_output[curr_ast_disp_line]+=ast.name+": ARRAY["+ast.type.range_start+".."+ast.type.range_end+"]  OF "+ast.type.data;
			if (option==DISP_AST_OPT.DEBUG_INFO)
			{
				if (ast.type.link.BITFIELD_FUNCT_BLOCK!=undefined)
				{
				ast_disp_output[curr_ast_disp_line]+="{offset:"+ast.offset+" size:"+ast.size+" bitfield arr elem act_size:"+(ast.type.link.act_byte_size-4)+"}";	
				}
				else
				{
					ast_disp_output[curr_ast_disp_line]+="{offset:"+ast.offset+" size:"+ast.size+"}";	
				}
			}
			curr_ast_disp_line++;
			break;
		case ELEM.TASK:			
		case ELEM.FUNCT_BLOCK:
			 if (ast.enum_type==ELEM.TASK)
			 {
				addIndentSpaces(indent_level);ast_disp_output[curr_ast_disp_line]+="TASK "+ast.name;curr_ast_disp_line++;
			 }
			 else
			 {
				addIndentSpaces(indent_level);ast_disp_output[curr_ast_disp_line]+="FUNCTION_BLOCK "+ast.name;curr_ast_disp_line++;				 
			 }
			 displayAST_Elem(indent_level+1,ast.list[0],option);
			 if (ast.list.length>1)
			 {
				 addIndentSpaces(indent_level);ast_disp_output[curr_ast_disp_line]+="STATEMENTS";curr_ast_disp_line++;
				 displayAST_Elem(indent_level+1,ast.list[1],option);
			 }
			 if (ast.enum_type==ELEM.TASK)
			 {
				addIndentSpaces(indent_level);ast_disp_output[curr_ast_disp_line]+="END_TASK "+ast.name;curr_ast_disp_line++;
			 }
			 else
			 {
				addIndentSpaces(indent_level);ast_disp_output[curr_ast_disp_line]+="END_FUNCTION_BLOCK "+ast.name;curr_ast_disp_line++;
			 }
			 break;
		case ELEM.CONST:
		
			var nm=num(ast.data);
			if (ast.hex!=undefined)
			{
				ast_disp_output[curr_ast_disp_line]+="0x"+nm.toString(16);	
			}
			else
			{
				ast_disp_output[curr_ast_disp_line]+=ast.data;
			}
			break;
		case ELEM.EXPR:
			ast_disp_output[curr_ast_disp_line]+="(";
			for(i=0;i<ast.list.length;i++)
			{
				displayAST_Elem(indent_level,ast.list[i],option);
			}
			ast_disp_output[curr_ast_disp_line]+=")";
			break;
			
		case ELEM.EXPR_VAR:
			if (option==DISP_AST_OPT.DEBUG_INFO)
			{
				ast_disp_output[curr_ast_disp_line]+="{ref_type:"+ast.var_ref_type+", ref_addr: " + ast.ref_addr +" ";
				for(i=0;i<ast.offset_list.length;i++)
				{
					if (ast.offset_list[i].offset!=undefined)
					{
						ast_disp_output[curr_ast_disp_line]+=ast.offset_list[i].offset+"+";
					}
					else if (ast.offset_list[i].bit_offset!=undefined)
					{
						ast_disp_output[curr_ast_disp_line]+="!!"+ast.offset_list[i].bit_offset+","+ast.offset_list[i].bit_len+"!!";
					}
					else
					{
						ast_disp_output[curr_ast_disp_line]+=ast.offset_list[i].size+"*";
						displayAST_Elem(indent_level,ast.offset_list[i].num,option);
						ast_disp_output[curr_ast_disp_line]+="+";
					}
				}
				ast_disp_output[curr_ast_disp_line]+="}";
			}
			for(i=0;i<ast.list.length;i++)
			{
				if (ast.list[i].enum_type==ELEM.EXPR_VAR_OFFSET)
				{
					ast_disp_output[curr_ast_disp_line]+="."+ast.list[i].offset+"."+ast.list[i].len+" ";
				}
				else if (ast.list[i].enum_type==ELEM.EXPR_VAR)
				{
					if (ast.list[i].const_elem==true)
					{
						ast_disp_output[curr_ast_disp_line]+=ast.list[i].const_val;
					}
					else
					{
						if (i!=0)
						{
							ast_disp_output[curr_ast_disp_line]+=".";
						}
						ast_disp_output[curr_ast_disp_line]+=ast.list[i].data;
						if (option==DISP_AST_OPT.DEBUG_INFO)
						{
							ast_disp_output[curr_ast_disp_line]+="{"+ast.list[i].link.offset+","+ast.list[i].link.size+"} ";
						}
					}
				}
				else
				{
					ast_disp_output[curr_ast_disp_line]+="[";	
					displayAST_Elem(indent_level,ast.list[i].list[0],option);
					ast_disp_output[curr_ast_disp_line]+="]";	
				}
			}
			break;
			
		case ELEM.ASSIGN:
			addIndentSpaces(indent_level);
			displayAST_Elem(indent_level,ast.list[0],option);
			ast_disp_output[curr_ast_disp_line]+=":=";
			displayAST_Elem(indent_level,ast.list[1],option);
			ast_disp_output[curr_ast_disp_line]+=";";
			curr_ast_disp_line++;
			break;
		case ELEM.FUNC_BLOCK_ARG_LIST:
			for(i=0;i<ast.list.length;i++)
			{
				displayAST_Elem(indent_level,ast.list[i].list[0],option);
				ast_disp_output[curr_ast_disp_line]+=":=";
				displayAST_Elem(indent_level,ast.list[i].list[1],option);
				ast_disp_output[curr_ast_disp_line]+=",";
			}
			break;
		case ELEM.FUNC:
		case ELEM.FUNC_NO_RETURN:
		
			if (ast.elem_string!=undefined)
			{
				ast_disp_output[curr_ast_disp_line]+=ast.elem_string;
				break;
			}
			
			if ((ast.func_ptr!=undefined)&&(ast.func_ptr.list!=undefined)&&(ast.func_ptr.list.length>1))
			{
				// function blocks that are arrays -> need to add an index
				displayAST_Elem(indent_level,ast.func_ptr,option);
			}
			else
			{
				ast_disp_output[curr_ast_disp_line]+=ast.data;
			}
			ast_disp_output[curr_ast_disp_line]+="(";
			for(i=0;i<ast.list.length;i++)
			{
				if (i>0)
				{
					ast_disp_output[curr_ast_disp_line]+=",";
				}
				displayAST_Elem(indent_level,ast.list[i],option);
			}
			ast_disp_output[curr_ast_disp_line]+=")";
			break;
		case ELEM.FUNC_BLOCK_CALL:
			addIndentSpaces(indent_level);
			displayAST_Elem(indent_level,ast.list[0],option);
			ast_disp_output[curr_ast_disp_line]+="(";
			displayAST_Elem(indent_level,ast.list[1],option);
			ast_disp_output[curr_ast_disp_line]+=");";
			curr_ast_disp_line++;
			break;
		case ELEM.IF:
			addIndentSpaces(indent_level);
			ast_disp_output[curr_ast_disp_line]+="IF";curr_ast_disp_line++;
			for(i=0;i<ast.list.length;i+=2)
			{
				addIndentSpaces(indent_level+1);
				displayAST_Elem(indent_level+1,ast.list[i],option);curr_ast_disp_line++;
				displayAST_Elem(indent_level+2,ast.list[i+1],option); // statements will autoincrement curr_ast_disp_line
			}
			addIndentSpaces(indent_level);
			ast_disp_output[curr_ast_disp_line]+="END_IF";curr_ast_disp_line++;
			break;
		case ELEM.WHILE:
			addIndentSpaces(indent_level);
			ast_disp_output[curr_ast_disp_line]+="WHILE(";
			displayAST_Elem(indent_level,ast.list[0],option);
			ast_disp_output[curr_ast_disp_line]+=") DO";curr_ast_disp_line++;
			displayAST_Elem(indent_level+1,ast.list[1],option);
			addIndentSpaces(indent_level);
			ast_disp_output[curr_ast_disp_line]+="END_WHILE";curr_ast_disp_line++;
			break;
		case ELEM.CONST_STR:
			ast_disp_output[curr_ast_disp_line]+="\""+ast.data+"\"";
			break;
		case ELEM.COMMENT:
			ast_disp_output[curr_ast_disp_line]+="COMMENT(\""+ast.data+"\");";
			break;
		case ELEM.LADDER_COMMENT:
			ast_disp_output[curr_ast_disp_line]+="LADDER_COMMENT(\""+ast.data+"\");";
			break;
		case ELEM.TRACE:
			ast_disp_output[curr_ast_disp_line]+="TRACE(\""+ast.data+"\",";
			displayAST_Elem(indent_level,ast.list[0],option);
			ast_disp_output[curr_ast_disp_line]+=");";
			break;
		case ELEM.LADDER_TRACE:
			ast_disp_output[curr_ast_disp_line]+="LADDER_TRACE(\""+ast.data+"\",";
			displayAST_Elem(indent_level,ast.list[0],option);
			ast_disp_output[curr_ast_disp_line]+=");";
			break;
			
		default:
			for(i=0;i<ast.list.length;i++)
			{
				displayAST_Elem(indent_level,ast.list[i],option);
			}
	}
}


return {
	parseProject:parseProject,	
	setObjType:setObjType,
	globals:globals,
	ELEM:ELEM,
	token_types:token_types,
	getStringFromAST:getStringFromAST,
	setParseCapitalization:setParseCapitalization,
	getConstElems:getConstElems,
	quickPrintAST:quickPrintAST,
	getOpName:getOpName,
	stopCompilation:stopCompilation,
	getTokenStartLine:getTokenStartLine,
	setErrMsg:setErrMsg,
	getNST_Prog_Line_From_ARGEE:getNST_Prog_Line_From_ARGEE,
	getARGEE_Prog_Line_From_NST:getARGEE_Prog_Line_From_NST,
	getARGEE_ElemIndexFromARGEE_Line:getARGEE_ElemIndexFromARGEE_Line,
	parseIndivExpression:parseIndivExpression,
	extractExpression:extractExpression,
   getStandaloneCompilerRemappingInfo:getStandaloneCompilerRemappingInfo,
   parseProjectOnePass:parseProjectOnePass,
   getProprocessedInput:getProprocessedInput,
   getTestJsHTML:getTestJsHTML,
   getElemIndexFromNST_Line:getElemIndexFromNST_Line,
}

}());
var PARSE=ARGEE_nst_parse;

// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// END: Initialization code
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
/********************************************************************************
 *
 * Copyright (c) 2016 by TUSA
 *
 ********************************************************************************
 *
 *  Initial Author       : Roman Glistvain
 *  Maintainers          : Roman Glistvain
 *
 *
 ********************************************************************************
 *
 *  DESCRIPTION: AST Processing. This file contains function which go through AST
 *               and perform address calculation for variables,  create mapped IO variables
 *               decide which AST branches are not used, HMI conversions, enum replacements, 
 *               floating point castings... All the processing that needs to be
 *               done prior to code generation.
 *
 *******************************************************************************/

var ARGEE_nst_process=(function()
{ 

var ELEM=ARGEE_nst_parse.ELEM;
var token_types=ARGEE_nst_parse.token_types;
var stopCompilation=ARGEE_nst_parse.stopCompilation;
var simpleTypes=["INT","REAL","WORD","BYTE","TIMER","BIT","CHAR","STATE","RETAIN_INT","RETAIN_REAL"];	
var numericTypes=["INT","REAL","WORD","BYTE","STATE","RETAIN_INT","RETAIN_REAL","CHAR"];
var simpleTypeSizesInBytes=[4,4,2,1,8,4,1,4,4];
var simpleTypeLinks=
[
    {var_size:4,cdt:false,visited:true}, //INT
	{var_size:4,cdt:false,visited:true}, //REAL
	{var_size:2,cdt:false,visited:true}, //WORD
	{var_size:1,cdt:false,visited:true}, //BYTE
	{var_size:8,cdt:true,visited:true},  //TIMER
	{var_size:4,cdt:false,visited:true},  //BIT
	{var_size:1,cdt:false,visited:true},  //CHAR
	{var_size:4,cdt:false,visited:true},  //STATE
	{var_size:4,cdt:false,visited:true,retain:true},  //RETAIN_INT
	{var_size:4,cdt:false,visited:true,retain:true},  //RETAIN_REAL
];



function isSimpleType(name)
{
	var i;
	return simpleTypes.indexOf(name);
/*	for(i=0;i<simpleTypes.length;i++)
	{
		if (simpleTypes[i]==name)
		{
			return i;
		}
	}*/
	return -1;
}

// & -> pointer to a single element
// @ -> pointer to array

var built_in_funcs=
[
	{name:"START_TIMER",arg_types:["TIMER","INT",null,null],func_num:0  ,ret_type:"INT",not_in_function:true,},
	{name:"COUNT",arg_types:["TIMER",null,null,null],func_num:1     ,ret_type:"INT"},
	{name:"STR_LEN",arg_types:["@CHAR",null,null,null],func_num:2       ,ret_type:"INT"},
	{name:"STR_LEFT",arg_types:["@CHAR","INT","@CHAR",null],func_num:3  ,ret_type:"INT"},
	{name:"STR_RIGHT",arg_types:["@CHAR","INT","@CHAR",null],func_num:4 ,ret_type:"INT"},
	{name:"STR_MID",arg_types:["@CHAR","INT","INT","@CHAR"],func_num:5  ,ret_type:"INT"},
	{name:"STR_COPY",arg_types:["@CHAR","@CHAR",null,null],func_num:6   ,ret_type:"INT"},
	{name:"STR_CAT",arg_types:["@CHAR","@CHAR",null,null],func_num:7    ,ret_type:"INT"},
	{name:"STR_TO_INT",arg_types:["@CHAR","INT",null,null],func_num:8   ,ret_type:"INT"},
	{name:"INT_TO_STR",arg_types:["INT","@CHAR","INT",null],func_num:9  ,ret_type:"INT"},
	
	{name:"LADDER_CONDITION",arg_types:["INT",null,null,null],func_num:10       ,ret_type:"INT",not_in_function:true,},
	{name:"LADDER_COIL",arg_types:["&INT",null,null,null],func_num:11       ,ret_type:"INT",not_in_function:true,},
	{name:"LADDER_ASSIGN",arg_types:["&INT","INT","INT",null],func_num:12       ,ret_type:"INT",not_in_function:true,},

   // hidden functions for LADDER "COIL" and "ASSIGNMENT" operating  on IO/PLC variables 
  	{name:"LADDER_COIL_SPECIAL",arg_types:["INT","INT","INT",null],func_num:11       ,ret_type:"INT",not_in_function:true,},
	{name:"LADDER_ASSIGN_SPECIAL",arg_types:["INT","INT","INT","INT"],func_num:12       ,ret_type:"INT",not_in_function:true,},
    {name:"LADDER_ASSIGN_SPECIAL_FP",arg_types:["&INT","INT","INT","INT"],func_num:12       ,ret_type:"INT",not_in_function:true,},

   
	//{name:"LADDER_ASSIGN",arg_types:["&INT","STATE","INT",null],func_num:12       ,ret_type:"INT"},
	{name:"LADDER_TIMER_ON",arg_types:["TIMER","INT",null,null],func_num:13       ,ret_type:"INT",not_in_function:true,},
	{name:"LADDER_TIMER_OFF",arg_types:["TIMER","INT",null,null],func_num:14       ,ret_type:"INT",not_in_function:true,},
	{name:"LADDER_TIMER_START",arg_types:["TIMER","INT",null,null],func_num:15       ,ret_type:"INT",not_in_function:true,},
	{name:"LADDER_COUNT_RESET",arg_types:["TIMER",null,null,null],func_num:16       ,ret_type:"INT",not_in_function:true,},
	{name:"EXPIRED",arg_types:["TIMER",null,null,null],func_num:17       ,ret_type:"INT"},
	{name:"LADDER_COUNT_UP",arg_types:["TIMER","INT",null,null],func_num:18       ,ret_type:"INT",not_in_function:true,},
	{name:"LADDER_COUNT_DOWN",arg_types:["TIMER","INT",null,null],func_num:19       ,ret_type:"INT",not_in_function:true,},
	
	{name:"F_COS",arg_types:["INT","&INT",null,null],func_num:20       ,ret_type:"INT"},
	{name:"R_TRIG",arg_types:["INT","&INT",null,null],func_num:21       ,ret_type:"INT"},
	{name:"F_TRIG",arg_types:["INT","&INT",null,null],func_num:22       ,ret_type:"INT"},
	
	{name:"GET_BITS",arg_types:["INT","INT","INT",null],func_num:23       ,ret_type:"INT"},
	{name:"SET_BITS",arg_types:["INT","INT","INT","INT"],func_num:24       ,ret_type:"INT"},
	
	{name:"GET_IO_INP_ARR",arg_types:["INT","&BYTE","INT","INT","INT"],func_num:25       ,ret_type:"INT",pack_to:3},
	{name:"SET_IO_OUTP_ARR",arg_types:["INT","&BYTE","INT","INT","INT"],func_num:26       ,ret_type:"INT",pack_to:3},
	{name:"GET_IO_DIAG_ARR",arg_types:["INT","&BYTE","INT","INT","INT"],func_num:27       ,ret_type:"INT",pack_to:3},

	{name:"LE_GET_16BIT",arg_types:["@BYTE","INT",null,null],func_num:28       ,ret_type:"INT"},
	{name:"BE_GET_16BIT",arg_types:["@BYTE","INT",null,null],func_num:29       ,ret_type:"INT"},
	{name:"LE_GET_32BIT",arg_types:["@BYTE","INT",null,null],func_num:30       ,ret_type:"INT"},
	{name:"BE_GET_32BIT",arg_types:["@BYTE","INT",null,null],func_num:31       ,ret_type:"INT"},

	{name:"LE_SET_16BIT",arg_types:["@BYTE","INT","INT",null],func_num:32       ,ret_type:"INT"},
	{name:"BE_SET_16BIT",arg_types:["@BYTE","INT","INT",null],func_num:33       ,ret_type:"INT"},
	{name:"LE_SET_32BIT",arg_types:["@BYTE","INT","INT",null],func_num:34       ,ret_type:"INT"},
	{name:"BE_SET_32BIT",arg_types:["@BYTE","INT","INT",null],func_num:35       ,ret_type:"INT"},

	{name:"GET_PLC_INP_ARR",arg_types: ["@BYTE","INT","INT",null],func_num:36       ,ret_type:"INT"},
	{name:"SET_PLC_OUTP_ARR",arg_types:["@BYTE","INT","INT",null],func_num:37       ,ret_type:"INT",not_in_function:true,},
	
	{name:"MIN",arg_types:["INT","INT",null,null],func_num:38       ,ret_type:"INT"},
	{name:"MAX",arg_types:["INT","INT",null,null],func_num:39       ,ret_type:"INT"},
	{name:"ABS",arg_types:["INT",null,null,null],func_num:40       ,ret_type:"INT"},

	{name:"STR_COMPARE",arg_types:["@CHAR","@CHAR",null,null],func_num:42   ,ret_type:"INT"},

	{name:"GET_IO_DIAG_INT",arg_types:["INT","INT","INT",null],func_num:43       ,ret_type:"INT"},
	{name:"GET_IO_INP_INT",arg_types: ["INT","INT","INT",null],func_num:44       ,ret_type:"INT"},
	{name:"SET_IO_OUTP_INT",arg_types:["INT","INT","INT","INT"],func_num:45       ,ret_type:"INT",not_in_function:true,},
	
	{name:"WRITE_DS",arg_types:["INT","@BYTE","INT",null],func_num:46       ,ret_type:"INT",not_in_function:true,},
	{name:"READ_DS",arg_types:["INT","@BYTE","&INT",null],func_num:47       ,ret_type:"INT"},

	{name:"TRACE",arg_types:["INT","INT",null,null],func_num:48       ,ret_type:"INT",not_in_function:true,},
	{name:"LADDER_TRACE",arg_types:["INT","INT",null,null],func_num:49       ,ret_type:"INT"},

	{name:"SET_IO_PARAM_INT",arg_types:["INT","INT","INT","INT"],func_num:50       ,ret_type:"INT",not_in_function:true,},
	{name:"ARRAY_INIT",arg_types:["@INT","INT","@INT",null],func_num:51       ,ret_type:"INT",const_arr_type:"INT",not_in_function:true,},
	{name:"GET_RUNG_TRUE",arg_types:["INT",null,null,null],func_num:52       ,ret_type:"INT"},
	{name:"SIGN_EXTEND_16",arg_types:["INT",null,null,null],func_num:53       ,ret_type:"INT"},
	{name:"IF_THEN_ELSE",arg_types:["INT","INT","INT",null],func_num:54       ,ret_type:"INT"},
	{name:"SPECIAL_SERVICE",arg_types:["INT","@BYTE","@INT","&INT"],func_num:55       ,ret_type:"INT"},
	{name:"GET_IO_PARAM_INT",arg_types:["INT","INT","INT",null],func_num:56       ,ret_type:"INT"},
	{name:"ARRAY_INIT_BYTE",arg_types:["@BYTE","INT","@BYTE",null],func_num:51       ,ret_type:"INT",const_arr_type:"BYTE",not_in_function:true, }, // same function code as ARRAY_INIT
	{name:"ARRAY_INIT_WORD",arg_types:["@WORD","INT","@WORD",null],func_num:51       ,ret_type:"INT",const_arr_type:"WORD",not_in_function:true,}, // same function code as ARRAY_INIT
	{name:"BASE64_ENCODE",arg_types:["@BYTE","INT","@BYTE",null],func_num:57       ,ret_type:"INT",not_in_function:true,},   
   {name:"BASE64_DECODE",arg_types:["@BYTE","INT","@BYTE","&INT"],func_num:58       ,ret_type:"INT"},   

  	{name:"GET_PLC_INP_INT",arg_types:["INT","INT",null,null],func_num:59       ,ret_type:"INT"},   
   {name:"SET_PLC_OUTP_INT",arg_types:["INT","INT","INT",null],func_num:60       ,ret_type:"INT",not_in_function:true,},   
  	{name:"GET_IO_OUTP_INT",arg_types:["INT","INT","INT",null],func_num:61       ,ret_type:"INT"},   
  	{name:"GET_PLC_OUTP_INT",arg_types:["INT","INT",null,null],func_num:62       ,ret_type:"INT"},   
   
   




   
   /*
	{name:"EIPM_CONF_START",arg_types:["@BYTE",null,null,null],func_num:58       ,ret_type:"INT"},
	{name:"EIPM_ADD_SLAVE",arg_types:["@INT","@BYTE","@WORD","@WORD"],func_num:59       ,ret_type:"INT"},
	{name:"EIPM_CONF_FINILIZE",arg_types:["@BYTE",null,null,null],func_num:60       ,ret_type:"INT"},	*/


	
/*	{name:"INT_TO_FLOAT",arg_types:["INT",null,null,null],func_num:10   ,ret_type:"REAL"},
	{name:"SIN",arg_types:["REAL",null,null,null],func_num:11   ,ret_type:"REAL"},
	{name:"POW",arg_types:["REAL","REAL",null,null],func_num:12   ,ret_type:"REAL"},
	{name:"FLOAT_TO_INT",arg_types:["REAL",null,null,null],func_num:13   ,ret_type:"INT"},*/
	
];

// substituted inside code generation
var special_func=
[
	{name:"LADDER_COIL",arg_types:["&INT","INT","INT",null],func_num:11       ,ret_type:"INT"},
	{name:"LADDER_ASSIGN",arg_types:["&INT","INT","INT","INT"],func_num:12       ,ret_type:"INT"},
   
];

function findBuiltInSpecialFunc(name)
{
	var i;
	for(i=0;i<special_func.length;i++)
	{
		if (special_func[i].name==name)
		{
			return special_func[i];
		}
	}
	return null;
}
				

function findBuiltInFunc(name)
{
	var i;
	for(i=0;i<built_in_funcs.length;i++)
	{
		if (built_in_funcs[i].name==name)
		{
			return built_in_funcs[i];
		}
	}
	return null;
}	


// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!  Preprocess begin !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

var enum_list=[];
var enum_vals=[];
var alias_list_names=[];
var alias_list_objs=[];
var hmi_elem_cnt=0;
var rt_mode_enabled=false;
var last_cos_var=0;




function isRT_Enabled()
{
	return rt_mode_enabled;
}

function reorderIO_MappingTasks(ast)
{
   var tmp;
   var i,j;
   var inp_remap_task_pos=-1,outp_remap_task_pos=-1;
   var inp_remap_task_elem;
   var outp_remap_task_elem;
   var first_task_pos=-1;
   var last_task_pos=-1;
   var elem_order=[];
   
   for(i=0;i<globals.list[0].list.length;i++)
   {
      var elem_type=globals.list[0].list[i].type.data;
      var type=findFunctionBlock(globals,elem_type);
      var elem=globals.list[0].list[i];
      if ((type!=null)&&(type.task_function_block==true))
      {
		 if (elem_type=="ARGEE_RT_TASK")
		 {
			rt_mode_enabled=true;
		 }
         elem_order[elem_order.length]={pos:i,name:elem_type};
      }
   }
   
   for(i=0;i<elem_order.length;i++)
   {
      var found=false;
      for(j=i+1;j<elem_order.length;j++)
      {
		 if (elem_order[j].name=="ARGEE_RT_TASK")
         {
            // swap
		      tmp=globals.list[0].list[elem_order[i].pos];
            globals.list[0].list[elem_order[i].pos]=globals.list[0].list[elem_order[j].pos];
            globals.list[0].list[elem_order[j].pos]=tmp;
            globals.list[0].list[elem_order[i].pos].event_task=true;
            found=true;
            
            // swap positions
            tmp=elem_order[i].pos;
            elem_order[i].pos=elem_order[j].pos;
            elem_order[j].pos=tmp;
            
            
            // swap in the elem_list
            tmp=elem_order[i];
            elem_order[i]=elem_order[j];
            elem_order[j]=tmp;
            
            break;
         }
      }
      if (found==false)
      {
         break;
      }
   }
}


function getAliasList()
{
	return {names:alias_list_names,refs:alias_list_objs,mapped_names:mapped_special_vars_def_names,mapped_descrs:mapped_special_vars_def_objs};
}

function addToEnumList(val,const_val)
{
	enum_list[enum_list.length]=val;
	if (const_val!=undefined)
	{
		enum_vals[enum_list.length-1]=const_val;
	}
}

function removeCommentOutBlocks(elem)
{
	var i;
	if (elem.list!=undefined)
	{
		for(i=0;i<elem.list.length;i++)
		{
			if (elem.list[i].enum_type==ELEM.COMMENT_BLOCK)
			{
				elem.list[i].list=[];
			}
			else
			{
				removeCommentOutBlocks(elem.list[i]);
			}
		}
	}
}



/*
function checkComplexSubExpressions(elem)
{
	var i;
	if ((elem.enum_type==ELEM.EXPR_VAR_ARR_IND)&&(elem.list.length!=1))
	{
		return true;
	}
	if ((elem.enum_type==ELEM.EXPR_VAR_ARR_IND)&&(elem.list.length==1)&&(elem.list[0].enum_type!=ELEM.EXPR_VAR))
	{
		return true;
	}
	if (elem.list==undefined)
	{
		return false;
	}
	else
	{
		if (elem.list!=undefined)
		{
			for(i=0;i<elem.list.length;i++)
			{
				if (checkComplexSubExpressions(elem.list[i])==true)
				{
					return true;
				}
			}		
		}
	}
	return false;
}
*/

function delete_elem_string(elem)
{
	if (elem.elem_string!=undefined)
	{
		delete elem.elem_string;
		delete elem.elem_pos_in_text;
		delete elem.expr_nesting;
	}
	var i;
	if (elem.list!=undefined)
	{
		for(i=0;i<elem.list.length;i++)
		{
			delete_elem_string(elem.list[i]);
		}
	}
}


// depth first search
function handleComplexExpression(parent,ind,fb)
{
	var i;
	var elem=parent.list[ind];
	if (elem.list!=undefined)
	{
		for(i=0;i<elem.list.length;i++)
		{
			handleComplexExpression(elem,i,fb);
		}
	}
	
	// element is one of the special elements - handle it
	if ((elem.enum_type==ELEM.EXPR_VAR_ARR_IND)&&(elem.list.length==1))
	{
		if ((elem.list[0].enum_type==ELEM.EXPR_VAR)&&((elem.list[0].list!=undefined)&&(elem.list[0].list[0].enum_type==ELEM.EXPR_VAR)&&(elem.list[0].list[0].list==undefined)))
		{
				
		}
		else if (elem.list[0].enum_type==ELEM.CONST)
		{
			
		}
		else 
		{
			// substitute subexpression with a variable
			var curr_varname="___HIDDEN_expr_var_"+fb.max_expr_vars;
			fb.curr_expr_complex_var_list[fb.curr_expr_complex_var_list.length]={elem:elem.list[0],var_name:curr_varname};
			fb.max_expr_vars++;
			console.log("replace "+PARSE.getStringFromAST(elem)+" with "+curr_varname);

			var obj1=new Object();
			parse.setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);   
			
			var obj2=new Object();
			PARSE.setObjType(obj2,"EXPR_VAR",ELEM.EXPR_VAR);
			obj2.data=curr_varname;
			obj1.list=[obj2];
			
			//obj1.list=[obj2];
			elem.list[0]=obj1;
		
		}
		var jk=1;	
	}
	if (/*(elem.enum_type==ELEM.FUNC)||*/(elem.enum_type==ELEM.FUNC_BLOCK_CALL))
	{
		// substitute subexpression with a variable
			var curr_varname="___HIDDEN_expr_var_"+fb.max_expr_vars;
			fb.curr_expr_complex_var_list[fb.curr_expr_complex_var_list.length]={elem:elem,var_name:curr_varname,ref_func:elem.func_ptr};
			fb.max_expr_vars++;
			console.log("replace "+PARSE.getStringFromAST(elem)+" with "+curr_varname);

			var obj1=new Object();
			parse.setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);   
			
			var obj2=new Object();
			PARSE.setObjType(obj2,"EXPR_VAR",ELEM.EXPR_VAR);
			obj2.data=curr_varname;
			obj1.list=[obj2];
			
			//obj1.list=[obj2];
			parent.list[ind]=obj1;

		var jk=1;
	}
	
	/*if ((elem.enum_type==ELEM.EXPR_VAR_ARR_IND)&&(elem.list.length==1))
	{
		var jk1=1;
		if (((elem.list[0].enum_type==ELEM.EXPR_VAR)&&((elem.list[0].list!=undefined)&&(elem.list[0].list.length>1)))||
			((elem.list[0].enum_type!=ELEM.EXPR_VAR)&&(elem.list[0].enum_type!=ELEM.CONST)))
		{
			performComplexExprSubstitution(elem.list[0],elem,0,fb);
		}
	}
	if ((elem.enum_type==ELEM.FUNC)||(elem.enum_type==ELEM.FUNC_BLOCK_CALL))
	{
		performComplexExprSubstitution(elem.list[0],elem,0,fb);
		var jk=1;
	}
	
	if (elem.list!=undefined)
	{
		for(i=0;i<elem.list.length;i++)
		{
			if (elem.list[i].enum_type==ELEM.FUNC)
			{
				performComplexExprSubstitution(elem.list[i],elem,i,fb);
			}
			else
			{
				handleComplexExpression(elem.list[i],elem,fb);
			}
		}		
	}*/
}


/*
function convertExprToVar(elem,fb,main_call)
{
	var i;
	
	if ((elem.enum_type==ELEM.EXPR_VAR_ARR_IND)&&(elem.list.length==1))
	{
		var jk1=1;
		if (((elem.list[0].enum_type==ELEM.EXPR_VAR)&&((elem.list[0].list!=undefined)&&(elem.list[0].list.length>1)))||
			((elem.list[0].enum_type!=ELEM.EXPR_VAR)&&(elem.list[0].enum_type!=ELEM.CONST)))
		{
			performComplexExprSubstitution(elem.list[0],elem,0,fb);
		}
	}
	
	if ((elem.enum_type==ELEM.FUNC)||(elem.enum_type==ELEM.FUNC_BLOCK_CALL))
	{
		var jk=1;
	}
	
	
	if (elem.enum_type==ELEM.EXPR_VAR_ARR_IND)
	{
		var jk=1;
	}
	if (elem.list!=undefined)
	{
		for(i=0;i<elem.list.length;i++)
		{
			convertExprToVar(elem.list[i],fb,false);
		}		
	}
	if (main_call==true)
	{
		
		if (elem.enum_type==ELEM.FUNC)
		{
			fb.curr_expr_complex_var_list[fb.curr_expr_complex_var_list.length]={elem:elem}; // FB call
			var obj1=new Object();
			parse.setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);   
			
			var obj2=new Object();
			PARSE.setObjType(obj2,"EXPR_VAR",ELEM.EXPR_VAR);
			obj2.data=elem.data;
			obj1.list=[];
			obj1.list[0]=obj2;
			var obj3=new Object();
			PARSE.setObjType(obj2,"EXPR_VAR",ELEM.EXPR_VAR);
			obj2.data="result";
			obj1.list[0]=obj3;

			
			var curr_varname="___HIDDEN_expr_var_"+fb.max_expr_vars;
			fb.curr_expr_complex_var_list[fb.curr_expr_complex_var_list.length]={elem:elem,var_name:curr_varname,ref_func:elem}; 
			fb.max_expr_vars++;
			return curr_varname;
		}
		else
		{
			var curr_varname="___HIDDEN_expr_var_"+fb.max_expr_vars;
			fb.curr_expr_complex_var_list[fb.curr_expr_complex_var_list.length]={elem:elem,var_name:curr_varname};
			fb.max_expr_vars++;
			return curr_varname;
		}
		
	}
}
	
function performComplexExprSubstitution(elem,parent,ind,fb)
{
	// need to convert to var 
	var var_name=convertExprToVar(elem,fb,true);
	var obj1=new Object();
	parse.setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);   
	
	var obj2=new Object();
	PARSE.setObjType(obj2,"EXPR_VAR",ELEM.EXPR_VAR);
	obj2.data=var_name;
	obj1.list=[obj2];
	
	//obj1.list=[obj2];
	parent.list[ind]=obj1;
}



// depth first search
function handleComplexExpression1(elem,parent,fb)
{
	var i;
	if ((elem.enum_type==ELEM.EXPR_VAR_ARR_IND)&&(elem.list.length==1))
	{
		var jk1=1;
		if (((elem.list[0].enum_type==ELEM.EXPR_VAR)&&((elem.list[0].list!=undefined)&&(elem.list[0].list.length>1)))||
			((elem.list[0].enum_type!=ELEM.EXPR_VAR)&&(elem.list[0].enum_type!=ELEM.CONST)))
		{
			performComplexExprSubstitution(elem.list[0],elem,0,fb);
		}
	}
	if ((elem.enum_type==ELEM.FUNC)||(elem.enum_type==ELEM.FUNC_BLOCK_CALL))
	{
		performComplexExprSubstitution(elem.list[0],elem,0,fb);
		var jk=1;
	}
	
	if (elem.list!=undefined)
	{
		for(i=0;i<elem.list.length;i++)
		{
			if (elem.list[i].enum_type==ELEM.FUNC)
			{
				performComplexExprSubstitution(elem.list[i],elem,i,fb);
			}
			else
			{
				handleComplexExpression(elem.list[i],elem,fb);
			}
		}		
	}
}
*/

function createStatementListWithAssignments(start_assign_elem,end_assign_elem,curr_fb,line_num)
{
	var obj_statement_list=new Object();
	var i;
	PARSE.setObjType(obj_statement_list,"STATEMENT_LIST",ELEM.STATEMENT_LIST);
	obj_statement_list.list=[];

	for(i=start_assign_elem;i<end_assign_elem;i++)
	{
		if (curr_fb.curr_expr_complex_var_list[i].var_name!=undefined)
		{
			if (curr_fb.curr_expr_complex_var_list[i].elem.enum_type==ELEM.FUNC_BLOCK_CALL)
			{
				obj_statement_list.list[obj_statement_list.list.length]=curr_fb.curr_expr_complex_var_list[i].elem;
				
				var obj1=new Object();
				parse.setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);   
				
				var obj2=new Object();
				PARSE.setObjType(obj2,"EXPR_VAR",ELEM.EXPR_VAR);
				obj2.data=curr_fb.curr_expr_complex_var_list[i].elem.data;
				obj1.list=[];
				obj1.list[obj1.list.length]=obj2;
				var obj3=new Object();
				PARSE.setObjType(obj3,"EXPR_VAR",ELEM.EXPR_VAR);
				obj3.data="RESULT";
				obj1.list[obj1.list.length]=obj3;
				
				
				var obj_d1=new Object();
				PARSE.setObjType(obj_d1,"EXPR_VAR",ELEM.EXPR_VAR);
				
				var obj_d2=new Object();
				PARSE.setObjType(obj_d2,"EXPR_VAR",ELEM.EXPR_VAR);
				obj_d2.data=curr_fb.curr_expr_complex_var_list[i].var_name;
				obj_d1.list=[obj_d2];
				
		
				var obj=new Object();
				PARSE.setObjType(obj,"ASSIGN",ELEM.ASSIGN);
				obj.list=[];
				
				obj.list[0]=obj_d1;
				obj.list[1]=obj1;
				obj_statement_list.list[obj_statement_list.list.length]=obj;
				
		
			}
			else
			{
				var obj1=new Object();
				PARSE.setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);
				
				var obj2=new Object();
				PARSE.setObjType(obj2,"EXPR_VAR",ELEM.EXPR_VAR);
				obj2.data=curr_fb.curr_expr_complex_var_list[i].var_name;
				obj1.list=[obj2];
				
		
				var obj=new Object();
				PARSE.setObjType(obj,"ASSIGN",ELEM.ASSIGN);
				obj.list=[];
				
				obj.list[0]=obj1;
				obj.list[1]=curr_fb.curr_expr_complex_var_list[i].elem;
				obj.line_num=line_num;
				obj_statement_list.list[obj_statement_list.list.length]=obj;
				//parent.list.splice(elem_ind+i,0,obj);
			}
		}
		/*else
		{
			obj_statement_list.list[obj_statement_list.list.length]=curr_fb.curr_expr_complex_var_list[i].elem;
		}*/
	}
	return obj_statement_list;
	
}
	


function processComplexExpressions(elem_ind,parent,fb)
{
	var i;
	var curr_fb=fb;
	var elem;
	if (elem_ind==-1)
	{
		elem=parent;
	}
	else
	{
		elem=parent.list[elem_ind];
	}
	if ((elem.enum_type==ELEM.TASK)||
		(elem.enum_type==ELEM.FUNCT_BLOCK))
	{
		curr_fb=elem;
		curr_fb.max_expr_vars=0;
		curr_fb.curr_expr_complex_var_list=[];
	}
	else if ((elem.enum_type==ELEM.ASSIGN)||
			 (elem.enum_type==ELEM.FUNC_BLOCK_VAR_ASSIGN))
	{
		var len_before=curr_fb.curr_expr_complex_var_list.length;
		handleComplexExpression(elem,0,curr_fb);
		handleComplexExpression(elem,1,curr_fb);
		var len_after=curr_fb.curr_expr_complex_var_list.length;
		if (len_before!=len_after)
		{
			delete_elem_string(elem);
			var statement_list=createStatementListWithAssignments(len_before,len_after,curr_fb,elem.line_num);
			parent.list.splice(elem_ind,0,statement_list);
			// inject additional sub-expression assignment statements
/*			for(i=len_before;i<len_after;i++)
			{
		
				if (curr_fb.curr_expr_complex_var_list[i].var_name!=undefined)
				{
					var obj1=new Object();
					PARSE.setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);
					
					var obj2=new Object();
					PARSE.setObjType(obj2,"EXPR_VAR",ELEM.EXPR_VAR);
					obj2.data=curr_fb.curr_expr_complex_var_list[i].var_name;
					obj1.list=[obj2];
					
			
					var obj=new Object();
					PARSE.setObjType(obj,"ASSIGN",ELEM.ASSIGN);
					obj.list=[];
					
					obj.list[0]=obj1;
					obj.list[1]=curr_fb.curr_expr_complex_var_list[i].elem;
					obj.line_num=elem.line_num;
					
					parent.list.splice(elem_ind+i,0,obj);
				}
				else
				{
					parent.list.splice(elem_ind+i,0,curr_fb.curr_expr_complex_var_list[i].elem);
				}
			}
*/
			var jkj=1;
		}
		return;
		// 
	}
	else if (elem.enum_type==ELEM.WAIT_UNTIL)
	{
		var len_before=curr_fb.curr_expr_complex_var_list.length;
		handleComplexExpression(elem,0,curr_fb);
		var len_after=curr_fb.curr_expr_complex_var_list.length;
		if (len_before!=len_after)
		{
			var while_condition=new Object();
			
			
			delete_elem_string(elem);
			var while_condition=createStatementListWithAssignments(len_before,len_after,curr_fb,elem.line_num);

			var expr1=new Object();
			PARSE.setObjType(expr1,"EXPR",ELEM.EXPR);
			expr1.list=[];
			expr1.list[0]={enum_type:ELEM.OP,str_type:"! ",data:token_types.NOT};
			expr1.list[1]=elem.list[0];
			expr1.line_num=elem.line_num;


			var expr=new Object();
			PARSE.setObjType(expr,"EXPR",ELEM.EXPR);
			expr.list=[];
			expr.list[0]=expr1;
			expr.list[1]={enum_type:ELEM.OP,str_type:"& ",data:token_types.AND};
			expr.list[2]={enum_type:ELEM.CONST,data:"1"};
			
			while_condition.list[while_condition.list.length]=expr;
			
			var wait_until=new Object();
			PARSE.setObjType(wait_until,"WAIT_UNTIL",ELEM.WAIT_UNTIL);
			wait_until.list=[{enum_type:ELEM.CONST,data:"1"}];
			
			var while_statements=new Object();
			PARSE.setObjType(while_statements,"STATEMENT_LIST",ELEM.STATEMENT_LIST);
			while_statements.list=[wait_until];

			
			var while_complete=new Object();
			PARSE.setObjType(while_complete,"WHILE",ELEM.WHILE);
			while_complete.list=[];
			while_complete.list[0]=while_condition;
			while_complete.list[1]=while_statements;
			while_complete.line_num=elem.line_num;
			while_complete.debug_display_yellow_when_true=true;
			

			
			parent.list[elem_ind]=while_complete;
			
			/* convert into a form 
				while(NOT(expr))
				{
					WAIT_UNTIL(1)
				}
			*/
	
		}
		return;
	}
	else if (elem.enum_type==ELEM.FUNC_NO_RETURN)
	{
		// call statements
		var len_before=curr_fb.curr_expr_complex_var_list.length;
		if (elem.list!=undefined)
		{
			for(i=0;i<elem.list.length;i++)
			{
				handleComplexExpression(elem,i,curr_fb);
			}		
		}
		var len_after=curr_fb.curr_expr_complex_var_list.length;
		if (len_before!=len_after)
		{
			delete_elem_string(elem);
			var statement_list=createStatementListWithAssignments(len_before,len_after,curr_fb,elem.line_num);
			parent.list.splice(elem_ind,0,statement_list);
		}
		return;
	}
	else if (elem.enum_type==ELEM.IF)
	{
		var jk=1;
		var len_before=curr_fb.curr_expr_complex_var_list.length;
		if (elem.list!=undefined)
		{
			for(i=0;i<elem.list.length;i+=2)
			{
				handleComplexExpression(elem,i,curr_fb);
			}		
		}
		var len_after=curr_fb.curr_expr_complex_var_list.length;
		if (len_before!=len_after)
		{
			delete_elem_string(elem);
			var statement_list=createStatementListWithAssignments(len_before,len_after,curr_fb,elem.line_num);
			parent.list.splice(elem_ind,0,statement_list);
		}
		
		// process all statement statements inside the IF
		if (elem.list!=undefined)
		{
			for(i=1;i<elem.list.length;i+=2)
			{
				processComplexExpressions(i,elem,curr_fb);
			}		
		}
		
		return;	
	}
	else if (elem.enum_type==ELEM.WHILE)
	{
		var jk=1;
		
		var len_before=curr_fb.curr_expr_complex_var_list.length;
		handleComplexExpression(elem,0,curr_fb);
		var len_after=curr_fb.curr_expr_complex_var_list.length;
		if (len_before!=len_after)
		{
			delete_elem_string(elem);
			var statement_list=createStatementListWithAssignments(len_before,len_after,curr_fb,elem.line_num);
			statement_list.list[statement_list.list.length]=elem.list[0];
			elem.list[0]=statement_list;
		}
		
		if (elem.list!=undefined)
		{
			for(i=1;i<elem.list.length;i+=2)
			{
				processComplexExpressions(i,elem,curr_fb);
			}		
		}

		
		return;		
	}
	else if  (elem.enum_type==ELEM.TRACE)
	{
		var jk=1;
		var len_before=curr_fb.curr_expr_complex_var_list.length;
		handleComplexExpression(elem,0,curr_fb);
		var len_after=curr_fb.curr_expr_complex_var_list.length;
		if (len_before!=len_after)
		{
			delete_elem_string(elem);
			var statement_list=createStatementListWithAssignments(len_before,len_after,curr_fb,elem.line_num);
			parent.list.splice(elem_ind,0,statement_list);
		}
		return;		
	}
	/*else if ((elem.enum_type==ELEM.EXPR_VAR_ARR_IND)&&(elem.list.length==1)&&(elem.list[0].enum_type!=ELEM.EXPR_VAR))
	{
		//performComplexExprSubstitution(elem.list[0],elem,0,curr_fb)
		for(;;); // should not be here
	}*/
	/*else if (elem.enum_type==ELEM.EXPR)
	{
		var len_before=curr_fb.curr_expr_complex_var_list.length;
		handleComplexExpression(parent,elem_ind,curr_fb);
		var len_after=curr_fb.curr_expr_complex_var_list.length;
		if (len_before!=len_after)
		{
			delete_elem_string(elem);
			var statement_list=createStatementListWithAssignments(len_before,len_after,curr_fb,elem.line_num);
			statement_list.list[statement_list.list.length]=elem;
			parent.list[elem_ind]=statement_list;
		}
		var jk=1;
	}*/
	
	if (elem.list!=undefined)
	{
		for(i=0;i<elem.list.length;i++)
		{
			processComplexExpressions(i,elem,curr_fb);
		}		
	}

	
	if ((elem.enum_type==ELEM.TASK)||
		(elem.enum_type==ELEM.FUNCT_BLOCK))
	{
		
		var reg_vars=elem.list[0].list[0];
		var jk1=1;


		for(i=0;i<curr_fb.curr_expr_complex_var_list.length;i++)
		{
			var obj1=new Object();
			parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
			obj1.name=curr_fb.curr_expr_complex_var_list[i].var_name;
			obj1.visited=true;
			obj1.segm_link=reg_vars;
			if (curr_fb.curr_expr_complex_var_list[i].ref_func!=undefined)
			{
				// need tp find the type of the "result" variable in the "ref_func" FB
				var type=findFunctionBlock(globals,
				curr_fb.curr_expr_complex_var_list[i].ref_func.list[0].data);

				if (type==null)
				{
					stopCompilation("Can't find function block "+curr_fb.curr_expr_complex_var_list[i].ref_func.list[0].data,elem);
				}
				var fb_loc_vars=type.list[0].list[0];
				var j;
				var result_type=null;
				for(j=0;j<fb_loc_vars.list.length;j++)
				{
					if (fb_loc_vars.list[j].name=="RESULT")
					{
						result_type=fb_loc_vars.list[j].type.data;
						break;
					}
				}
				if (result_type==null)
				{
					stopCompilation("Can't find 'RESULT' variable in function block "+curr_fb.curr_expr_complex_var_list[i].ref_func.list[0].data,type);			
				}
				obj1.type={type:ELEM.VAR_REG,data:result_type};
				var jk=1;
			}
			else
			{
				obj1.type={type:ELEM.VAR_REG,data:"INT"};
			}
			obj1.debug_hide=true;
	
			reg_vars.list.splice(reg_vars.list.length-1,0,obj1);
		}
		
		
		// create all the local variables used in sub-expressions
		// based on curr_fb.max_expr_vars
		
	}


}


function replaceForWithWhile(elem)
{
	var i;
	if (elem.list!=undefined)
	{
		for(i=0;i<elem.list.length;i++)
		{
			if (elem.list[i].enum_type==ELEM.FOR_LOOP)
			{
				// for loop element is replaced with "statement_list"
				var init=new Object();
				PARSE.setObjType(init,"ASSIGN",ELEM.ASSIGN);
				init.list=[];
				init.list[0]=elem.list[i].list[0];
				init.list[1]=elem.list[i].list[1];
				init.line_num=elem.list[i].line_num;
				
				var inner_while=elem.list[i];
				var inner_while_cond=new Object();
				PARSE.setObjType(inner_while_cond,"EXPR",ELEM.EXPR);
				inner_while_cond.list=[];
				inner_while_cond.list[0]=elem.list[i].list[0];
				inner_while_cond.list[1]={enum_type:ELEM.OP,str_type:"<=",data:token_types.LESS_EQ};
				inner_while_cond.list[2]=elem.list[i].list[2];
				inner_while_cond.line_num=elem.list[i].line_num;
				
				
				var inner_while_statements=elem.list[i].list[3];
				var last_statement=new Object();
				PARSE.setObjType(last_statement,"ASSIGN",ELEM.ASSIGN);
				last_statement.line_num=elem.list[i].line_num;
				last_statement.list=[];
				last_statement.list[0]=elem.list[i].list[0];
				var expr=new Object();
				PARSE.setObjType(expr,"EXPR",ELEM.EXPR);
				expr.list=[];
				expr.list[0]=elem.list[i].list[0];
				expr.list[1]={enum_type:ELEM.OP,str_type:"+",data:token_types.PLUS};
				expr.list[2]={enum_type:ELEM.CONST,data:"1"};
				expr.line_num=elem.list[i].line_num;
				last_statement.list[1]=expr;
				inner_while_statements.list[inner_while_statements.list.length]=last_statement;
				var saved_line=elem.list[i].line_num;
				PARSE.setObjType(inner_while,"WHILE",ELEM.WHILE);
				inner_while.list[0]=inner_while_cond;
				inner_while.list[1]=inner_while_statements;
				inner_while.line_num=saved_line;
				elem.list[i].list.splice(2,2); 
				var repl_elem=new Object();
				PARSE.setObjType(repl_elem,"STATEMENT_LIST",ELEM.STATEMENT_LIST);
				repl_elem.line_num=elem.list[i].line_num;
				repl_elem.list=[];
				repl_elem.list[0]=init;
				repl_elem.list[1]=inner_while;
				elem.list[i]=repl_elem;
			}
			replaceForWithWhile(elem.list[i]);
		}
	}
}


function replaceLadderFunctionBlockCalls(elem)
{

	var i;
	if (elem.enum_type==ELEM.LADDER_FUNC_BLOCK_CALL)
	{
		elem.enum_type=elem.list[0].enum_type;
		elem.list[0].list[1].disable_trace=true;
		elem.list=elem.list[0].list;
		
	}
	else
	{
		if (elem.list!=undefined)
		{
			for(i=0;i<elem.list.length;i++)
			{
				replaceLadderFunctionBlockCalls(elem.list[i]);
			}		
		}
	}
}

function findNumColsInRow(row)
{
	var i;
	var num_cols=0;
	for(i=0;i<row.list.length;i++)
	{
		var elem=row.list[i];
		var j;
		var col_span=parseInt(elem.expr[SECT_colspan_prop_num].name);
		num_cols+=col_span;
	}
	return num_cols;
}

// inside section
var SECT_colspan_prop_num=0;
var SECT_show_border_prop_num=1
var SECT_valign_prop_num=2
// inside screen
var SCR_width_prop_num=1;
var SCR_rouded_edges_prop_num=2;
var SCR_bgr_color_prop_num=3;
var screen_bg_color;

var prop_active_screen_name=-2;
var active_screen_name;


var hmi_conv_tbl=
[
	{func:"DISPLAY_VALUE",replace_spaces_in_title:true,colspan_2_if_title_empty:true,bg_color_elem:5,output_func:"HMI_GRID_SHOW",args:[1],title_pos:0,format:[["<font style='font-size:",4,"vw;' color='",3,"'>",0,"</font>"],["<font style='font-size:",4,"vw;' color='",3,"'><table style=\"border-spacing:0px;\"><tr><td>",{},"</td><td>",2,"</td></tr></table></font>"]]},
	{func:"ENTER_VALUE",replace_spaces_in_title:true,colspan_2_if_title_empty:true,bg_color_elem:5,output_func:"HMI_GRID_ENTER",args:[1],title_pos:0,format:[["<font style='font-size:",4,"vw;' color='",3,"'>",0,"</font>"],["<font style='font-size:",4,"vw;' color='",3,"'><table><tr><td>",{},"</td><td style='padding-left:3px;'>",2,"</td></tr></table></font>"]]},	
	{func:"BUTTON",bg_color_elem:4,output_func:"HMI_GRID_BUTTON",args:[0,1],title_pos:0,format:[[],["<font style='font-size:",3,"vw;' color='",2,"'>",{},"</font>",]]},		
	{func:"STATIC_TEXT",replace_spaces_in_title:true,bg_color_elem:3,align_arg:4,title_pos:0,format:[[],["<font style='font-size:",2,"vw;' color='",1,"'>",0,"</font>"]]},			
    {func:"STATIC_HTML",replace_spaces_in_title:false,align_arg:1,title_pos:0,format:[[],[0]]},			    
    {func:"STATIC_JS",replace_spaces_in_title:false,format:[[],["<img src='/' onerror = \"this.style.display='none';",0,"\">"]]},			    
	{func:"STATIC_GRAPHICS",bg_color_elem:1,output_func:"HMI_GRAPHICS",args:[0,2],title_pos:0,format:[[],[{}]]},			
	{func:"SCREEN_LIST",title_pos:0,output_func:"HMI_SCREEN_LIST",args:[],format:[[],["<fieldset><table><tr><td><center><font style='font-size:",1,"vw;' color='",2,"'>",0,"</font></center></td></tr><tr><td><center><font style='font-size:",1,"vw;' >",{},"</font></center></td></tr></table></fieldset>"]]},				
	{func:"MULTI_STATE_DISPLAY_STRING",replace_spaces_in_title:true,colspan_2_if_title_empty:true,bg_color_elem:4,output_func:"HMI_MULTI_STATE_SHOW",args:[1,2,-5],title_pos:0,format:[["<font style='font-size:",2,"vw;' color='",3,"'>",0,"</font>"],["<font style='font-size:",2,"vw;'>",{},"</font>"]]},	
	{func:"MULTI_STATE_DISPLAY_GRAPHICS",replace_spaces_in_title:true,colspan_2_if_title_empty:true,bg_color_elem:4,output_func:"HMI_MULTI_STATE_GRAPHICS",args:[1,-5],title_pos:0,format:[["<font style='font-size:",2,"vw;' color='",3,"'>",0,"</font>"],[{}]]},	
	{func:"DROPDOWN_LIST",colspan_2_if_title_empty:true,bg_color_elem:4,output_func:"HMI_MULTI_STATE_ENTER",args:[1,-5],title_pos:0,format:[["<font style='font-size:",2,"vw;' color='",3,"'>",0,"</font>"],["<font style='font-size:",2,"vw;'>",{},"</font>"]]},		
	{func:"DISPLAY_VALUE_WITH_HEALTH",replace_spaces_in_title:true,colspan_2_if_title_empty:true,output_func:"HMI_DISPLAY_VALUE_WITH_HEALTH",args:[3,4,5],title_pos:0,format:[["<font style='font-size:",2,"vw;' color='",1,"'>",0,"</font>"],["<font style='font-size:",2,"vw;'>",{},"</font>"]]},	
	{func:"LINK",output_func:"HMI_GRID_LINK",args:[0,1,2],title_pos:0,format:[[],["<font style='font-size:",3,"vw;'>",{},"</font>",]]},		
    {func:"LOAD_FROM_FILE",replace_spaces_in_title:true,colspan_2_if_title_empty:true,output_func:"HMI_GRID_LOAD_FROM_FILE",args:[0,1,2,3,4,5],title_pos:0,format:[["<font style='font-size:",7,"vw;' color='",6,"'>",0,"</font>"],["<font style='font-size:",7,"vw;' color='",6,"'><table><tr><td>",{},"</td></tr></table></font>"]]},			
	{func:"STORE_TO_FILE",replace_spaces_in_title:true,colspan_2_if_title_empty:true,output_func:"HMI_GRID_STORE_TO_FILE",args:[0,1,2,3,4],title_pos:0,format:[["<font style='font-size:",6,"vw;' color='",5,"'>",0,"</font>"],["<font style='font-size:",6,"vw;' color='",5,"'><table><tr><td>",{},"</td></tr></table></font>"]]},			

];

function findHMI_VarMap(elem_name)
{
   var i;
   for(i=0;i<DESCR.hmi_elems_var_mapping.length;i++)
   {
      if (DESCR.hmi_elems_var_mapping[i].name==elem_name)
      {
         return DESCR.hmi_elems_var_mapping[i].var_list;
      }
   }
   return null;
}

function createElemOutput(elem)
{
	var i,j,k,l;
	var res=[];
	for(i=0;i<hmi_conv_tbl.length;i++)
	{
		if (hmi_conv_tbl[i].func==elem.name)
		{
         
         
         
			var descr=hmi_conv_tbl[i];
			var num_cols=2; // when num_cols=1 -> only the second part of the "format" is used
			if (descr.format[0].length==0)
			{
				num_cols=1
			}
			
			if ((descr.colspan_2_if_title_empty==true)&&(elem.list[descr.title_pos].name.length==0))
			{
				num_cols=1;
			}
			var td_prop,start_format;
			var bg_color="transparent";
			if (descr.bg_color_elem!=undefined)
			{
				bg_color=elem.list[descr.bg_color_elem].name;
			}
				
			if (num_cols==1)
			{
				td_prop=" colspan='2' style='width:100%;background-color:"+bg_color+";' ";
				start_format=1;
				
			}
			else
			{
				td_prop=" colspan='1' style='width:50%;background-color:"+bg_color+";padding-right:10px;' ";
				start_format=0;
			}
			
			if (descr.replace_spaces_in_title==true)
			{
				var outp="";
				for(j=0;j<elem.list[descr.title_pos].name.length;j++)
				{
					var ch=elem.list[descr.title_pos].name.charAt(j);
					if (ch==' ')
					{
						outp+="&nbsp";
					}
					else
					{
						outp+=ch;
					}
				}
				elem.list[descr.title_pos].name=outp;
			}
					
			
			for(j=0;j<num_cols;j++)
			{
				if ((j==0)&&(num_cols==2))
				{
					res[res.length]="<td "+ td_prop+" align=\"right\">";
				}
				else
				{
					res[res.length]="<td id=\"td_id_"+elem.elem_id+"\" "+ td_prop+">";
				}
				if (num_cols==1)
				{
					if (elem.list[descr.align_arg]!=undefined)
					{
						res[res.length]="<div style=\"text-align:"+elem.list[descr.align_arg].name+"\">";
					}
					else
					{
						res[res.length]="<center>";
					}
				}
				for(k=0;k<descr.format[start_format+j].length;k++)
				{
					var curr_frm_item=descr.format[start_format+j][k];
					if (typeof 	curr_frm_item === 'string')
					{
						res[res.length]=curr_frm_item;
					}
					else if (typeof curr_frm_item === 'object')
					{
						// need to create the function object structure	
						var obj={type:"FUNC_NO_RETURN",subtype:"GRID",num_cols:num_cols,name:descr.output_func,list:[],elem_id:elem.elem_id};
						for(l=0;l<descr.args.length;l++)
						{
							if (descr.args[l]<0)
							{
								var pos_arg=-descr.args[l];
								var m;
								for(m=pos_arg;m<elem.list.length;m++)
								{
									obj.list[obj.list.length]=fastClone(elem.list[m]);
								}
							}
							else
							{
								obj.list[l]=fastClone(elem.list[descr.args[l]]);
							}
						}
						res[res.length]=obj;
					}
					else
					{
						if (curr_frm_item<0)
						{
							if (curr_frm_item==prop_active_screen_name)
							{
								res[res.length]=active_screen_name;
							}
						}
						else
						{
							// embed argument specified by number
							res[res.length]=elem.list[curr_frm_item].name;	
						}
					}
				}
				if (num_cols==1)
				{
					if (elem.list[descr.align_arg]!=undefined)
					{
						res[res.length]="</div>"
					}
					else
					{
						res[res.length]="</center>";
					}
				}
				
				res[res.length]="</td>";
			}
			return res;
		}
	}
	return null;
}

//function 

function constructHMI_Element(elem)
{
	var jk=1;
	var outp={};
	if ((elem.enum_type==ELEM.FUNC_NO_RETURN)||(elem.enum_type==ELEM.FUNC))
	{
		
		var func_name=elem.data;
		
		var func_elems=[];
		var i;
		for(i=0;i<elem.list.length;i++)
		{
			func_elems[i]=constructHMI_Element(elem.list[i]);
		}
		outp={type:"FUNC",name:func_name,args:func_elems,line_num:elem.line_num};
		return outp;
	}
	else if (elem.enum_type==ELEM.CONST)
	{
		outp={type:"NUM",name:elem.data};
		return outp;
	}
	else if (elem.enum_type==ELEM.CONST_STR)
	{
		outp={type:"STR",name:elem.data};
		return outp;
	}
	else if (elem.enum_type==ELEM.EXPR_VAR)
	{
		if ((elem.list!=undefined)&&(elem.list.length==1)&&(elem.list[0].data=="TRUE"))
		{
			// replace TRUE with 1
			outp={type:"NUM",name:"1"};
			return outp;
		}
		if ((elem.list!=undefined)&&(elem.list.length==1)&&(elem.list[0].data=="FALSE"))
		{
			// replace FALSE with 0
			outp={type:"NUM",name:"0"};
			return outp;
		}
		var offset=elem.ref_addr;	
		if (elem.offset_list.length!=0)
		{
			offset+=elem.offset_list[0].offset;
		}
		var is_array=(elem.last_type.range_start!=undefined);
		var num_elems=1;
		var bit_offset=-1;
		var bit_len=-1;
		if (elem.list[elem.list.length-1].enum_type==ELEM.EXPR_VAR_OFFSET)
		{
			is_array=false;
			bit_offset=elem.list[elem.list.length-1].offset;
			bit_len=elem.list[elem.list.length-1].len;
		}
		else if (is_array==true)
		{
			if (elem.list[elem.list.length-1].enum_type==ELEM.EXPR_VAR_ARR_IND)
			{
				is_array=false;
			}
			else
			{
				num_elems=elem.last_type.range_end;
			}
		}
		outp={type:"VAR",sub_type:elem.last_type.data, size:elem.last_type.link.var_size,offset:offset,is_array:is_array,num_elems:num_elems,bit_offset:bit_offset,bit_len:bit_len};
		return outp;
	}
}

function constructHMI_Map(elem,const_only)
{
	var outp;
	var i,j;
	
	if (elem.enum_type==ELEM.HMI_BLOCK)
	{
		var func_data=constructHMI_Element(elem.list[0]);
		var sub_elems_out=[];
		var sub_elems=elem.list[1].list;
		for(i=0;i<sub_elems.length;i++)
		{
			if (sub_elems[i].enum_type==ELEM.HMI_BLOCK)
			{
				sub_elems_out[i]=constructHMI_Map(sub_elems[i],const_only);
			}
			else
			{
				sub_elems_out[i]=constructHMI_Element(sub_elems[i]);
			}
		}
		outp={type:"BLOCK",func:func_data, list:sub_elems_out};
		return outp;
	}
	
	if ((elem.enum_type==ELEM.HMI_GRID_SCREEN)&&
	    ((elem.expr.data!="SCREEN_PROP")||(elem.expr.list.length!=4)))
	{
		stopCompilation("Invalid function or number of arguments in Screen definition",elem);
	}
	if ((elem.enum_type==ELEM.HMI_GRID_ROW)&&
	    ((elem.expr.data!="ROW_PROP")||(elem.expr.list.length!=1)))
	{
		stopCompilation("Invalid function or number of arguments in Row definition",elem);
	}
	if ((elem.enum_type==ELEM.HMI_GRID_SECTION)&&
	    ((elem.expr.data!="CELL_PROP")||((elem.expr.list.length!=2)&&(elem.expr.list.length!=3))))
	{
		stopCompilation("Invalid function or number of arguments in Cell definition",elem);
	}
	if (elem.enum_type==ELEM.HMI_GRID_SECTION)
	{
		// go through element list
		for(i=0;i<elem.list.length;i++)
		{
			var sub_func=elem.list[i];
			var j;
			var found=false;
			for(j=0;j<hmi_conv_tbl.length;j++)
			{
				if (hmi_conv_tbl[j].func==sub_func.data)
				{
					found=true;
					break;
				}
			}
			if (found==false)
			{
				stopCompilation("Invalid function in Grid Element definition",sub_func);
			}
         
             var var_list=findHMI_VarMap(sub_func.data)
             if (var_list!=null)
             {
                for(j=0;j<var_list.length;j++)
                {
                   if ((sub_func.list[var_list[j]].str_type=="CONST_STR")||(sub_func.list[var_list[j]].str_type=="CONST")||(sub_func.list[var_list[j]].str_type=="CONST_INT"))
                   {
                      stopCompilation("Missing Variable in Grid Element definition",sub_func);
                   }
                }
             }
         
		}
	}
	
	
	
	if (elem.enum_type==ELEM.EXPR_VAR)
	{
		if ((elem.list!=undefined)&&(elem.list.length==1)&&(elem.list[0].data=="TRUE"))
		{
			// replace TRUE with 1
			outp={type:"CONST_INT",name:"1"};
			return outp;
		}
		if ((elem.list!=undefined)&&(elem.list.length==1)&&(elem.list[0].data=="FALSE"))
		{
			// replace FALSE with 0
			outp={type:"CONST_INT",name:"0"};
			return outp;
		}
		if (const_only==true)
		{
			stopCompilation("Can not have variables in the position element",elem);
		}
		var offset=elem.ref_addr;	
		if (elem.offset_list.length!=0)
		{
			offset+=elem.offset_list[0].offset;
		}
		var is_array=(elem.last_type.range_start!=undefined);
		var num_elems=1;
		var bit_offset=-1;
		var bit_len=-1;
		if (elem.list[elem.list.length-1].enum_type==ELEM.EXPR_VAR_OFFSET)
		{
			is_array=false;
			bit_offset=elem.list[elem.list.length-1].offset;
			bit_len=elem.list[elem.list.length-1].len;
		}
		else if (is_array==true)
		{
			if (elem.list[elem.list.length-1].enum_type==ELEM.EXPR_VAR_ARR_IND)
			{
				is_array=false;
			}
			else
			{
				num_elems=elem.last_type.range_end;
			}
		}
		outp={type:"VAR",sub_type:elem.last_type.data, size:elem.last_type.link.var_size,offset:offset,is_array:is_array,num_elems:num_elems,bit_offset:bit_offset,bit_len:bit_len};
		return outp;
	}
	else if (elem.enum_type==ELEM.CONST_STR)
	{
		outp={type:"CONST_STR",name:elem.data};
		return outp;
	}
	else if ((elem.enum_type==ELEM.CONST_INT)||(elem.enum_type==ELEM.CONST))
	{
		outp={type:"CONST_INT",name:elem.data};
		return outp;
	}
	else if (elem.list!=undefined)
	{
		outp={type:elem.str_type};
		
		if (elem.enum_type==ELEM.HMI)
		{
			outp.proj_title=GOM.arrToString(GOM.getObjArr("ARGEE_PROJ_TITLE",0));
			outp.enum_list=PROCESS.getEnumList();
			hmi_elem_cnt=0;
			// project title
			// enum list
			
		}
		if (elem.enum_type==ELEM.FUNC_NO_RETURN)
		{
         var var_list=findHMI_VarMap(elem.data)
         if (var_list!=null)
         {
            for(j=0;j<var_list.length;j++)
            {
               if ((elem.list[var_list[j]].str_type=="CONST_STR")||(elem.list[var_list[j]].str_type=="CONST")||(elem.list[var_list[j]].str_type=="CONST_INT"))
               {
                  stopCompilation("Missing Variable in Element definition",elem);
               }
            }
         }
            
            
			outp.elem_id=hmi_elem_cnt;
			hmi_elem_cnt++;
		}
		


		if (elem.data!=undefined)
		{
			outp.name=elem.data;
		}
		else
		{
			outp.name=decodeURI(elem.name);
		}
		outp.list=[];
	}
	if ((elem.enum_type==ELEM.EXPR)&&(elem.list.length==2)&&((elem.list[1].enum_type==ELEM.CONST)||(elem.list[1].enum_type==ELEM.CONST_INT)))
	{
		outp={type:"CONST_INT",name:elem.elem_string};
		return outp;
	}
	for(i=0;i<elem.list.length;i++)
	{
		if (elem.list[i].data!="COMMENT")
		{
			outp.list[outp.list.length]=constructHMI_Map(elem.list[i],const_only);
		}
	}
	if (elem.extra_elements!=undefined)
	{
		outp.extra_elements=elem.extra_elements;
	}
	if (elem.expr!=undefined)
	{
		var j;
		outp.expr=[];
		for(j=0;j<elem.expr.list.length;j++)
		{
			outp.expr[j]=constructHMI_Map(elem.expr.list[j],const_only);
		}
	}
	if (elem.images!=undefined)
	{
		outp.images=[];
		for(j=0;j<elem.images.length;j++)
		{
			if (elem.images[j].data!="COMMENT")
			{
				outp.images[outp.images.length]=constructHMI_Map(elem.images[j],const_only);
			}
		}
	}
	if (elem.line_num!=undefined)
	{
		outp.line_num=elem.line_num;
	}

	if (elem.enum_type==ELEM.HMI)
	{
		
		// post process HMI_screens;
		var jk=1;	
		for(i=0;i<outp.list.length;i++)
		{
			if (outp.list[i].type=="HMI_GRID_SCREEN")
			{
				var table_rows=[];
				var act_table_num_cols;
				var act_table_rows=[];
				var curr_table_row=0;
				var curr_row_list=outp.list[i].list;
				act_table_rows=[0,0];
				act_table_num_cols=findNumColsInRow(curr_row_list[0]);
				outp.list[i].name=outp.list[i].expr[0].name;
				active_screen_name=outp.list[i].name;
				for(j=1;j<curr_row_list.length;j++)
				{
					if (findNumColsInRow(curr_row_list[j])!=act_table_num_cols)
					{
						// new table
						// finilize old table 
						act_table_rows[1]=j-1;
						table_rows[table_rows.length]=fastClone(act_table_rows);
						// start new table
						act_table_rows[0]=j;
						act_table_num_cols=findNumColsInRow(curr_row_list[j]);
					}
				}
				// finilize last table
				act_table_rows[1]=j-1;
				table_rows[table_rows.length]=fastClone(act_table_rows);
				// start generating HTML
				// always assume that "screens" element is present
				var screen_elems=[];
				screen_elems[0]="<style> button {color:inherit} table {color:inherit} </style><div><center>";
				var screen_width="";
				var border_radius="";
				width="width:"+parseInt(outp.list[i].expr[SCR_width_prop_num].name)+"%;";
				var val=parseInt(outp.list[i].expr[SCR_rouded_edges_prop_num].name);
				if (val==1)
				{
					// rounded corners enabled
					border_radius="border-radius: 20px;";
				}
				screen_bg_color=outp.list[i].expr[SCR_bgr_color_prop_num].name;
				var bgr_color="background-color:"+outp.list[i].expr[SCR_bgr_color_prop_num].name+";";
				
				screen_elems[screen_elems.length]="<div style=\""+width+border_radius+bgr_color+"\">";
				// Handle the rest of the screen
				for(j=0;j<table_rows.length;j++)
				{
					screen_elems[screen_elems.length]="<table style='table-layout: fixed;border-collapse:collapse;width:100%;'>"
					for(k=table_rows[j][0];k<=table_rows[j][1];k++)
					{
						
						var bgcolor="style=\"background-color:transparent;\"";
						if (outp.list[i].list[k].expr!=undefined)
						{
							bgcolor="style=\"background-color:"+outp.list[i].list[k].expr[0].name+";\"";
						}
						
						screen_elems[screen_elems.length]="<tr "+bgcolor+" >";
						var sect_list=outp.list[i].list[k].list;
						var l;
						var num_cols=findNumColsInRow(outp.list[i].list[k]);
						for(l=0;l<sect_list.length;l++)
						{
                     var valign="";
                     if (sect_list[l].expr[SECT_valign_prop_num]!=undefined)
                     {
                        valign="valign=\""+sect_list[l].expr[SECT_valign_prop_num].name+"\"";
                     }
							var sect_col_span=parseInt(sect_list[l].expr[SECT_colspan_prop_num].name);						
							var width=((sect_col_span/num_cols)*100)|0;
							//overflow:hidden;
							screen_elems[screen_elems.length]="<td onmousedown=\"return standalone_hmi.td_preview(event,this);\""+" data-line_num=\""+sect_list[l].line_num+"\" " +valign+" colspan='"+sect_col_span+"' style='width:"+width+"%;'><center style='width:100%;'>";
							// handle section elements
							var m;
							var border="";
							var additional_border_style="";
							if  (parseInt(sect_list[l].expr[SECT_show_border_prop_num].name)==1)
							{
								border="border=\"1\"";
							}
							else if (parseInt(sect_list[l].expr[SECT_show_border_prop_num].name)==2)
							{
								additional_border_style="border:4px double black;border-collapse:collapse;padding:0px;margin:0px;";
							}
							else if  (parseInt(sect_list[l].expr[SECT_show_border_prop_num].name)==3)
							{
								border="border=\"1\"";
								additional_border_style="border-collapse:collapse;border-style:solid;";
							}
							else if (parseInt(sect_list[l].expr[SECT_show_border_prop_num].name)==4)
							{
								additional_border_style="border:4px solid black;border-collapse:collapse;padding:0px;margin:0px;";
							}
							else 
							{
								additional_border_style=sect_list[l].expr[SECT_show_border_prop_num].name;//"border:4px solid black;border-radius:20px;padding:0px;margin:0px;";
							}
							
							//border-collapse: collapse;
							screen_elems[screen_elems.length]="<table "+border+" style=\"width:100%;table-layout: fixed;"+additional_border_style+"\">";
							var elem_list=sect_list[l].list;
							for(m=0;m<elem_list.length;m++)
							{
								screen_elems[screen_elems.length]="<tr>";
								var act_elem=elem_list[m];
								var jk=1;
								var res=createElemOutput(act_elem);
								var n;
								if (res!=null)
								{
									for(n=0;n<res.length;n++)
									{
										screen_elems[screen_elems.length]=res[n];
									}
								}
								screen_elems[screen_elems.length]="</tr>";
							}
							screen_elems[screen_elems.length]="</table>"
							screen_elems[screen_elems.length]="</center></td>";
						}
						screen_elems[screen_elems.length]="</tr>";
					}
					screen_elems[screen_elems.length]="</table>"
				}
				screen_elems[screen_elems.length]="</div></center></div>";
				outp.list[i].list=fastClone(screen_elems);
				delete outp.list[i].expr;	
			}
			
			
		}	
		
				
	}
	return outp;
}


function getEnumVal(id)
{
	return enum_list[id];
}

function getEnumList()
{
	return enum_list;
}

var const_int_arr=[];

function getConstIntArrName(arr,type)
{
	var i,j;
	for(i=0;i<const_int_arr.length;i++)
	{
		if ((JSON.stringify(const_int_arr[i].val)==JSON.stringify(arr))&&
		    (const_int_arr[i].type==type)) 
		{
			return const_int_arr[i].name;
		}
	}
	var len=const_int_arr.length;
	var elem_size=4;
	if (type=="BYTE")
	{
		elem_size=1;
	}
	else if (type=="WORD")
	{
		elem_size=2;
	}
	const_int_arr[len]={name:"___CONST_INT_ARR_"+len,val:arr,type:type,elem_size:elem_size};
	return const_int_arr[len].name;
}	

function separateFunctionsAndFunctionBlocks(ast,curr_funct_block,globals)
{
	var i;
	var func_ptr=findBuiltInFunc(ast.data);
	if (func_ptr!=null)
	{
		ast.func_descr=func_ptr;
		if ((ast.data.toUpperCase()=="ARRAY_INIT")||
		    (ast.data.toUpperCase()=="ARRAY_INIT_BYTE")||
			(ast.data.toUpperCase()=="ARRAY_INIT_WORD"))
		{
			// convert arguments 2..K to an array and replace all of them with array pointer
			var init_arr=[];
			if (ast.list.length<3)
			{
				stopCompilation("Invalid number of arguments for \""+ast.data.toUpperCase()+"\"",ast);
			}
			for(i=2;i<ast.list.length;i++)
			{
				if (ast.list[i].enum_type!=ELEM.CONST)
				{
					stopCompilation("Non constant array initializer argument "+i+" for \""+ast.data.toUpperCase()+"\"",ast);
				}
				init_arr[i-2]=num(ast.list[i].data)
			}
			ast.list.splice(2,ast.list.length-2);
			var obj=new Object();
			PARSE.setObjType(obj,"EXPR_VAR",ELEM.EXPR_VAR);
			obj.list=[];
			var obj1=new Object();
			obj.list[0]=obj1;
			PARSE.setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);
			obj1.data=getConstIntArrName(init_arr,func_ptr.const_arr_type);
			ast.list[2]=obj;
		}
		if (
             ((ast.data.toUpperCase()=="F_COS")||
             (ast.data.toUpperCase()=="R_TRIG")||
             (ast.data.toUpperCase()=="F_TRIG"))
             & 
             (ast.list.length==1)
         )
		{
			 var obj3=new Object();
			 PARSE.setObjType(obj3,"EXPR_VAR",ELEM.EXPR_VAR);
			 obj3.list=[];
			 var obj1=new Object();
			 obj3.list[0]=obj1;
			 PARSE.setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);
			 obj1.data="___COS_VAR_"+last_cos_var;
			 obj1.name=obj1.data;
			 obj1.type={type:ELEM.VAR_REG,data:"INT"};
			 ast.list[1]=obj3;
			 last_cos_var++;
			 // add variable to the first var segment list of that function blocks. It is assumed that the first VAR_SEGM is regular VARs
			 var obj2=new Object();
				parse.setObjType(obj2,"VAR_REG",ELEM.VAR_REG);
				obj2.name=obj1.data;
				obj2.segm_type=token_types.VAR;
				obj2.segm_link={type:token_types.VAR};
				obj2.type={type:ELEM.VAR_REG,data:"INT"};
				obj2.visited=true;
				obj2.debug_hide=true;
				var var_list=curr_funct_block.list[0].list[0].list;
			 var_list[var_list.length]=obj2
		}
		
		
	}
	else
	{
		var tmp_str=ast.data.split(".");
		var tp=curr_funct_block;
		var user_funct=false;
		
		
		if (tmp_str.length==1)
		{
			// check if this is a function
			for(i=0;i<globals.list[1].list.length;i++)
			{
				if ((globals.list[1].list[i].enum_type==ELEM.FUNCT_BLOCK)&&
					((globals.list[1].list[i].FUNCTION!=undefined)||(globals.list[1].list[i].PROCEDURE!=undefined))
					 &&
				    (tmp_str[0]==globals.list[1].list[i].name))
				{
					// if nessesary create function block instance variable for this function
					var j;
					var found=false;
					var inst_vars=curr_funct_block.list[0].list[0];
					for(j=0;j<inst_vars.list.length;j++)
					{
						if (inst_vars.list[j].name==tmp_str[0])
						{
							found=true;
							break;
						}
					}
					if (found==false)
					{
						// need to add
						inst_vars.list[inst_vars.list.length]=
						     {enum_type:ELEM.VAR_REG,str_type:"VAR_REG",name:tmp_str[0],
							  segm_link:inst_vars,type:{type:ELEM.VAR_REG,data:tmp_str[0], 
							  ref_funct:globals.list[1].list[i]}/*,debug_hide:true*/};
					}
					if (globals.list[1].list[i].FUNCTION!=undefined)
					{
						user_funct=true;
					}
					var obj=new Object();
					obj.list=[];
					ARGEE_nst_parse.setObjType(obj,"EXPR_VAR",ELEM.EXPR_VAR);
					var obj1=new Object();
					//obj1.list=[];
					ARGEE_nst_parse.setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);
					obj1.data=tmp_str[0];
					obj.list[0]=obj1;
					ast.func_ptr=obj;
					
					// Add function instance to the function block
					/*var obj_inst=new Object();
					parse.setObjType(obj_inst,"VAR_REG",ELEM.VAR_REG);
					obj_inst.name=obj1.data;
					obj_inst.segm_type=token_types.VAR;
					obj_inst.segm_link={type:token_types.VAR};
					obj_inst.type={type:ELEM.VAR_REG,data:obj1.data};
					obj_inst.visited=true;
					obj_inst.debug_hide=true;
					var var_list=curr_funct_block.list[0].list[0].list;
					var_list[var_list.length]=obj_inst;
					*/
					
					
					break;
				}
			}
		}
			
		
		for(i=0;i<tmp_str.length;i++)
		{
			var ptr=findVarElem(tp.list[0],tmp_str[i].toUpperCase());
			if ((ptr==null)&&(i==0))
			{
				// check if this is a global variable
				ptr=findVarElem(globals.list[0],tmp_str[0].toUpperCase());
			}
			if (ptr==null)
			{
				stopCompilation("Not a valid function/function_block: "+(ast.data.toUpperCase()),ast);
			}
			var tp=findFunctionBlock(globals,ptr.type.data);
			if (tp==null)
			{
				stopCompilation("Not a valid function/function_block: "+(ast.data.toUpperCase()),ast);
			}
			
		}
		// tp points to the function block.
		arg_list=[];
		//fillArgList(tp);
		for(i=0;i<tp.arg_list.list.length;i++)
		{
			arg_list[i]=tp.arg_list.list[i];
		}
		if (arg_list.length!=ast.list.length)
		{
			stopCompilation("Invalid number of arguments to function block: "+(ast.data.toUpperCase()),ast);
		}
		
		/*if (user_funct==true)
		{
			for(i=0;i<arg_list.length;i++)
			{
				preProcessFuncs(ast.list[i],curr_funct_block);
			}
		}*/
		
		
		var line_num=ast.line_num;
		/*var funct_block_var=new Object();
		ARGEE_nst_parse.setObjType(funct_block_var,"EXPR_VAR",ELEM.EXPR_VAR);*/
		funct_block_var=ast.func_ptr;
		//funct_block_var.list=[];
		funct_block_var.line_num=line_num;
		/*for(i=0;i<tmp_str.length;i++)
		{
			funct_block_var.list[i]=new Object();
			ARGEE_nst_parse.setObjType(funct_block_var.list[i],"EXPR_VAR",ELEM.EXPR_VAR);
			funct_block_var.list[i].line_num=line_num;
			funct_block_var.list[i].data=tmp_str[i];
		}*/
		var obj2=new Object();
		ARGEE_nst_parse.setObjType(obj2,"FUNC_BLOCK_ARG_LIST",ELEM.FUNC_BLOCK_ARG_LIST);
		obj2.line_num=line_num;
		obj2.list=[];
		for(i=0;i<arg_list.length;i++)
		{
			var obj=new Object();
			ARGEE_nst_parse.setObjType(obj,"FUNC_BLOCK_VAR_ASSIGN",ELEM.FUNC_BLOCK_VAR_ASSIGN);
			obj.line_num=line_num;
			obj.list=[];
			
			var obj1=new Object();
			ARGEE_nst_parse.setObjType(obj1,"EXPR_VAR",ELEM.EXPR_VAR);
			obj1.line_num=line_num;
			obj1.list=[];
			obj1.list[0]=new Object();
			ARGEE_nst_parse.setObjType(obj1.list[0],"EXPR_VAR",ELEM.EXPR_VAR);
			obj1.list[0].line_num=line_num;
			obj1.list[0].data=arg_list[i];

			
			
			/*var obj1=fastClone(funct_block_var);
			var last=obj1.list.length;
			obj1.list[last]=new Object();
			ARGEE_nst_parse.setObjType(obj1.list[last],"EXPR_VAR",ELEM.EXPR_VAR);
			obj1.list[last].line_num=line_num;
			obj1.list[last].data=arg_list[i];*/
			obj.list[0]=obj1;
			obj.list[1]=ast.list[i];
			obj2.list[i]=obj;
		}
		ast.list=[];
		ast.list[0]=funct_block_var;
		ast.list[1]=obj2;
		ARGEE_nst_parse.setObjType(ast,"FUNC_BLOCK_CALL",ELEM.FUNC_BLOCK_CALL);
		ast.line_num=line_num;
	}
}

function preProcessFuncs(ast,curr_funct_block)
{
	var i;
	if ((ast.enum_type==ELEM.FUNCT_BLOCK)||(ast.enum_type==ELEM.TASK))
	{
		curr_funct_block=ast;
	}
	if ((ast.enum_type==ELEM.FUNC)||(ast.enum_type==ELEM.FUNC_NO_RETURN))
	{
		separateFunctionsAndFunctionBlocks(ast,curr_funct_block,globals);
	}
		
	if (ast.list!=undefined)
	{
		for(i=0;i<ast.list.length;i++)
		{
			if (ast.list[i]!=undefined)
			{				
				preProcessFuncs(ast.list[i],curr_funct_block);
				if ((ast.list[i].enum_type==ELEM.ENUM_OBJ)||(ast.list[i].enum_type==ELEM.MODULE)||
					((ast.list[i].enum_type==ELEM.VAR_REG)&&(ast.list[i].type.mapped_elem!=undefined)))
				{
					// get rid of some elements which are already handled
					ast.list.splice(i,1);
					i=i-1;
				}
			}
		}
	}
}


function replaceNegativeConstants(ast)
{
   var i;
   if ((ast.enum_type==ELEM.EXPR)&&(ast.list.length==2)&&(ast.list[0].enum_type==ELEM.OP)&&
       (ast.list[0].data==token_types.MINUS)&&(ast.list[1].enum_type==ELEM.CONST))
   {
      ast.enum_type=ELEM.CONST;
      ast.data="-"+ast.list[1].data;
      delete ast.list;
   }
  	if ((ast.type!=undefined)&&(ast.type.initialize_data!=undefined))
	{
		for(i=0;i<ast.type.initialize_data.length;i++)
		{
			replaceNegativeConstants(ast.type.initialize_data[i]);
		}
	}

   if (ast.list!=undefined)
	{
		for(i=0;i<ast.list.length;i++)
		{
         replaceNegativeConstants(ast.list[i]);
		}
	}       
}
function preProcessEnums(ast,curr_funct_block)
{
	var i;
	if ((ast.enum_type==ELEM.FUNCT_BLOCK)||(ast.enum_type==ELEM.TASK))
	{
		curr_funct_block=ast;
	}
	if (ast.enum_type==ELEM.ENUM_ELEM)
	{
		addToEnumList(ast.name.toUpperCase(),ast.const_val);
	}
	if ((ast.enum_type==ELEM.VAR_REG)&&(ast.type.mapped_elem!=undefined)) // aliases are sort of like enums
	{
		alias_list_names[alias_list_names.length]=ast.name;
		alias_list_objs[alias_list_objs.length]=ast.type.mapped_elem;
	}
		
	if (ast.list!=undefined)
	{
		for(i=0;i<ast.list.length;i++)
		{
			if (ast.list[i]!=undefined)
			{				
				preProcessEnums(ast.list[i],curr_funct_block);
				if ((ast.list[i].enum_type==ELEM.ENUM_OBJ)||(ast.list[i].enum_type==ELEM.MODULE)||
					((ast.list[i].enum_type==ELEM.VAR_REG)&&(ast.list[i].type.mapped_elem!=undefined)))
				{
					ast.list.splice(i,1);
					i=i-1;
				}
			}
		}
	}
}


function changeReadOutputsToFunctionCalls(ast)
{
	var i,offset,bit_len;
	
	if ((ast.enum_type==ELEM.EXPR_VAR)&&(ast.list!=undefined)&&(ast.list[0].enum_type==ELEM.EXPR_VAR))
	{
		var ind=mapped_special_vars_def_names.indexOf(ast.list[0].data);
		if (ind!=-1)
		{
			 var descr=mapped_special_vars_def_objs[ind];
			 if (((descr.type==MAP_VAR.IO)&&(sect_names[descr.descr[2]]=="Output"))
				 ||
			 ((descr.type==MAP_VAR.PLC)&&(descr.descr[1]==0)))
			 {
			    PARSE.setObjType(ast,"FUNC",ELEM.FUNC);
				if (descr.type==MAP_VAR.IO)
				{
				    ast.data="GET_IO_OUTP_INT";
					offset=descr.descr[3];
                    bit_len=descr.descr[4];
                }
				else
				{
					ast.data="GET_PLC_OUTP_INT";
                    offset=descr.descr[2]*16;
                    bit_len=16;

				}
				
				if ((ast.list.length>1)&&(ast.list[ast.list.length-1].enum_type==ELEM.EXPR_VAR_OFFSET))
				{
					// offset/length notation
					offset+=ast.list[ast.list.length-1].offset;
					bit_len=ast.list[ast.list.length-1].len;
				}

				
				
			    var func_ptr=findBuiltInFunc(ast.data);
				ast.func_descr=func_ptr;

				if (descr.type==MAP_VAR.IO)
				{
					ast.list[0]={enum_type:ELEM.CONST,data:descr.descr[1]};// slot 
					ast.list[1]={enum_type:ELEM.CONST,data:offset};// offset 
					ast.list[2]={enum_type:ELEM.CONST,data:bit_len};// len 
				}
				 else
				 {
					ast.list[0]={enum_type:ELEM.CONST,data:offset};// offset 
					ast.list[1]={enum_type:ELEM.CONST,data:bit_len};// len 
				 }

			 }
		}
	}

		
	if (ast.list!=undefined)
	{
		for(i=0;i<ast.list.length;i++)
		{
			if (ast.list[i]!=undefined)
			{				
				changeReadOutputsToFunctionCalls(ast.list[i]);
			}
		}
	}
}


var bool_enum=["FALSE","TRUE"];

function eliminateEnumVars(ast,all_preproc)
{
	var i;
	if (ast.enum_type==ELEM.EXPR_VAR)
	{
		// scan the last few items.
		// case 1:
		//         last element is EXPR_VAR_OFFSET and one before it is not a enum
		// 		   do nothing
		// case 2:
		//         last 1,2 element are enums - convert them into  EXPR_VAR_OFFSET
		// case 3: 
		// 		   last element is EXPR_VAR_OFFSET and one before it is an enum
		//         delete the element before the last one and add it into EXPR_VAR_OFFSET //         (while the previous offset of EXPR_VAR_OFFSET is turned into length) 
		if ((ast.list!=undefined)&&(ast.list.length>0)&&(ast.list[0].enum_type==ELEM.EXPR_VAR))
		{
			// case 1
			if ((ast.list[ast.list.length-1].enum_type==ELEM.EXPR_VAR_OFFSET)&&((ast.list.length-2)>0))
			{
				var one_before=ast.list[ast.list.length-2];
				var enum_id;
				if ((one_before.enum_type==ELEM.EXPR_VAR)&&
				    ((enum_id=enum_list.indexOf(one_before.data))!=-1))
				{
					if (enum_vals[enum_id]==undefined)
					{
						stopCompilation("Bit Designator is not a constant",ast);
					}
					ast.list.splice(ast.list.length-2,1);						
					ast.list[ast.list.length-1].len=ast.list[ast.list.length-1].offset;
					ast.list[ast.list.length-1].offset=num(enum_vals[enum_id]);
				}
				
			}
			// case 2a (2 dot elements)
			else if (
			          (ast.list.length>2)&&
					  (ast.list[ast.list.length-2].enum_type==ELEM.EXPR_VAR)&&
					  (ast.list[ast.list.length-1].enum_type==ELEM.EXPR_VAR)&&
					  (enum_list.indexOf(ast.list[ast.list.length-2].data)!=-1)&&
					  (enum_list.indexOf(ast.list[ast.list.length-1].data)!=-1)
					)
			{
				
				var offset,len;
				offset=enum_vals[enum_list.indexOf(ast.list[ast.list.length-2].data)];
				len=enum_vals[enum_list.indexOf(ast.list[ast.list.length-1].data)];
				if ((offset==undefined)||(len==undefined))
				{
					stopCompilation("Bit Designator is not a constant",ast);
				}
				ast.list.splice(ast.list.length-2,2);	
				var obj1=new Object();
				// only one element after the dot -> bit position
				parse.setObjType(obj1,"EXPR_VAR_OFFSET",ELEM.EXPR_VAR_OFFSET);
				obj1.offset=num(offset);
				obj1.len=num(len);
				ast.list[ast.list.length]=obj1;
			}
			// case 2b (1 dot elements)
			else if (
			          (ast.list.length>1)&&
					  (ast.list[ast.list.length-1].enum_type==ELEM.EXPR_VAR)&&
					  (enum_list.indexOf(ast.list[ast.list.length-1].data)!=-1)
					)
			{
				var offset,len;
				offset=enum_vals[enum_list.indexOf(ast.list[ast.list.length-1].data)];
				len=1;
				if ((offset==undefined)||(len==undefined))
				{
					stopCompilation("Bit Designator is not a constant",ast);
				}
				ast.list.splice(ast.list.length-1,1);	
				var obj1=new Object();
				// only one element after the dot -> bit position
				parse.setObjType(obj1,"EXPR_VAR_OFFSET",ELEM.EXPR_VAR_OFFSET);
				obj1.offset=num(offset);
				obj1.len=num(len);
				ast.list[ast.list.length]=obj1;
			}
			
		}
		
	}
	if ((ast.enum_type==ELEM.EXPR_VAR)&&(ast.list!=undefined)&&(ast.list.length==1)&&(ast.list[0].enum_type==ELEM.EXPR_VAR))
	{
		var bool_index=bool_enum.indexOf(ast.list[0].data);
		if (bool_index!=-1)
		{
			ARGEE_nst_parse.setObjType(ast,"CONST",ELEM.CONST,true);
			ast.data=bool_index;
			delete ast.list;
			return;
		
		}
		else
		{
			var enum_id=enum_list.indexOf(ast.list[0].data);
			if (enum_id!=-1)
			{
				ARGEE_nst_parse.setObjType(ast,"CONST",ELEM.CONST,true);
				if (enum_vals[enum_id]!=undefined)
				{
					ast.data=enum_vals[enum_id];
				}
				else
				{
					ast.data=enum_id;
				}
				delete ast.list;
				return;
			}
			enum_id=alias_list_names.indexOf(ast.list[0].data);
			if (enum_id!=-1)
			{
				ast.list=clone(alias_list_objs[enum_id].list);
				return;
			}
		}
		
	}
	if ((ast.type!=undefined)&&(ast.type.range_end==-1))
	{
		if (ast.type.range_end_named_const!=undefined)
		{
			var enum_id=enum_list.indexOf(ast.type.range_end_named_const);
			if ((enum_id==-1)||(enum_vals[enum_id]==undefined))
			{
				stopCompilation("can not find constant "+ast.type.range_end_named_const,ast);
			}
			else
			{
				ast.type.range_end=num(enum_vals[enum_id])-1;
			}
		}
		else
		{
			stopCompilation("Invalid Array Range specification",ast);
		}
	}
	if ((ast.type!=undefined)&&(ast.type.initialize_data!=undefined))
	{
		for(i=0;i<ast.type.initialize_data.length;i++)
		{
			eliminateEnumVars(ast.type.initialize_data[i],false);
		}
	}
	if (ast.list!=undefined)
	{
		for(i=0;i<ast.list.length;i++)
		{
			eliminateEnumVars(ast.list[i],true);
		}
	}
}


function eliminateCommentsInVars(ast)
{
	var i;
	if (ast.list!=undefined)
	{
		for(i=0;i<ast.list.length;)
		{
			if (ast.list[i].enum_type==ELEM.COMMENT_VAR)
			{
				ast.list.splice(i,1);
			}
			else
			{
				i++;
			}				
		}
		for(i=0;i<ast.list.length;i++)
		{
			eliminateCommentsInVars(ast.list[i]);
		}
	}
}

function eliminateGlobalVarSegments(ast)
{
	var i;
	var new_fb_list=[];
	for(i=0;i<ast.list[1].list.length;i++)
	{
		if (ast.list[1].list[i].enum_type==ELEM.VAR_SEGM)
		{
			ast.list[0].list.splice(ast.list[0].list.length-1,0,ast.list[1].list[i]);
		}
		else
		{
			new_fb_list[new_fb_list.length]=ast.list[1].list[i];
		}
	}
	ast.list[1].list=new_fb_list;
}


function convertOutputAssignToFuncCall(ast)
{
	var i,offset,bit_len;
   if ((ast.enum_type==ELEM.ASSIGN)||
       ((ast.enum_type==ELEM.FUNC_NO_RETURN)&&((ast.data=="LADDER_ASSIGN")||(ast.data=="LADDER_COIL"))))
   {
      if (ast.list[0].enum_type==ELEM.EXPR_VAR)
      {
         if (ast.list[0].list[0].enum_type==ELEM.EXPR_VAR)
         {
            var ind=mapped_special_vars_def_names.indexOf(ast.list[0].list[0].data);
            if (ind!=-1)
            {
               var obj=mapped_special_vars_def_objs[ind];
               if ((obj.type==MAP_VAR.IO)||(obj.type==MAP_VAR.PLC))
               {
                  if (obj.type==MAP_VAR.IO)
                  {
                     if (sect_names[obj.descr[2]]!="Output")
                     {
                        stopCompilation("Assigning "+sect_names[obj.descr[2]]+" is not allowed ",ast);
                     }
                     offset=obj.descr[3];
                     bit_len=obj.descr[4];
                  }
                  else
                  {
                     if (obj.descr[1]!=0)
                     {
                        stopCompilation("Assigning PLC_TO_ARGEE variables is not allowed ",ast);
                     }
                     offset=obj.descr[2]*16;
                     bit_len=16;
                  }
                  if ((ast.list[0].list.length>1)&&(ast.list[0].list[1].enum_type==ELEM.EXPR_VAR_OFFSET))
                  {
                     // offset/length notation
                     offset=offset+ast.list[0].list[1].offset;
                     bit_len=ast.list[0].list[1].len;
                     var jk=1;
                  }
                  var jk=1;
                  var expr=ast.list[1];
                  var func_ptr;
                  ast.list=[];
                  if ((ast.data=="LADDER_ASSIGN")||(ast.data=="LADDER_COIL"))
                  {
                     // rework arguments
                     var enc=0;
                     if (obj.type==MAP_VAR.IO)
                     {
                        enc|=((obj.descr[1]&0x3f)<<24) // slot
                     }
                     enc|=((offset&0xffff)<<8) // offset
                     enc|=(bit_len&0xff);
                     
                     if (ast.data=="LADDER_ASSIGN")
                     {
                        ast.list[0]={enum_type:ELEM.CONST,data:enc};
                        ast.list[1]=expr;
                        ast.list[2]={enum_type:ELEM.CONST,data:0};
                        if (obj.type==MAP_VAR.IO)
                        {
                           ast.list[3]={enum_type:ELEM.CONST,data:35}; 
                        }
                        else
                        {
                           ast.list[3]={enum_type:ELEM.CONST,data:36}; 
                        }
                        ast.data="LADDER_ASSIGN_SPECIAL";
                     }
                     else
                     {
                        ast.list[0]={enum_type:ELEM.CONST,data:enc};
                        ast.list[1]={enum_type:ELEM.CONST,data:0};
                        if (obj.type==MAP_VAR.IO)
                        {
                           ast.list[2]={enum_type:ELEM.CONST,data:35}; 
                        }
                        else
                        {
                           ast.list[2]={enum_type:ELEM.CONST,data:36}; 
                        }
                        ast.data="LADDER_COIL_SPECIAL";
                     }
                     func_ptr=findBuiltInFunc(ast.data);
                     ast.func_descr=func_ptr;   
                  }
                  else
                  {
                     // modify the block
                     PARSE.setObjType(ast,"FUNC_NO_RETURN",ELEM.FUNC_NO_RETURN);
                     if (obj.type==MAP_VAR.IO)
                     {
                        ast.data="SET_IO_OUTP_INT";
                     }
                     else
                     {
                        ast.data="SET_PLC_OUTP_INT";
                     }
                     func_ptr=findBuiltInFunc(ast.data);
                     ast.func_descr=func_ptr;

                     if (obj.type==MAP_VAR.IO)
                     {
                        ast.list[0]={enum_type:ELEM.CONST,data:obj.descr[1]};// slot 
                        ast.list[1]={enum_type:ELEM.CONST,data:offset};// offset 
                        ast.list[2]={enum_type:ELEM.CONST,data:bit_len};// len 
                        ast.list[3]=expr;
                     }
                     else
                     {
                        ast.list[0]={enum_type:ELEM.CONST,data:offset};// offset 
                        ast.list[1]={enum_type:ELEM.CONST,data:bit_len};// len 
                        ast.list[2]=expr;
                     }
                  }
               }
            }
         }
         
      }
   }
   if (ast.list!=undefined)
   {
      for(i=0;i<ast.list.length;i++)
      {
         convertOutputAssignToFuncCall(ast.list[i]);
      }
   }
}


// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!  Preprocess end !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!



// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!  Mapped Var Handling begin !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


var MAP_VAR=
{
	
	IO:0,
	PLC:1,
	RETAIN:2,
	SPECIAL:3, // covers PLC_Connected&Cycle time
};

var mapped_var_desc=
[
	{type:MAP_VAR.IO, descr:["type(IO)","slot","sect","offset(in longs)","len (in longs)","dest_addr"]},
	{type:MAP_VAR.PLC, descr:["type(PLC)","direction","index(in shorts)","num_elems","dest_addr"]},
	{type:MAP_VAR.RETAIN, descr:["type(RETAIN)","addr_in_retain_mem(in longs)","num_elems","dest_addr"]},
	{type:MAP_VAR.SPECIAL, descr:["type(SPECIAL)","offset","len_in_bits","dest_addr"]},
];

var mapped_special_vars_def_names=[];
var mapped_special_vars_def_objs=[];
var retain_var_curr_addr=0;


function MAPPED_processVarSegm(ast)
{
	var num_elems=1;
	/*if ((ast.type!=undefined)&&(ast.type.mapped_elem!=undefined))
	{
		if (ast.type.type==ELEM.VAR_ARR)
		{
			num_elems=ast.type.range_end-ast.type.range_start+1;
		}
		ast.plc_len=2*num_elems;
		mapped_special_vars_def_names[mapped_special_vars_def_names.length]=ast.name;
		mapped_special_vars_def_objs[mapped_special_vars_def_objs.length]={elem:ast,type:MAP_VAR.PLC,num_elems:num_elems};
		
	}
	else*/ if ((ast.type!=undefined)&&((ast.type.data=="RETAIN_INT")||(ast.type.data=="RETAIN_REAL")))
	{
		mapped_special_vars_def_names[mapped_special_vars_def_names.length]=ast.name;
		ast.retain_offset=retain_var_curr_addr;
		
		if (ast.type.type==ELEM.VAR_ARR)
		{
			num_elems=ast.type.range_end-ast.type.range_start+1;
			// since we are storing an ARRAY in retain vars - we need to add the header 4 bytes 
			num_elems+=1;
		}
		retain_var_curr_addr+=num_elems;
		if (retain_var_curr_addr>60)
		{
			stopCompilation("Retain varaible segment overflow",ast);
		}
		ast.retain_len=4*num_elems;
		ast.mapping_elem={fixed_path:[MAP_VAR.RETAIN],long_offset:ast.retain_offset,long_len:num_elems,num_elems:num_elems};
		mapped_special_vars_def_objs[mapped_special_vars_def_objs.length]={elem:ast,type:MAP_VAR.RETAIN,num_elems:num_elems};
	}
	if (ast.list!=undefined)
	{
		var i;
		for(i=0;i<ast.list.length;i++)
		{
			MAPPED_processVarSegm(ast.list[i]);
		}
	}
}

var IO_OBJ_TYPE={SECT:0,OBJ:1};


function MAPPED_addIOVarSegms()
{
	var i,ii,iii,name,special_name;
	// IO Variables
	for(i=0;i<IO_ids.length;i++)
	{
		var slice_index=findIndex(IO_ids[i]);
		for(ii=0;ii<slices[slice_index].sections.length;ii++)
		{
			name="IO_"+"Slot"+i+"_"+sect_names[ii];
			mapped_special_vars_def_names[mapped_special_vars_def_names.length]=name.toUpperCase();
			mapped_special_vars_def_objs[mapped_special_vars_def_objs.length]={elem:null,type:MAP_VAR.IO,descr:[MAP_VAR.IO,i,ii,0,0],num_elems:1};
			for(iii=0;iii<slices[slice_index].sections[ii].objects.length;iii++)
			{
				name="IO_"+"Slot"+i+"_"+sect_names[ii]+"_"+slices[slice_index].sections[ii].objects[iii].name;
				mapped_special_vars_def_names[mapped_special_vars_def_names.length]=name.toUpperCase();
				mapped_special_vars_def_objs[mapped_special_vars_def_objs.length]={elem:null,type:MAP_VAR.IO,descr:[MAP_VAR.IO,i,ii,slices[slice_index].sections[ii].objects[iii].offset,slices[slice_index].sections[ii].objects[iii].length],num_elems:1};
			}
			special_name=SIM.getSlotName(i,true);
			if (special_name!=("Slot"+i))
			{
				name="IO_"+special_name+"_"+sect_names[ii];
				mapped_special_vars_def_names[mapped_special_vars_def_names.length]=name.toUpperCase();
				mapped_special_vars_def_objs[mapped_special_vars_def_objs.length]={elem:null,type:MAP_VAR.IO,descr:[MAP_VAR.IO,i,ii,0,0],num_elems:1};
				for(iii=0;iii<slices[slice_index].sections[ii].objects.length;iii++)
				{
					name="IO_"+special_name+"_"+sect_names[ii]+"_"+slices[slice_index].sections[ii].objects[iii].name;
					mapped_special_vars_def_names[mapped_special_vars_def_names.length]=name.toUpperCase();
					mapped_special_vars_def_objs[mapped_special_vars_def_objs.length]={elem:null,type:MAP_VAR.IO,descr:[MAP_VAR.IO,i,ii,slices[slice_index].sections[ii].objects[iii].offset,slices[slice_index].sections[ii].objects[iii].length],num_elems:1};
				}
			}
			
			
		}
	}
	// PLC variables
	for(i=0;i<2;i++)
	{
		var str;
		if (i==0)
		{
			str="IO_ARGEE_TO_PLC_WORD";
		}
		else
		{
			str="IO_PLC_TO_ARGEE_WORD";
		}
		for(ii=0;ii<240;ii++)
		{
			mapped_special_vars_def_names[mapped_special_vars_def_names.length]=str+ii;
			mapped_special_vars_def_objs[mapped_special_vars_def_objs.length]={elem:null,type:MAP_VAR.PLC,descr:[MAP_VAR.PLC,i,ii],num_elems:1};
		}
	}
	
	// Other special variables
	mapped_special_vars_def_names[mapped_special_vars_def_names.length]="PLC_CONNECTED";
	mapped_special_vars_def_objs[mapped_special_vars_def_objs.length]={elem:null,type:MAP_VAR.SPECIAL,descr:[MAP_VAR.SPECIAL,0,1],num_elems:1};	
	mapped_special_vars_def_names[mapped_special_vars_def_names.length]="PROG_RUNNING";
	mapped_special_vars_def_objs[mapped_special_vars_def_objs.length]={elem:null,type:MAP_VAR.SPECIAL,descr:[MAP_VAR.SPECIAL,1,1],num_elems:1};	
	mapped_special_vars_def_names[mapped_special_vars_def_names.length]="EXCEPTION_DETECTED";
	mapped_special_vars_def_objs[mapped_special_vars_def_objs.length]={elem:null,type:MAP_VAR.SPECIAL,descr:[MAP_VAR.SPECIAL,2,1],num_elems:1};	
	mapped_special_vars_def_names[mapped_special_vars_def_names.length]="PROG_CYCLE_TIME";
	mapped_special_vars_def_objs[mapped_special_vars_def_objs.length]={elem:null,type:MAP_VAR.SPECIAL,descr:[MAP_VAR.SPECIAL,24,8],num_elems:1};	
}
	


// assume that global variables are unique - can not be masked in function vars -> if a variable name appears in the function
// which matches a global variable - it is assumed to be a global variable.

function addMappedVar(elem)
{
	mapped_var_list[mapped_var_list.length]=elem;
}


function extractAllcomplexVarElements(ast)
{
	var i,offset,bit_len;
	if ((ast.enum_type==ELEM.EXPR_VAR)&&(ast.list!=undefined)&&(ast.list[0].enum_type==ELEM.EXPR_VAR))
	{
		var ind=mapped_special_vars_def_names.indexOf(ast.list[0].data);
		if ((ast.list.length>1)&&(ast.list[ast.list.length-1].enum_type==ELEM.EXPR_VAR_OFFSET))
		{
			// offset/length notation
			offset=ast.list[ast.list.length-1].offset;
			bit_len=ast.list[ast.list.length-1].len;
			ast.bit_offset=offset;
			ast.bit_len=bit_len;
		}
		if (ind!=-1)
		{
         var descr=mapped_special_vars_def_objs[ind];
         if ((descr.type==MAP_VAR.IO)&&(sect_names[descr.descr[2]]=="Output"))
         {
            stopCompilation("Accessing "+sect_names[descr.descr[2]]+" is not allowed ",ast);
         }
         if ((descr.type==MAP_VAR.PLC)&&(descr.descr[1]==0))
         {
            stopCompilation("Accessing ARGEE_TO_PLC_WORDx is not allowed ",ast);
         }

			addMappedVar({elem:ast,ind:ind});
		}
	}
	if (ast.list!=undefined)
	{
		for(i=0;i<ast.list.length;i++)
		{
			extractAllcomplexVarElements(ast.list[i]);
		}
	}
}

function MAPPED_getObjDescr(map_obj)
{
	var sub_obj=mapped_special_vars_def_objs[map_obj.ind];
	var abs_path_str="";
	var rel_offset,rel_len,descr_fixed,elem_len; 
	var num_elems=1;
	if (sub_obj.type==MAP_VAR.RETAIN)
	{
		abs_path_str="RETAIN";
		rel_offset=sub_obj.elem.retain_offset*32;
		rel_len=sub_obj.elem.retain_len*8;
		num_elems=(sub_obj.elem.retain_len/4)|0;
		descr_fixed=[MAP_VAR.RETAIN];
	}
	if (sub_obj.type==MAP_VAR.PLC)
	{
		abs_path_str="PLC_"+sub_obj.descr[1];
		rel_offset=num(sub_obj.descr[2])*16;
		rel_len=1*16;
		
		descr_fixed=[MAP_VAR.PLC,sub_obj.descr[1]];
	}
	if (sub_obj.type==MAP_VAR.IO)
	{
		abs_path_str="IO_"+sub_obj.descr[1]+"_"+sub_obj.descr[2];
		rel_offset=sub_obj.descr[3];
		rel_len=sub_obj.descr[4];
		descr_fixed=[MAP_VAR.IO,sub_obj.descr[1],sub_obj.descr[2]];
	}
	if (sub_obj.type==MAP_VAR.SPECIAL)
	{
		abs_path_str="SPECIAL";
		rel_offset=sub_obj.descr[1];
		rel_len=sub_obj.descr[2];
		descr_fixed=[MAP_VAR.SPECIAL];
	}
	return {name:abs_path_str,descr:descr_fixed,offset:rel_offset,len:rel_len,num_elems:num_elems};
}

var real_mapped_vars_segm=[];
var real_mapped_vars_descr=[];

function createLongMappedVars()
{
	var i;
	for(i=0;i<mapped_var_list.length;i++)
	{
		var obj_descr=MAPPED_getObjDescr(mapped_var_list[i]);
		if (obj_descr.descr[0]==MAP_VAR.RETAIN)
		{
			
			continue;
		}
		var act_offset=obj_descr.offset;
		var act_len=obj_descr.len;
		if (mapped_var_list[i].elem.bit_offset!=undefined)
		{
			act_offset+=mapped_var_list[i].elem.bit_offset;
			act_len=mapped_var_list[i].elem.bit_len;
		}
		var long_offset=ToInt32(act_offset/32);
		var tmp=ToInt32(act_len/32);
		var long_len=tmp;
		if ((tmp*32)!=act_len)
		{
			long_len++;
		}
			
		var desired_name=obj_descr.name+"_"+long_offset;
		var elem_length=4;
		if (obj_descr.num_elems>1)
		{
			desired_name+="_ARR";
			
		}
		var ind=real_mapped_vars_segm.indexOf(desired_name);
		if (ind==-1)
		{
			real_mapped_vars_segm[real_mapped_vars_segm.length]=desired_name;
			real_mapped_vars_descr[real_mapped_vars_descr.length]={fixed_path:obj_descr.descr,long_offset:long_offset,long_len:long_len,num_elems:obj_descr.num_elems};
			ind=real_mapped_vars_segm.length-1;
		}
		// modify the name to point to the correct variable
		mapped_var_list[i].elem.list[0].data=desired_name;
		mapped_var_list[i].elem.list[0].bit_offset=act_offset-long_offset*32;
		mapped_var_list[i].elem.list[0].bit_len=act_len;
		
		mapped_var_list[i].elem.map_var_index=ind;
	}
}


// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!   End Mapped Var Handling  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

var globals;



function findVarElem(ast,name)
{
	var i;
	if ((ast.enum_type==ELEM.VAR_REG)||(ast.enum_type==ELEM.VAR_ARR))
	{
		// check the variable name
		if (ast.name.toUpperCase()==name)
		{
			return ast;
		}
	}
	if (ast.list!=undefined)
	{
		for(i=0;i<ast.list.length;i++)
		{
			var res=findVarElem(ast.list[i],name);
			if (res!=null)
			{
				return res;
			}
		}
	}
	return null;
}

var arg_list=[];

/*function fillArgList(ast)
{
	var i;
	if (((ast.enum_type==ELEM.VAR_REG)||(ast.enum_type==ELEM.VAR_ARR))&&((ast.segm_link.type==token_types.VAR_INPUT)||(ast.segm_link.type==token_types.VAR_INOUT)))
	{
		arg_list[arg_list.length]=ast;
	}
	if (ast.list!=undefined)
	{
		for(i=0;i<ast.list.length;i++)
		{
			fillArgList(ast.list[i]);
		}
	}
	return;
	
	
}*/

function verifyFuncBlocks(ast)
{
	var i,j,k;
	for(k=0;k<ast.list[1].list.length;k++)
	{
		if (ast.list[1].list[k].enum_type==ELEM.FUNCT_BLOCK)
		{
			// check if all the function block arguments are listed in Input/in_out variables
			var fb=ast.list[1].list[k];
			for(i=0;i<fb.arg_list.list.length;i++)
			{
				var count=0;
				var found=false;
				for(j=0;j<fb.list[0].list.length;j++)
				{
					if ((fb.list[0].list[j].segm_type==token_types.VAR_INPUT)||(fb.list[0].list[j].segm_type==token_types.VAR_INOUT))
					{
						count++;
						if (fb.arg_list.list[i].toUpperCase()==fb.list[0].list[j].name.toUpperCase())
						{
							found=true;
							if (i!=0)
							{
								break;
							}
						}
					}
				}
				if ((i==0)&&(fb.arg_list.list.length!=count))
				{
					stopCompilation("Mismatch in number of parameters",fb);
				}
				if (found!=true)
				{
					stopCompilation("Missing parameter \""+fb.list[0].list[i]+"\"",fb);
				}
			}
		}
	}
}
		

// Main entry function
function process(ast)
{
	var i;
	var num_tasks_without_code=0;
	var num_tasks=0
	
	try
	{
      const_int_arr=[];
   // Perform AST-to-AST source level transformations	
		GOM.clearDVs();
		alias_list_names=[];
		alias_list_objs=[];
		enum_list=[];
		rt_mode_enabled=false;
        enum_vals=[];
        last_cos_var=0;

		globals=ast;

		eliminateGlobalVarSegments(ast);
		removeCommentOutBlocks(ast);
		
      replaceNegativeConstants(ast);		

		replaceLadderFunctionBlockCalls(ast);
		replaceForWithWhile(ast);
	
      preProcessEnums(ast);
      eliminateEnumVars(ast);
		preProcessFuncs(ast);
		
		globals.aliases={};
		globals.aliases.enum_type=ELEM.HMI;
		globals.aliases.list=alias_list_objs;

		
		eliminateEnumVars(ast.hmi);
		eliminateEnumVars(ast.aliases);
      

		processComplexExpressions(-1,ast,ast);
		
		// start adding mapped variables and linking data structures
			
		retain_var_curr_addr=0;
		mapped_special_vars_def_names=[];
		mapped_special_vars_def_objs=[];
		mapped_var_list=[];
		

		MAPPED_addIOVarSegms();
		
		var io_aliases=[];
		var prog_aliases=[];
		var alias_names_io=[];
		var alias_names_prog=[];
		// split aliases into 2 groups: IO/PLC aliases, program variables
		for(i=0;i<alias_list_objs.length;i++)
		{
			var first_elem=alias_list_objs[i].list[0].data;
			if (mapped_special_vars_def_names.indexOf(first_elem)!=-1)
			{
				io_aliases[io_aliases.length]=alias_list_objs[i];
				alias_names_io[alias_names_io.length]=alias_list_names[i];
			}
			else
			{
				prog_aliases[prog_aliases.length]=alias_list_objs[i];
				alias_names_prog[alias_names_prog.length]=alias_list_names[i];
			}
		}
		globals.aliases.list=prog_aliases;
		globals.aliases.io_aliases=io_aliases;
      
      convertOutputAssignToFuncCall(ast);


	  changeReadOutputsToFunctionCalls(ast);


		MAPPED_processVarSegm(ast);
		
		real_mapped_vars_segm=[];
		real_mapped_vars_descr=[];

		// Special variables segment is always mapped
		real_mapped_vars_segm[real_mapped_vars_segm.length]="SPECIAL_0";
		real_mapped_vars_descr[real_mapped_vars_descr.length]={fixed_path:[MAP_VAR.SPECIAL,0,1],long_offset:0,long_len:1,num_elems:1};

		
		/*var ind=mapped_special_vars_def_names.indexOf("PROG_RUNNING");
		addMappedVar({elem:null,ind:ind});*/
		extractAllcomplexVarElements(ast);
		createLongMappedVars();
		
		globals=ast;
		
		
		linkParent(globals);
		collapseVarSegmLists(globals);
		eliminateCommentsInVars(globals);
		verifyFuncBlocks(globals);
		
		
		
		appendReservedElements();
		
		computeRetainChecksum(globals);
		

		
		// mark task,structs variables appropriately
		for(i=0;i<globals.list[0].list.length;i++)
		{
			var elem_type=globals.list[0].list[i].type.data;
			var type=findFunctionBlock(globals,elem_type);
			if (type!=null)
			{
				if (type.task_function_block==true)
				{
					globals.list[0].list[i].segm_type=token_types.VAR_TASK;
					if (type.list[1].list.length<4) // standard task prologue without code
					{
						num_tasks_without_code++;
					}
					num_tasks++;
				}
				else if (type.STRUCT==true)
				{
					globals.list[0].list[i].type.STRUCT=true;
				}
			}
		}


		reArrangeVariablesDueToAlignment(globals);

		
		if ((num_tasks==1)&&(num_tasks_without_code==1))
		{
			// clean project -> stop boot project
			//GOM.addAjaxAction(ARGEE_misc_transf_func.StopProj);
			return {empty_proj:true};
		}

		appendFixedFunctionBlockVarsElements();
		extendFuncBlockAssignmentVars(globals);
		checkVarDuplicates(globals);
		globals=eliminateNegativeExpressiionStart(globals);
		checkFuncBlockNameConflicts();
		calcFunctBlockVarSizesAndOffsets(globals,0);
		
		
		linkElements(globals,globals);
		linkElements(globals,globals.hmi); // link HMI elements	
		
		linkElements(globals,globals.aliases); // link aliases elements	
		
		
		modifyTaskFunctions(globals);
		eliminateUnvisited(0);
		eliminateUnvisited(1);
		groupAndAllocMappedVars(globals);
		
		reorderIO_MappingTasks(ast);
		
		allocateGlobalVars();

		transformBitfieldAfterLinkingElements(globals);
		transformBitfieldAfterLinkingElements(globals.hmi);
		transformBitfieldAfterLinkingElements(globals.aliases);


		var_calc_hmi=false;
		computeVarSizes(globals);
		var_calc_hmi=true;
		computeVarSizes(globals.hmi);
		computeVarSizes(globals.aliases);
		var_calc_hmi=false;
		
		
		// recombine
		alias_list_names=[];
		alias_list_objs=[];
		for(i=0;i<io_aliases.length;i++)
		{
			alias_list_names[alias_list_names.length]=alias_names_io[i];	
			alias_list_objs[alias_list_objs.length]=io_aliases[i];
		}

		for(i=0;i<prog_aliases.length;i++)
		{
			alias_list_names[alias_list_names.length]=alias_names_prog[i];	
			alias_list_objs[alias_list_objs.length]=prog_aliases[i];
		}


		prepareFP_Ast(globals);
		
		

			
			
		//displayAST_Elem(0,globals,false);
		//printAST();
		//	DEB_elem_tree=DEB_CreateAstGlobMemoryMap(globals.list[0],[],0);
		//	DEB_ReorgVarDispTree(DEB_elem_tree);
			
		var reduced=flattenAndValidateExpressions(globals);
		createInitializerList(reduced);
		
		
		

		if (debug_console==true)
		{
			console.log("-----------------------After Process---------------------------");
			parse.quickPrintAST(reduced);
		}
		globals=reduced;
	}
	catch(e)
	{
		PARSE.setErrMsg(e);
		console.log("Error: "+(e.err_msg) + " in the program on line: "+ (parse.getTokenStartLine()+1));
		//var res_inner=this.document.getElementById("comp_res_id");
		//res_inner.innerHTML="Error: "+(e.err_msg) + " in the program on line: "+ (token_start_line+1);
		return null;
	}

	
	return reduced;
}

function getProcessedAst()
{
	return globals;
}


function collapseVarSegmLists(ast)
{
	var i,j;
	
	if (ast.enum_type==ELEM.VAR_SEGM_LIST)
	{
		var new_list=[];
		for(i=0;i<ast.list.length;i++)
		{
			for(j=0;j<ast.list[i].list.length;j++)
			{
				
				if (ast.list[i].type==token_types.VAR_INPUT)
				{
					if (ast.list[i].list[j].enum_type==ELEM.COMMENT_VAR)
					{
						ast.list[i].list[j].segm_type=ast.list[i].type;
					}
					else if ((isSimpleType(ast.list[i].list[j].type.data)==-1)||(ast.list[i].list[j].type.range_start!=undefined))
					{
						ast.list[i].list[j].segm_type=token_types.VAR_INOUT;
						ast.list[i].list[j].segm_link={type:token_types.VAR_INOUT};

					}
					else
					{
						ast.list[i].list[j].segm_type=token_types.VAR_INPUT;
					}
				}
				else
				{
					ast.list[i].list[j].segm_type=ast.list[i].type;
				}
				new_list[new_list.length]=ast.list[i].list[j];
			}
		}
		ast.list=new_list;
		ARGEE_nst_parse.setObjType(ast,"VAR_SEGM",ELEM.VAR_SEGM);
	}
	else
	{
		if (ast.list==undefined)
		{
		}
		else
		{
			for(i=0;i<ast.list.length;i++)
			{
				collapseVarSegmLists(ast.list[i]);
			}
		}
	}
}









var parse=ARGEE_nst_parse;


function createToFloatAST_Branch(ast)
{
	var obj=new Object();
	var i;
	parse.setObjType(obj,"TO_FLAT",ELEM.TO_FLOAT);
	obj.list=[ast];
	obj.fp=true;
	return obj;
}

function createToIntAST_Branch(ast)
{
	var obj=new Object();
	var i;
	parse.setObjType(obj,"TO_INT",ELEM.TO_INT);
	obj.list=[ast];
	return obj;
}

// returns value 0 -> op to change to, 1 -> if the result is FP or not
function changeToFP_Op(op)
{
	switch(op)
	{
		case token_types.PLUS: return         [token_types.F_ADD,          true];
		case token_types.MINUS: return        [token_types.F_SUB,          true];
		case token_types.MULT: return         [token_types.F_MULT,         true];
		case token_types.DIV: return          [token_types.F_DIV,          true];
		case token_types.EQ: return           [token_types.F_EQ,           false];
		case token_types.LESS_EQ: return      [token_types.F_LESS_EQ,      false];
		case token_types.NOT_EQ: return       [token_types.F_NOT_EQ,       false];
		case token_types.LESS: return         [token_types.F_LESS,         false];
		case token_types.BIGGER: return       [token_types.F_BIGGER,       false];
		case token_types.BIGGER_OR_EQ: return [token_types.F_BIGGER_OR_EQ, false];
	}
}

function prepareFP_Ast(ast)
{
	var i;
	if (ast.enum_type==ELEM.EXPR_VAR)
	{
		if ((ast.last_type.data=="REAL")||(ast.last_type.data=="RETAIN_REAL"))
		{
			if (GEN.getARM7_Mode()==true)
			{
				stopCompilation("This device doesn't support floating point functionality",ast);
			}
			ast.fp=true;
			ast.fp_convert=false;
		}
	}
	else if ((ast.enum_type==ELEM.ASSIGN)||
	   (ast.enum_type==ELEM.FUNC_BLOCK_VAR_ASSIGN))
	{
		for(i=0;i<ast.list.length;i++)
		{
			ast.list[i]=prepareFP_Ast(ast.list[i]);
		}
		if ((ast.list[0].fp==true)&&(ast.list[1].fp!=true))
		{
			ast.list[1]=createToFloatAST_Branch(ast.list[1]);
		}
		else if ((ast.list[0].fp!=true)&&(ast.list[1].fp==true))
		{
			ast.list[1]=createToIntAST_Branch(ast.list[1]);
		}
	}
	else if ((ast.enum_type==ELEM.FUNC)||(ast.enum_type==ELEM.FUNC_NO_RETURN))
	{
		var descr=ast.func_descr;
		if (ast.func_descr==null)
		{
			stopCompilation("Not a valid function",ast);
		}
		if (ast.func_descr.name=="LADDER_ASSIGN")
		{
			// ladder_assign can be hacked to store FP numbers
			// we use the fact that it blindly stores the 32 bit number into a destination 32 bit memory location and the 
			// floating point numbers are just values that are moved to "R0" after the expression evaluation.
			for(i=0;i<ast.list.length;i++)
			{
				ast.list[i]=prepareFP_Ast(ast.list[i]);
			}
			if ((ast.list[0].fp==true)&&(ast.list[1].fp!=true))
			{
				ast.list[1]=createToFloatAST_Branch(ast.list[1]);
			}
			else if ((ast.list[0].fp!=true)&&(ast.list[1].fp==true))
			{
				ast.list[1]=createToIntAST_Branch(ast.list[1]);
			} 
		}
      else if (ast.func_descr.name=="LADDER_ASSIGN_SPECIAL_FP")
      {
         // hack to allow mixed float/int copy using LADDER_ASSIGN
			for(i=0;i<ast.list.length;i++)
			{
				ast.list[i]=prepareFP_Ast(ast.list[i]);
			}
      }
		else
		{
			for(i=0;i<ast.list.length;i++)
			{
				ast.list[i]=prepareFP_Ast(ast.list[i]);
				if ((ast.list[i].fp==true)&&(descr.arg_types[i]!="REAL"))
				{
					ast.list[i]=createToIntAST_Branch(ast.list[i]);
				}
				else if ((ast.list[i].fp!=true)&&(descr.arg_types[i]=="REAL"))
				{
					ast.list[i]=createToFloatAST_Branch(ast.list[i]);
				}
			}
		}
	}
	else if (ast.enum_type==ELEM.EXPR)
	{
		var fp_found=false;
		for(i=0;i<ast.list.length;i++)
		{
			if (ast.list[i].enum_type!=ELEM.OP)
			{
				ast.list[i]=prepareFP_Ast(ast.list[i]);
				if (ast.list[i].fp!=undefined)
				{
					fp_found=true;
				}
			}
		}
		if (fp_found)
		{
			// convert all operands to FP
			for(i=0;i<ast.list.length;i++)
			{
				if (ast.list[i].enum_type!=ELEM.OP)
				{
					if (ast.list[i].fp==undefined)
					{
						ast.list[i]=createToFloatAST_Branch(ast.list[i]);
					}
				}
			}
			var result_floating_point=true;
			// modify operations to FP
			for(i=0;i<ast.list.length;i++)
			{
				if (ast.list[i].enum_type==ELEM.OP)
				{
					var res=changeToFP_Op(ast.list[i].data);
					if (res[1]==false)
					{
						result_floating_point=false;
					}
					ast.list[i].data=res[0];
					ast.list[i].str_type=parse.getOpName(ast.list[i].data);
				}
			}
			if (GEN.getARM7_Mode()==true)
			{
				stopCompilation("This device doesn't support floating point functionality",ast);
			}
			if (result_floating_point==false)
			{
				if (ast.fp!=undefined)
				{
					delete ast.fp;
				}

			}
			else
			{
				ast.fp=true;
			}
				
		}
	}
	else
	{
		if (ast.list==undefined)
		{
		}
		else
		{
			for(i=0;i<ast.list.length;i++)
			{
				ast.list[i]=prepareFP_Ast(ast.list[i]);
			}
		}
	}
	return ast;
}

// expressions should always starts with operand and not an operator. In case the first element is an operator (likely "-"). Add "0" as the first element of the expression
function eliminateNegativeExpressiionStart(ast)
{
	var i;
	var curr_value=0;
	var final_ast={},tmp_ast;
	if (ast.enum_type==ELEM.EXPR)
	{
		if ((ast.list[0].enum_type==ELEM.OP)&&(ast.list[0].data!=token_types.NOT))
		{
			i=0;
			final_ast.enum_type=ELEM.CONST;
			final_ast.data="0";
			final_ast.type_str="CONST";
			ast.list.splice(0,0,final_ast);
		}
	}
	if (ast.list==undefined)
	{
	}
	else
	{
		for(i=0;i<ast.list.length;i++)
		{
			ast.list[i]=eliminateNegativeExpressiionStart(ast.list[i]);
		}
	}
	return ast;
}

function execConstOp(op,arg1,arg2)
{
	switch(op)
	{
		case token_types.PLUS:return arg1+arg2;
		case token_types.MINUS:return arg1-arg2;
		case token_types.LESS:if (arg1<arg2){return 1;}else{return 0;}
		case token_types.LESS_EQ:if (arg1<=arg2){return 1;}else{return 0;}
		case token_types.NOT_EQ:if (arg1!=arg2){return 1;}else{return 0;}
		case token_types.EQ:if (arg1==arg2){return 1;}else{return 0;}
		case token_types.BIGGER:if (arg1>arg2){return 1;}else{return 0;}
		case token_types.BIGGER_OR_EQ:if (arg1>=arg2){return 1;}else{return 0;}
		case token_types.DIV:return (arg1/arg2)|0;
		case token_types.MULT:return (arg1*arg2);
		case token_types.AND:if ((arg1==1)&&(arg2==1)){return 1;}else{return 0;}
		case token_types.NOT:if (arg2==1){return 0;}else{return 1;}
		case token_types.OR:if ((arg1==1)||(arg2==1)){return 1;}else{return 0;}
	}
}

function shiftArr(arr,pos_start,pos_end)
{
	var i;
	for(i=pos_start;i<(pos_end-1);i++)
	{
		arr[i]=arr[i+1];
	}
	arr.splice(pos_end-1,1);
}



function eliminateConstantTrees_old(ast)
{
	var i;
	var curr_value=0;
	var final_ast={},tmp_ast;
	if (ast.enum_type==ELEM.EXPR)
	{
		i=0;
		// find the first operation
		if (ast.list[0].enum_type==ELEM.OP)
		{
			tmp_ast=eliminateConstantTrees(ast.list[1]); 
			if (tmp_ast.enum_type==ELEM.CONST)
			{
				curr_value=execConstOp(ast.list[0].data,0,parseInt(tmp_ast.data));
				final_ast.enum_type=ELEM.CONST;
				final_ast.data=""+curr_value;
				final_ast.type_str="CONST";
				ast.list[0]=final_ast;
				shiftArr(ast.list,1,ast.list.length);
				i=1;
			}
			else
			{
				ast.list[1]=tmp_ast;
				i=2;
			}
		}
		else
		{
			ast.list[0]=eliminateConstantTrees(ast.list[0]); 
			i=1;
		}
		
		/*var starting_elem=i;
		for(;i<ast.list.length;)
		{
			
			
		}*/
		
		
		// During the elimination of constants in expressions - make sure the division/mod is not performed when one part of the extended terms in the expression is not a constant
		var eliminate_extended=true;
		while(1)
		{
			if (i>=ast.list.length)
			{
				break;
			}
			if (ast.list[i].enum_type!=ELEM.OP)
			{
				stopCompilation("Not an operation",ast.list[i]);
			}
			tmp_ast=eliminateConstantTrees(ast.list[i+1]); 
			ast.list[i+1]=tmp_ast;
			if (((ast.list[i].data==token_types.DIV)||(ast.list[i].data==token_types.MOD)||(ast.list[i].data==token_types.MINUS))&&(i!=1))
			{
				eliminate_extended=false;
			}
			
			if ((eliminate_extended==true)&&(ast.list[i+1].enum_type==ELEM.CONST)&&(ast.list[i-1].enum_type==ELEM.CONST))
			{
				curr_value=execConstOp(ast.list[i].data,
				                      parseInt(ast.list[i-1].data),
									  parseInt(ast.list[i+1].data));
				final_ast.enum_type=ELEM.CONST;
				final_ast.data=""+curr_value;
				final_ast.type_str="CONST";
				ast.list[i-1]=final_ast;					  
				shiftArr(ast.list,i,ast.list.length);
				shiftArr(ast.list,i,ast.list.length);
			}
			else
			{
				i+=2;
			}
		}
		if (ast.list.length==1)
		{
			return ast.list[0];
		}
		else
		{
			return ast;
		}
	}
	else
	{
		if (ast.list==undefined)
		{
		}
		else
		{
			for(i=0;i<ast.list.length;i++)
			{
				ast.list[i]=eliminateConstantTrees(ast.list[i]);
			}
		}
		return ast;
	}
}



function varRearrangeCompareFunc(a,b)
{
	var type_ind_a=isSimpleType(a.type.data);
	var type_ind_b=isSimpleType(b.type.data);
	// data structures should be in the end
	if ((type_ind_a==-1)&&(type_ind_b!=-1))
	{
		return -1;
	}
	if ((type_ind_b==-1)&&(type_ind_a!=-1))
	{
		return 1;
	}
	
	
	// second allocate arrays (always integer number of 4 bytes)
	if ((a.type.range_start!=undefined)&&(b.type.range_start==undefined))
	{
		return 1;
	}
	if ((b.type.range_start!=undefined)&&(a.type.range_start==undefined))
	{
		return -1;
	}
	
	// deal with all other data types (4 byte data types appear first)
	if (simpleTypeSizesInBytes[type_ind_a]>simpleTypeSizesInBytes[type_ind_b])
	{
		return 1;
	}
	if (simpleTypeSizesInBytes[type_ind_a]<simpleTypeSizesInBytes[type_ind_b])
	{
		return -1;
	}
	
	if ((a.type.STRUCT==undefined)&&(b.type.STRUCT!=undefined))
	{
		return -1;
	}
	if ((a.type.STRUCT!=undefined)&&(b.type.STRUCT==undefined))
	{
		return 1;
	}

	
	// perform variable name comparison for equal variables
	if (a.name>b.name)
	{
		return -1;
	}
	if (a.name<b.name)
	{
		return 1;
	}

	
	return 0;
}

function reArrangeVariablesDueToAlignment(ast)
{
	var i;
	ast.list[0].list.sort(varRearrangeCompareFunc).reverse();
	for(i=0;i<ast.list[1].list.length;i++)
	{
		if ((ast.list[1].list[i].BITFIELD_FUNCT_BLOCK!=undefined)&&(ast.list[1].list[i].BITFIELD_FUNCT_BLOCK==true))
		{
		}
		else
		{
		    ast.list[1].list[i].list[0].list.sort(varRearrangeCompareFunc).reverse();	
		}
	}
}

function linkParent(ast)
{
	var i;
	if (ast.list==undefined)
	{
	}
	else
	{
		for(i=0;i<ast.list.length;i++)
		{
			ast.list[i].parent_node=ast;
			linkParent(ast.list[i]);
		}
	}
	
}

function checkVarDuplicates(ast)
{
	var i,j;
	if (ast.enum_type==ELEM.VAR_SEGM)
	{
		for(i=0;i<ast.list.length;i++)
		{
			for(j=0;j<ast.list.length;j++)
			{
				if ((i!=j)&&(ast.list[i].name==ast.list[j].name))
				{
					stopCompilation("Duplicate variable name",ast.list[i]);
				}
			}
		}
	}
	else
	{
		if (ast.list==undefined)
		{
		}
		else
		{
			for(i=0;i<ast.list.length;i++)
			{
				checkVarDuplicates(ast.list[i]);
			}
		}
	}
	
}

function findFunctionBlock(globals,name)
{
	var i;
	for(i=0;i<globals.list[1].list.length;i++)
	{
		
		if (((globals.list[1].list[i].enum_type==ELEM.FUNCT_BLOCK)||(globals.list[1].list[i].enum_type==ELEM.TASK))&&(globals.list[1].list[i].name.toUpperCase()==name.toUpperCase()))
		{
			return 	globals.list[1].list[i];
		}
	}
	return null;
}

// remove some function overhead and change that to a task overhead
function modifyTaskFunctions(globals)
{
	var i,j;
	for(i=0;i<globals.list[0].list.length;i++)
	{
		if (globals.list[0].list[i].segm_type==token_types.VAR_TASK)
		{
			var task=globals.list[0].list[i].type.link;
			if (task.task_modified!=undefined)
			{
				// we already processed that code
				continue;
			}
			task.task_modified=1;
			task.list[1].list.splice(task.list[1].list.length-1,1); // delete RETURN statement
			task.list[1].list.splice(1,1); // delete PREEMPTION_POINT statement
			var obj=new Object();
			parse.setObjType(obj,"STATEMENT_LIST",ELEM.STATEMENT_LIST);
			obj.list=[];
			for(j=1;j<task.list[1].list.length;j++)
			{
				obj.list[j-1]=task.list[1].list[j];
			}
			// add forced context switch
			var obj1=new Object();
			parse.setObjType(obj1,"ELEM_CONTEXT_SWITCH",ELEM.ELEM_CONTEXT_SWITCH);
			obj.list[obj.list.length]=obj1;
			
			// remove the newly created list from the task.list[1]
			task.list[1].list.splice(1);
			
			// add encapsulate the new statement list into "while(1)
			obj1=new Object();
			obj1.disable_trace=true;
			parse.setObjType(obj1,"WHILE",ELEM.WHILE);
			var obj2=new Object();
			parse.setObjType(obj2,"EXPR",ELEM.EXPR);
			var obj3=new Object();
			parse.setObjType(obj3,"CONST",ELEM.CONST);
			obj3.data="1";
			obj2.list=[obj3];
			obj1.list=[obj2];
			obj1.list[1]=obj;
			task.list[1].list[1]=obj1;
		}
	}
}

// convert function block var assignments to regular var assignments by concatinating 
// function block instance.ARGUMENT var
function extendFuncBlockAssignmentVars(ast)
{
	var i,j;
	if (ast.enum_type==ELEM.FUNC_BLOCK_CALL)
	{
		for(i=0;i<ast.list[1].list.length;i++)
		{
			if (ast.list[1].list[i].enum_type==ELEM.FUNC_BLOCK_VAR_ASSIGN)
			{
				for(j=0;j<ast.list[0].list.length;j++)
				{
					ast.list[1].list[i].list[0].list.splice(j,0,ast.list[0].list[j]);
				}
			}
		}
	}
	if (ast.list!=undefined)
	{
		for(i=0;i<ast.list.length;i++)
		{
			extendFuncBlockAssignmentVars(ast.list[i]);
		}
	}
}

var IO_SECT=
{
	INPUT:0,
	OUTPUT:1,
	DIAG:2,
	PARAM:3,
};

var mapped_var_list=[];

function mapped_var_compare(a,b)
{
	if (a.name=="MAPPING_TABLE")
	{
		return 1;
	}
	if (b.name=="MAPPING_TABLE")
	{
		return -1;
	}
	
	if ((a.mapping_elem==undefined)&&(b.mapping_elem!=undefined))
	{
		return 1;
	}
	if ((a.mapping_elem!=undefined)&&(b.mapping_elem==undefined))
	{
		return -1;
	}
	if ((a.mapping_elem==undefined)&&(b.mapping_elem==undefined))
	{
		if ((a.debug_hide==undefined)&&(b.debug_hide!=undefined))
		{
			return -1;
		}
		if ((a.debug_hide!=undefined)&&(b.debug_hide==undefined))
		{
			return 1;
		}
		var ret=varRearrangeCompareFunc(a,b);	
		if (ret==-1)
		{
			return 1;
		}
		else if (ret==1)
		{
			return -1;
		}
		return 0;
	}
	
	if (a.mapping_elem.fixed_path[0]<b.mapping_elem.fixed_path[0])
	{
		return -1;
	}
	if (a.mapping_elem.fixed_path[0]>b.mapping_elem.fixed_path[0])
	{
		return 1;
	}
	if (a.mapping_elem.fixed_path[0]==b.mapping_elem.fixed_path[0])
	{
		if ((a.mapping_elem.fixed_path.length>1)&&(a.mapping_elem.fixed_path[1]>b.mapping_elem.fixed_path[1]))
		{
			return -1;
		}
		else if ((a.mapping_elem.fixed_path.length>1)&&(a.mapping_elem.fixed_path[1]<b.mapping_elem.fixed_path[1]))
		{
			return 1;
		}
		else if ((a.mapping_elem.fixed_path.length>2)&&(a.mapping_elem.fixed_path[2]>b.mapping_elem.fixed_path[2]))
		{
			return -1;
		}
		else if ((a.mapping_elem.fixed_path.length>2)&&(a.mapping_elem.fixed_path[2]<b.mapping_elem.fixed_path[2]))
		{
			return 1;
		}
		else if (a.mapping_elem.long_offset<b.mapping_elem.long_offset)
		{
			return -1;
		}
		else if (a.mapping_elem.long_offset>b.mapping_elem.long_offset)
		{
			return 1;
		}
		else
		{
			return 0;
		}
	}
	
}	

var mapped_ranges=[];	

// CRC16	
var crcTable = [0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5,
0x60c6, 0x70e7, 0x8108, 0x9129, 0xa14a, 0xb16b,
0xc18c, 0xd1ad, 0xe1ce, 0xf1ef, 0x1231, 0x0210,
0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6,
0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c,
0xf3ff, 0xe3de, 0x2462, 0x3443, 0x0420, 0x1401,
0x64e6, 0x74c7, 0x44a4, 0x5485, 0xa56a, 0xb54b,
0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d,
0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6,
0x5695, 0x46b4, 0xb75b, 0xa77a, 0x9719, 0x8738,
0xf7df, 0xe7fe, 0xd79d, 0xc7bc, 0x48c4, 0x58e5,
0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823,
0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969,
0xa90a, 0xb92b, 0x5af5, 0x4ad4, 0x7ab7, 0x6a96,
0x1a71, 0x0a50, 0x3a33, 0x2a12, 0xdbfd, 0xcbdc,
0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a,
0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03,
0x0c60, 0x1c41, 0xedae, 0xfd8f, 0xcdec, 0xddcd,
0xad2a, 0xbd0b, 0x8d68, 0x9d49, 0x7e97, 0x6eb6,
0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70,
0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a,
0x9f59, 0x8f78, 0x9188, 0x81a9, 0xb1ca, 0xa1eb,
0xd10c, 0xc12d, 0xf14e, 0xe16f, 0x1080, 0x00a1,
0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067,
0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c,
0xe37f, 0xf35e, 0x02b1, 0x1290, 0x22f3, 0x32d2,
0x4235, 0x5214, 0x6277, 0x7256, 0xb5ea, 0xa5cb,
0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d,
0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447,
0x5424, 0x4405, 0xa7db, 0xb7fa, 0x8799, 0x97b8,
0xe75f, 0xf77e, 0xc71d, 0xd73c, 0x26d3, 0x36f2,
0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634,
0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9,
0xb98a, 0xa9ab, 0x5844, 0x4865, 0x7806, 0x6827,
0x18c0, 0x08e1, 0x3882, 0x28a3, 0xcb7d, 0xdb5c,
0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a,
0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0,
0x2ab3, 0x3a92, 0xfd2e, 0xed0f, 0xdd6c, 0xcd4d,
0xbdaa, 0xad8b, 0x9de8, 0x8dc9, 0x7c26, 0x6c07,
0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1,
0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba,
0x8fd9, 0x9ff8, 0x6e17, 0x7e36, 0x4e55, 0x5e74,
0x2e93, 0x3eb2, 0x0ed1, 0x1ef0];


function crc16(arr) 
{
    var crc = 0xFFFF;
    var j, i;


    for (i = 0; i < arr.length; i++) {

        c = arr[i];
        j = (c ^ (crc >> 8)) & 0xFF;
        crc = crcTable[j] ^ (crc << 8);
    }

    return ((crc ^ 0) & 0xFFFF);
}	

function computeRetainChecksum(ast)
{
	var jk=1;
	var arr=[];
	var uint32_arr=new Uint32Array(1);
	var i,j;
	var last_offset=0;
	for(i=0;i<ast.list[0].list.length;i++)
	{
		if (ast.list[0].list[i].retain_len!=undefined)
		{
			for(j=0;j<ast.list[0].list[i].name.length;j++)
			{
				arr[arr.length]=ast.list[0].list[i].name.charCodeAt(j);
			}
			// get size
			arr[arr.length]=(ast.list[0].list[i].retain_len>>>16)&0xff;
			arr[arr.length]=(ast.list[0].list[i].retain_len)&0xff;
			if (ast.list[0].list[i].retain_offset>last_offset)
			{
				last_offset=ast.list[0].list[i].retain_offset;
			}
		}
		
	}
	var nv_crc=crc16(arr);
	uint32_arr[0]=nv_crc;
	uint32_arr[0]<<=16;
	uint32_arr[0]|=last_offset;
	GOM.setObjNum("ARGEE_PROJ_NV_CHECKSUM",0,uint32_arr[0]);
	
	
	
}

function groupAndAllocMappedVars(ast)
{
	
	ast.list[0].list.sort(mapped_var_compare);
}


function appendReservedElements()
{
	var obj1;
		// Fixed elements -> rarely used in the user code
	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   // Preemption point
	obj1.name="PREEMPT_ARGEE";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.segm_link={type:token_types.VAR};
	obj1.type={type:ELEM.VAR_REG,data:"INT"};
	obj1.ctrl_elem=true;
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);

	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   // curr_task gets initialized to first_task. When the program starts it knows what is the first task -> no need to store it independently
	obj1.name="CURR_TASK";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.abs_addr=true;
	obj1.segm_link={type:token_types.VAR};
	obj1.type={type:ELEM.VAR_REG,data:"INT"};
	obj1.ctrl_elem=true;	
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);
	
	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   // Pointer to the function table
	obj1.name="PTR_TO_FUNCT_TBL";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.segm_link={type:token_types.VAR};
	obj1.type={type:ELEM.VAR_REG,data:"INT"};
	obj1.ctrl_elem=true;
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);

	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   // number elements in the function table
	obj1.name="FUNCT_TBL_LEN";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.segm_link={type:token_types.VAR};
	obj1.type={type:ELEM.VAR_REG,data:"INT"};
	obj1.ctrl_elem=true;
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);
	
	
	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
	obj1.name="SAVE_FP_CALLER";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.segm_link={type:token_types.VAR};
	obj1.type={type:ELEM.VAR_REG,data:"INT"};
	obj1.ctrl_elem=true;
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);

	
	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
	obj1.name="SAVE_LR_CALLER";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.segm_link={type:token_types.VAR};
	obj1.type={type:ELEM.VAR_REG,data:"INT"};
	obj1.ctrl_elem=true;
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);
	
	
	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
	obj1.name="SAVE_SP";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.segm_link={type:token_types.VAR};
	obj1.type={type:ELEM.VAR_REG,data:"INT"};
	obj1.ctrl_elem=true;
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);
	
	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
	obj1.name="SAVE_LR";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.segm_link={type:token_types.VAR};
	obj1.type={type:ELEM.VAR_REG,data:"INT"};
	obj1.ctrl_elem=true;
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);

	
	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
	obj1.name="INSTR_TRACE_TBL";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.segm_link={type:token_types.VAR};
	//obj1.type={type:ELEM.VAR_ARR,range_start:0,range_end:(nst_inst_trace_buf/4)-1, data:"INT"};
	obj1.type={type:ELEM.VAR_ARR,range_start:0,range_end:4+nst_inst_trace_buf-1, data:"BYTE",no_length:true};
	obj1.ctrl_elem=true;
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);

		
	
}


function appendFixedFunctionBlockVarsElements()
{
	var i;
	var obj1;
	var cnt=0;
	
	// append fixed elements to global variables


	


	var const_elems=parse.getConstElems();
	
	var const_num=const_elems[0];	
	var const_strings=const_elems[1];

	// addIO Mapped variables
	for(i=0;i<real_mapped_vars_segm.length;i++)
	{
		obj1=new Object();
		parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   // number elements in the function table
		obj1.name=real_mapped_vars_segm[i];
		obj1.segm_type=token_types.VAR;
		obj1.visited=true;
		obj1.segm_link={type:token_types.VAR};
		obj1.type={type:ELEM.VAR_REG,data:"INT"};
		obj1.debug_hide=true;
		obj1.mapping_elem=real_mapped_vars_descr[i];
		//real_mapped_vars_descr[i].var_elem=obj1;
		globals.list[0].list.splice(globals.list[0].list.length,0,obj1);
	}
	
	
	// add const floats/numbers
	for(i=0;i<const_num.length;i++)
	{
		obj1=new Object();
		parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
		obj1.name=const_num[i].name;
		obj1.segm_type=token_types.VAR;
		obj1.debug_hide=true;
		obj1.visited=true;
		obj1.segm_link={type:token_types.VAR};
		obj1.type={type:ELEM.VAR_REG, data:"REAL"};
		
		
		var obj_init=new Object();
		parse.setObjType(obj_init,"FUNC_BLOCK_VAR_ASSIGN",ELEM.FUNC_BLOCK_VAR_ASSIGN);
		obj_init.list=[];
		var obj3=new Object();
		parse.setObjType(obj3,"EXPR_VAR",ELEM.EXPR_VAR);
		obj3.list=[]
			
		var obj2=new Object;
		parse.setObjType(obj2,"CONST_INT",ELEM.CONST_INT);
		obj2.data=const_num[i].val;

		
		obj_init.list[0]=obj3;
		obj_init.list[1]=obj2;
		obj1.type.initialize_data=[];
		obj1.type.initialize_data[0]=obj_init;
		obj1.debug_hide=true;		
		globals.list[0].list.splice(globals.list[0].list.length,0,obj1);		
	}
	

	// add constant strings
	for(i=0;i<const_strings.length;i++)
	{
		obj1=new Object();
		parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
		obj1.name=const_strings[i].name;
		obj1.segm_type=token_types.VAR;
		obj1.visited=true;
		obj1.segm_link={type:token_types.VAR};
		obj1.type={type:ELEM.VAR_ARR,range_start:0,range_end:const_strings[i].val.length, data:"CHAR"};
		
		
		var obj_init=new Object();
		parse.setObjType(obj_init,"FUNC_BLOCK_VAR_ASSIGN",ELEM.FUNC_BLOCK_VAR_ASSIGN);
		obj_init.list=[];
		var obj3=new Object();
		parse.setObjType(obj3,"EXPR_VAR",ELEM.EXPR_VAR);
		obj3.list=[]
			
		var obj2=new Object;
		parse.setObjType(obj2,"CONST_STR",ELEM.CONST_STR);
		obj2.data=const_strings[i].val;

		
		obj_init.list[0]=obj3;
		obj_init.list[1]=obj2;
		obj1.type.initialize_data=[];
		obj1.type.initialize_data[0]=obj_init;
		obj1.debug_hide=true;
		globals.list[0].list.splice(globals.list[0].list.length,0,obj1);		
	}

	
	// add constant byte_arrays
	for(i=0;i<const_int_arr.length;i++)
	{
		obj1=new Object();
		parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
		obj1.name=const_int_arr[i].name;
		obj1.segm_type=token_types.VAR;
		obj1.visited=true;
		obj1.segm_link={type:token_types.VAR};
		obj1.type={type:ELEM.VAR_ARR,range_start:0,range_end:const_int_arr[i].val.length-1, data:const_int_arr[i].type};
		
		
		var obj_init=new Object();
		parse.setObjType(obj_init,"FUNC_BLOCK_VAR_ASSIGN",ELEM.FUNC_BLOCK_VAR_ASSIGN);
		obj_init.list=[];
		obj_init.elem_type_size=const_int_arr[i].elem_size;
		var obj3=new Object();
		parse.setObjType(obj3,"EXPR_VAR",ELEM.EXPR_VAR);
		obj3.list=[]
			
		var obj2=new Object;
		parse.setObjType(obj2,"CONST_INT_ARR",ELEM.CONST_INT_ARR);
		obj2.data=const_int_arr[i].val;

		
		obj_init.list[0]=obj3;
		obj_init.list[1]=obj2;
		obj1.type.initialize_data=[];
		obj1.type.initialize_data[0]=obj_init;
		obj1.debug_hide=true;
		globals.list[0].list.splice(globals.list[0].list.length,0,obj1);		
	}

	
	for(i=0;i<globals.list[1].list.length;i++)
	{
		if (globals.list[1].list[i].UDT!=true)
		{
			cnt=0;	
			obj1=new Object();
			parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);
			obj1.name="PC_RET";
			obj1.abs_addr=true;
			obj1.segm_type=token_types.VAR;
			obj1.segm_link={type:token_types.VAR};
			obj1.type={type:ELEM.VAR_REG,data:"INT"};
			obj1.visited=true;
			obj1.debug_hide=true;
			globals.list[1].list[i].list[0].list.splice(cnt,0,obj1);cnt++;
			obj1=new Object();
			parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);
			obj1.name="FP_RET";
			obj1.abs_addr=true;
			
			obj1.segm_type=token_types.VAR;
			obj1.segm_link={type:token_types.VAR};
			obj1.type={type:ELEM.VAR_REG,data:"INT"};
			obj1.visited=true;
			obj1.debug_hide=true;
			globals.list[1].list[i].list[0].list.splice(cnt,0,obj1);cnt++;
			obj1=new Object();
			parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);
			obj1.name="NEXT_TASK";
			obj1.abs_addr=true;
			obj1.segm_type=token_types.VAR;
			obj1.segm_link={type:token_types.VAR};
			obj1.type={type:ELEM.VAR_REG,data:"INT"};
			obj1.visited=true;
			obj1.debug_hide=true;
			globals.list[1].list[i].list[0].list.splice(cnt,0,obj1);cnt++;

			obj1=new Object();
			parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);
			obj1.name="FLAGS";
			obj1.abs_addr=true;
			obj1.segm_type=token_types.VAR;
			obj1.segm_link={type:token_types.VAR};
			obj1.type={type:ELEM.VAR_REG,data:"INT"};
			obj1.visited=true;
			obj1.debug_hide=true;
			globals.list[1].list[i].list[0].list.splice(cnt,0,obj1);cnt++;
		}
	}
	
	
	// Fixed elements -> rarely used in the user code

	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
	obj1.name="PROG_TRACE_TBL";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.segm_link={type:token_types.VAR};
	obj1.type={type:ELEM.VAR_ARR,range_start:0,range_end:(4+12*max_prog_traces)-1, data:"BYTE",no_length:true};
	obj1.debug_hide=true;	
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);
	
	
	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
	obj1.name="DIRECT_ASM_CALLS";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.segm_link={type:token_types.VAR};
	obj1.type={type:ELEM.VAR_ARR,range_start:0,range_end:99, data:"BYTE",no_length:true};
	obj1.debug_hide=true;	
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);

	
	obj1=new Object();
	parse.setObjType(obj1,"VAR_REG",ELEM.VAR_REG);   
	obj1.name="MAPPING_TABLE";
	obj1.segm_type=token_types.VAR;
	obj1.visited=true;
	obj1.segm_link={type:token_types.VAR};
	obj1.type={type:ELEM.VAR_ARR,range_start:0,range_end:100, data:"BYTE",no_length:true};
	obj1.debug_hide=true;	
	globals.list[0].list.splice(globals.list[0].list.length,0,obj1);



	
	
}

// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!  END   of Parser !!!!!!!!!!!!!!!!!!!!!!!
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


// find function blocks which are used.
function markVisited(ast)
{
	ast.visited=true;
	
	
}



function findFunctBlock(name)
{
	var i;
	for(i=0;i<globals.list[1].list.length;i++)
	{
		if (globals.list[1].list[i].name==name.toUpperCase())
		{
			return globals.list[1].list[i];
		}
	}
	return null;
}

// checks for collisions between global variables and variables of a function block
function checkFuncBlockNameConflicts()
{
	var i,j;
	var ast=globals;
	for(i=0;i<ast.list[1].list.length;i++)
	{
		for(j=0;j<ast.list[1].list.length;j++)
		{
			if ((i!=j)&&(ast.list[1].list[i].name==ast.list[1].list[j].name))
			{
				stopCompilation("Function block Name collision "+ast.list[1].list[i].name,ast.list[1].list[i]);
			}
		}
	}
}

/*function linkElements(ast)
{
	var i;
	var tasks=findTasks(ast);
	for(i=0;i<tasks.length;i++)
	{
		var task=tasks[i];
		task.visited=true;
		
		var assoc_func_block=findFinctBlock(ast,task.type.name);
		task.link=assoc_func_block;
		if (assoc_func_block.visited==false)
		{
			assoc_func_block.visited=true;
			linkFunctBlock(ast,assoc_func_block)
		}
	}
}*/

// Bits are combined together and mapped into words


function findVarSegmVar(var_segm,var_name)
{
	var i;
	var res;
	if (var_segm.list==undefined)
	{
		if (var_segm.name==var_name)
		{
			return var_segm;
		}
	}
	else
	{
		for(i=0;i<var_segm.list.length;i++)
		{
			res=findVarSegmVar(var_segm.list[i],var_name);
			if (res!=null)
			{
				return res;
			}
		}
	}
	return null;
}


function setVarSize(elem)
{
	var num_elems,name,pointer;
	var segm_type=elem.segm_link.type;
	var simp_type_index;
	
	name=elem.type.data;
	if (segm_type==token_types.VAR_INOUT)
	{
		pointer=true;
	}
	else
	{
		pointer=false;
	}
	
	
	
	if (elem.type.type==ELEM.VAR_REG)
	{
		num_elems=1;
	}
	else
	{
		// for now input/output variables can only be simple types and not arrays
		if ((segm_type==token_types.VAR_INPUT)||(segm_type==token_types.VAR_OUTPUT))
		{
			stopCompilation("Input or Output variables can not be arrays",elem);
		}
		// array variable
		num_elems=elem.type.range_end-elem.type.range_start+1;
	}
	//elem.offset=offset;
	if ((simp_type_index=isSimpleType(name))!=-1)
	{
		if (pointer==true)
		{
			elem.size=4;
		}
		else
		{
			if ((elem.type.range_end!=undefined)&&(elem.type.no_length!=true))
			{
				var act_block_size=(simpleTypeLinks[simp_type_index].var_size*num_elems)+4;
				var div=(act_block_size/4)|0;
				if ((div*4)!=act_block_size)
				{
					div++;
				}
				elem.size=div*4;
			}
			else
			{
				elem.size=simpleTypeLinks[simp_type_index].var_size*num_elems;
			}
		}
		elem.type.link=simpleTypeLinks[simp_type_index]
	}
	else
	{
		// for now input/output variables can only be simple types
		// InpOut variables can be pointers
		if ((segm_type==token_types.VAR_INPUT)||(segm_type==token_types.VAR_OUTPUT))
		{
			stopCompilation("Input or Output variables can not be data structures",elem);
		}

		
		var block=findFunctBlock(name);
		if (block==null)
		{
			stopCompilation("Function_Block "+name+" undefined",elem);
		}
		elem.type.link=block;
		if (block.calc_start==undefined)
		{
			calcFunctBlockVarSizesAndOffsets(block,0);
		}
		else if ((block.calc_start==true)&&(block.calc_end==false))
		{
			stopCompilation("recursive definition",elem);
		}
			
		if (pointer==true)
		{
			elem.size=4;
		}
		else
		{
			// array block always has 4 byte info element in the beginning - length of the array in number of elements
			// it also is padded with some bytes to keep the size multiple of 4
			if (elem.type.range_end!=undefined)
			{
				var act_block_size=(block.var_size*num_elems)+4;
				var div=(act_block_size/4)|0;
				if ((div*4)!=act_block_size)
				{
					div++;
				}
				elem.size=div*4;
			}
			else
			{
				elem.size=block.var_size*num_elems;
			}
		}
	}
	elem.is_pointer=pointer;
}

// Main program can also be treated as a function block because the list structure for the variables is the same.
function calcFunctBlockVarSizesAndOffsets(functBlock,curr_elem_offset)
{
	var i,j;
	if (functBlock.calc_start!=undefined)
	{
		if ((functBlock.calc_start==true)&&(functBlock.calc_end==false))
		{
			// recursive definition
			stopCompilation("recursive definition",functBlock);
		}
		if ((functBlock.calc_start==true)&&(functBlock.calc_end==true))
		{
			// no need to do anything because sizes/offsets are already calculated
			return;
		}
	}
	functBlock.calc_start=true;
	functBlock.calc_end=false;
	var bitfield_offset=32; // array header
	
	
	for(i=0;i<functBlock.list[0].list.length;i++)
	{
		functBlock.list[0].list[i].link=functBlock;
		if ((functBlock.BITFIELD_FUNCT_BLOCK!=undefined)&&(functBlock.BITFIELD_FUNCT_BLOCK==true))
		{
			var bit_size_str=functBlock.list[0].list[i].type.data.split("BITS_");
			var bit_size=parseInt(bit_size_str[1]);
			var num_elems=1;
			/*if (functBlock.list[0].list[i].type.range_end!=undefined)
			{
				num_elems=functBlock.list[0].list[i].type.range_end-functBlock.list[0].list[i].type.range_start+1;
				functBlock.list[0].list[i].type.no_length=true;
			}*/
			
			var div_fact=(bitfield_offset/32)|0;
			var remainder=bitfield_offset-(div_fact*32);
			functBlock.list[0].list[i].offset=(div_fact*4); 
			
			
			
			functBlock.list[0].list[i].bit_size=num_elems*bit_size;
			functBlock.list[0].list[i].bit_offset=remainder;
			bitfield_offset+=functBlock.list[0].list[i].bit_size;
			functBlock.list[0].list[i].type.link=simpleTypeLinks[0];
			functBlock.list[0].list[i].type.data="INT";
			functBlock.list[0].list[i].bitfield_element=true;
			
			//functBlock.list[0].list[i].size=4;
		}
		else
		{
			setVarSize(functBlock.list[0].list[i]);
			if (((curr_elem_offset%4)!=0)&&(functBlock.list[0].list[i].size>=4))
			{
				curr_elem_offset=(((curr_elem_offset/4)|0)+1)*4;
			}
			else if (((curr_elem_offset%2)!=0)&&(functBlock.list[0].list[i].size>=2))
			{
				curr_elem_offset=(((curr_elem_offset/2)|0)+1)*2;
			}
			functBlock.list[0].list[i].offset=curr_elem_offset;
			curr_elem_offset+=functBlock.list[0].list[i].size;
		}
	}
	
	var aligned_size=(curr_elem_offset/4)|0;
	if ((aligned_size*4)!=curr_elem_offset)
	{
		aligned_size++;
	}
	if ((functBlock.BITFIELD_FUNCT_BLOCK!=undefined)&&(functBlock.BITFIELD_FUNCT_BLOCK==true))
	{
		aligned_size=(bitfield_offset/32)|0;
		if ((aligned_size*32)!=bitfield_offset)
		{
			aligned_size++;
		}
		functBlock.act_byte_size=(bitfield_offset/8)|0;
		if ((functBlock.act_byte_size*8)!=bitfield_offset)
		{
			functBlock.act_byte_size++;
		}
		
	}
	functBlock.var_size=aligned_size*4;
	functBlock.calc_end=true;
}


var RESTRICT=
{
	REQ_RD:0,
	REQ_WR:1,
}


function eliminateUnvisited(type)
{
	var i;
	
	while(1)
	{
		var elim=false;	
		for(i=0;i<globals.list[type].list.length;i++)
		{
			if (globals.list[type].list[i].visited==undefined)
			{
				elim=true;
				globals.list[type].list.splice(i,1);
				break;
			}
		}
		if (elim==false)
		{
			break;
		}
	}
}

var VAR_REF=
{
	LOCAL:0,
	GLOBAL:1,
	POINTER:2, // pointer area is indicated by var_inout
	/*IO_BIT_PTR:4,*/
};

function linkVar(act_funct_block,func_block,elem,pos)
{
	var next_pos;
	
	
	if (elem.list[pos].enum_type==ELEM.EXPR_VAR_OFFSET)
	{
		return;
	}
	
	next_pos=pos+1;
	var var_name;

	var_name=elem.list[pos].data;
/*	if (var_name=="WAIT")
	{
		var jk=1;
	}
	*/
	if (func_block.list==undefined)
	{
		stopCompilation("Invalid variable access",elem);
	}
	var var_obj=findVarSegmVar(func_block.list[0],var_name);
	if (pos==0)
	{
		elem.var_ref_type=VAR_REF.LOCAL;
	}
		
	
	if ((var_obj==null)&&(pos==0))
	{
		var_obj=findVarSegmVar(globals.list[0],var_name);
		if (pos==0)
		{
			elem.var_ref_type=VAR_REF.GLOBAL;
		}
	}
	if (var_obj==null)
	{
		stopCompilation("Can't find variable \""+var_name+"\"",elem.list[pos]);
	}
	
	if (
	    ((var_obj.type.link.visited==undefined)||(var_obj.type.link.visited==false))&&
	    (var_obj.type.link.list.length>1)) 
	{
		// link referenced function block
		linkElements(var_obj.type.link,var_obj.type.link);
	}	
	
	if ((pos==0)&&(var_obj.is_pointer==true))
	{
		elem.var_ref_type=VAR_REF.POINTER;
	}
	elem.last_type=var_obj.type;
	elem.list[pos].link=var_obj;
	var_obj.visited=true;
	if (var_obj.type.link!=undefined)
	{
		var_obj.type.link.visited=true;
	}
	
	if ((elem.list.length>(pos+1))&&(elem.list[pos+1].enum_type==ELEM.EXPR_VAR_ARR_IND))
	{
		linkElements(act_funct_block,elem.list[pos+1].list[0]);
		next_pos++;
	}			
	if (elem.list.length>next_pos)
	{
		linkVar(act_funct_block,var_obj.type.link,elem,next_pos);
	}
	
	if (next_pos==(elem.list.length))
	{
		// once all the elements are linked - check if there are no in_out variables after the first one
		var i;
		var ref_elements=[];
		for(i=0;i<elem.list.length;i++)
		{
			if ((elem.list[i].link!=undefined)&&(elem.list[i].link.is_pointer==true))
			{
				ref_elements[i]=true;
			}
		}
		if ((ref_elements[elem.list.length-1]==true)&&(elem.list.length==2)&&(elem.parent_node.list[0]==elem)&&(elem.parent_node.enum_type==ELEM.FUNC_BLOCK_VAR_ASSIGN))
		{
		}
		else
		{
			for(i=1;i<elem.list.length;i++)
			{
				if ((elem.list[i].link!=undefined)&&(elem.list[i].link.is_pointer==true))
				{
					stopCompilation("Can not operate on nested var_inout - they should be used to assign VAR_INOUT function block elements only",elem.list[i]);
				}
			}
		}
		
		// check for all intermediate nodes - if a node is an array - it should be followed with an array_index element
		for(i=0;i<elem.list.length;i++)
		{
			if ((i<(elem.list.length-1))&&(elem.list[i].enum_type==ELEM.EXPR_VAR)&&(elem.list[i].link.enum_type==ELEM.VAR_ARR)&&(elem.list[i+1].enum_type!=ELEM.EXPR_VAR_ARR_IND))
			{
				stopCompilation("Array index missing",elem.list[i]);
			}
		}
		
	}
}



function linkElements(funct_block,elem)
{
	var i;
	switch(elem.enum_type)
	{
		case ELEM.PROGRAM:
		{
			for(i=0;i<globals.list[0].list.length;i++)
			{
				var gvar=globals.list[0].list[i];
				if (gvar.segm_type==token_types.VAR_TASK)
				{
					gvar.visited=true;
					var func_block=findFunctBlock(gvar.type.data);
					gvar.link=func_block;
					if (func_block.visited!=true)
					{
						linkElements(func_block,func_block);
					}
				}
			}
			break;
		}
		case ELEM.TASK:
		case ELEM.FUNCT_BLOCK:
		{
			funct_block.visited=true;
			for(i=0;i<elem.list[0].list.length;i++)
			{
				var var_obj=elem.list[0].list[i];
				if (
					((var_obj.type.link.visited==undefined)||(var_obj.type.link.visited==false))&&(var_obj.type.link.list!=undefined)&&	
					(var_obj.type.link.list.length>1)
					) 
				{
					// link referenced function block
					linkElements(var_obj.type.link,var_obj.type.link);
				}	
			}

			
			for(i=0;i<elem.list[1].list.length;i++)
			{
				linkElements(funct_block,elem.list[1].list[i]);
			}
			break;
		}
		case ELEM.EXPR_VAR:
		{
			linkVar(funct_block,funct_block,elem,0);
			break;	
		}
		case ELEM.FUNC_BLOCK_CALL:
		   // check if elem is part of funct_block variable list
		   // MainTask can treat global variables as its own
		   var i,found;
		   var task_vars=globals.list[0].list;
		   if (funct_block.name.toUpperCase()!="DEFAULT_TASK_1")
		   {
			   task_vars=funct_block.list[0].list;
		   }
		   found=false;
		   for(i=0;i<task_vars.length;i++)
		   {
			   if (task_vars[i].name.toUpperCase()==elem.data.toUpperCase())
			   {
				   found=true;
				   break;
			   }
		   }
		   
		   if ((found==false)&&(funct_block.name.toUpperCase()=="DEFAULT_TASK_1"))
		   {
			   task_vars=funct_block.list[0].list;
			   for(i=0;i<task_vars.length;i++)
			   {
				   if (task_vars[i].name.toUpperCase()==elem.data.toUpperCase())
				   {
					   found=true;
					   break;
				   }
			   }
		   }
		   
		   
		   if (found==false)
		   {
			   stopCompilation("Invoking a function block "+(elem.data) +" without creating an instance of it in "+funct_block.name,elem);
		   }
		   var jk1=1;
		default:
			if (elem.list!=undefined)
			{
				for(i=0;i<elem.list.length;i++)
				{
					linkElements(funct_block,elem.list[i]);
				}
			}
			break;
	}	
}	

var var_calc_hmi=false;

function transformBitfieldAfterLinkingElements(elem)
{
	var i;
	if (elem.enum_type==ELEM.EXPR_VAR)
	{
		var i;
		
		
		
		for(i=1;i<elem.list.length;i++)
		{
			
			// also handle the case where EXPR_VAR_OFFSET is present and is pointing from the bitfield begining 
			if ((elem.list[i].enum_type==ELEM.EXPR_VAR)&&(elem.list[i].link.bitfield_element!=undefined))
			{
				

				
				if ((i==(elem.list.length-2))&&(elem.list[i+1].enum_type==ELEM.EXPR_VAR_OFFSET))
				{
					var elem_offset=elem.list[i].link.bit_offset;
					elem.bit_len=elem.list[i+1].len;
					elem.list[i+1].offset=elem_offset+elem.list[i+1].offset;
					elem.bit_offset=elem.list[i+1].offset;
				}
				else
				{
					elem.bit_offset=elem.list[i].link.bit_offset;
					// create the EXPR_VAR_OFFSET element
					elem.bit_len=elem.list[i].link.bit_size;
					// bitfield element - transform to "INT" with bitoffset/len
					var obj1=new Object();
					// only one element after the dot -> bit position
					parse.setObjType(obj1,"EXPR_VAR_OFFSET",ELEM.EXPR_VAR_OFFSET);
					obj1.offset=elem.bit_offset;
					obj1.len=elem.list[i].link.bit_size;
					

					
					elem.list[elem.list.length]=obj1;
				}
				break;
			}
		}
		var jk1=1;
	}
	else
	{
		if (elem.list!=undefined)
		{
			for(i=0;i<elem.list.length;i++)
			{
				transformBitfieldAfterLinkingElements(elem.list[i]);
			}
		}
	}
}

function computeVarSizes(elem)
{
	var i;
	if (elem.enum_type==ELEM.EXPR_VAR)
	{
		var i;
		elem.ref_addr=elem.list[0].link.offset;
		elem.offset_list=[];
		
		var offset_c=0;
		for(i=1;i<elem.list.length;i++)
		{
			if (elem.list[i].enum_type==ELEM.EXPR_VAR)
			{
				offset_c+=elem.list[i].link.offset;
			}
			else if (elem.list[i].enum_type==ELEM.EXPR_VAR_ARR_IND)
			{
				if (elem.list[i-1].link.type.range_end==undefined)
				{
					stopCompilation("Scalar element can't be accessed as an array",elem);
				}
				computeVarSizes(elem.list[i].list[0]);
				// check after constant tree elimination -> the index is not a constant
				//var elem_tree=eliminateConstantTrees(elem.list[i].list[0]);
				var elem_tree=elem.list[i].list[0];
				var num=elem.list[i].list[0];
				if  ((elem_tree.enum_type==ELEM.CONST)&&(var_calc_hmi==true))
				{
					num=parseInt(elem_tree.data);
					if ((num>elem.list[i-1].link.type.range_end)||(elem<0))
					{
						stopCompilation("Index \""+num+"\" is outside array bounds",elem.list[i-1]);
					}
					offset_c+=4+elem.list[i-1].link.type.link.var_size*(num);
				}
				else
				{
					if (var_calc_hmi==true)
					{
						stopCompilation("can not address variable array index in HMI",elem.list[i]);
					}
					elem.offset_list[elem.offset_list.length]={offset:offset_c};
					elem.offset_list[elem.offset_list.length]={size:elem.list[i-1].link.type.link.var_size,num:num,max:elem.list[i-1].link.type.range_end};
					offset_c=0;
				}
			}
		}
		
		
		if (offset_c!=0)
		{
			elem.offset_list[elem.offset_list.length]={offset:offset_c};
		}
		if (elem.list[0].bit_offset!=undefined)
		{
			elem.offset_list[elem.offset_list.length]={bit_offset:elem.list[0].bit_offset,bit_len:elem.list[0].bit_len};			
		}
		if ((elem.list[0].bit_offset==undefined)&&(elem.bit_offset!=undefined))
		{
         elem.offset_list[elem.offset_list.length]={bit_offset:elem.bit_offset,bit_len:elem.bit_len};			
			//stopCompilation("can not use \".\" notation with program variables",elem);
		}
         
		/*if (elem.list[elem.list.length-1].enum_type==ELEM.EXPR_VAR_OFFSET)
		{
			elem.offset_list[elem.offset_list.length]={bit_offset:elem.list[elem.list.length-1].offset,bit_len:elem.list[elem.list.length-1].len};
		}*/
	}
	else
	{
		if (elem.list!=undefined)
		{
			for(i=0;i<elem.list.length;i++)
			{
				computeVarSizes(elem.list[i]);
			}
		}
	}
}


var constant_seg_pos=0;
var var_seg_pos=0;
var constants=[];



function findNumConstant(val)
{
	var i;
	for(i=0;i<constants.length;i++)
	{
		if (constants[i].val==val)
		{
			return constants[i];
		}
	}
	constants[constants.length]={val:val,offset:constant_seg_pos};
	constant_seg_pos+=4;
	return constants[constants.length-1];
}


var prog_start_offset=0;	

function encodeMapSegm(descr_arr)
{
	var i;
	var enc_val=0;
	for(i=0;i<descr_arr.length;i++)
	{
		enc_val<<=8;
		enc_val|=descr_arr[i]&0xff;
	}
	// pad to 4 bytes
	for(;i<4;i++)
	{
		enc_val<<=8;
	}
	return enc_val;
}

var map_data_start;

function compareMappedRangeElements(a,b)
{
	if (a.segm<b.segm)
	{
		return -1;
	}
	if (a.segm>b.segm)
	{
		return 1;
	}
	return 0;
}

var mapped_initializer=[];
var special_seg_addr;

function getSpecialSegAddr()
{
	return special_seg_addr;
}

function allocateGlobalVars()
{
	var i,j;
	var offset=0,curr;
	
	mapped_ranges=[];
	mapped_initializer=[];
	
	for(i=0;i<globals.list[0].list.length;i++)
	{

		if ((globals.list[0].list[i].size>=4)&&((offset%4)!=0))
		{
			var off_div=(offset/4)|0;
			offset=(off_div+1)*4;
		}
		else if ((globals.list[0].list[i].size>=2)&&((offset%2)!=0))
		{
			var off_div=(offset/2)|0;
			offset=(off_div+1)*2;
		}
		
		globals.list[0].list[i].offset=offset;
		
		
		
		if (globals.list[0].list[i].mapping_elem!=undefined)
		{
			if (globals.list[0].list[i].mapping_elem.fixed_path[0]==MAP_VAR.SPECIAL)
			{
				special_seg_addr=offset;
			}
			mapped_ranges[mapped_ranges.length]=
			{
				 segm:encodeMapSegm(globals.list[0].list[i].mapping_elem.fixed_path),
				 dst_long_offset:offset/4,
				 src_long_offset:globals.list[0].list[i].mapping_elem.long_offset,
				 src_byte_len:globals.list[0].list[i].mapping_elem.long_len*4,
			}
         
         if ((mapped_ranges[mapped_ranges.length-1].dst_long_offset>=256)||
             (mapped_ranges[mapped_ranges.length-1].src_long_offset>=256))
             {
                stopCompilation("\"Too many IO elements used\"",null);
             }
                
		}
		offset+=globals.list[0].list[i].size;
		
	}
	
	var new_mapped_ranges=[];
	// compress mapped ranges
	for(i=0;i<mapped_ranges.length;i++)
	{
		var start_range_ind=i;
		var end_range_ind=i;
		var curr_offset=mapped_ranges[start_range_ind].src_long_offset+(mapped_ranges[start_range_ind].src_byte_len/4)|0;
		for(j=i+1;j<mapped_ranges.length;j++,end_range_ind++)
		{
			if ((mapped_ranges[start_range_ind].segm==mapped_ranges[j].segm)&&(mapped_ranges[j].src_long_offset==curr_offset)&&
             (((curr_offset-mapped_ranges[start_range_ind].src_long_offset)*4)<250)) 
             // since only 1 byte is allocated to "number of bytes in range" - we need to make sure 
             // we need to make sure that ranges larger than 255 bytes are split up.
			{
				curr_offset=curr_offset+(mapped_ranges[j].src_byte_len/4)|0;
			}
			else
			{
				break;
			}
			
		}
		new_mapped_ranges[new_mapped_ranges.length]=clone(mapped_ranges[i]);
		new_mapped_ranges[new_mapped_ranges.length-1].src_byte_len=(curr_offset-mapped_ranges[start_range_ind].src_long_offset)*4;
		if (start_range_ind!=end_range_ind)
		{
			i=end_range_ind;
		}
	}
	mapped_ranges=clone(new_mapped_ranges);
	mapped_ranges.sort(compareMappedRangeElements);
	
	// segment mapped ranges
	var new_mapped_ranges=[];
	for(i=0;i<mapped_ranges.length;i++)
	{
		var start_range_ind=i;
		var end_range_ind=i;
		var curr_segm=mapped_ranges[start_range_ind].segm;
		for(j=i+1;j<mapped_ranges.length;j++,end_range_ind++)
		{
			if (mapped_ranges[start_range_ind].segm==mapped_ranges[j].segm)
			{
			}
			else
			{
				break;
			}
			
		}
		new_mapped_ranges[new_mapped_ranges.length]={};
		new_mapped_ranges[new_mapped_ranges.length-1].segm=curr_segm;
		new_mapped_ranges[new_mapped_ranges.length-1].elem_arr=[];
		var elem_arr_shortcut=new_mapped_ranges[new_mapped_ranges.length-1].elem_arr;
		for(j=start_range_ind;j<=end_range_ind;j++)
		{
			elem_arr_shortcut[elem_arr_shortcut.length]=clone(mapped_ranges[j]);
		}
		if (start_range_ind!=end_range_ind)
		{
			i=end_range_ind;
		}
	}
	
	curr=0;
	mapped_initializer[curr]=new_mapped_ranges.length;curr++; // element 0->#of unique segments
	for(i=0;i<new_mapped_ranges.length;i++)
	{
		appendNumToArrLE(mapped_initializer,curr,new_mapped_ranges[i].segm,4);curr+=4;
		mapped_initializer[curr]=new_mapped_ranges[i].elem_arr.length;curr++;
		for(j=0;j<new_mapped_ranges[i].elem_arr.length;j++)
		{
			mapped_initializer[curr]=new_mapped_ranges[i].elem_arr[j].dst_long_offset;curr++;
			mapped_initializer[curr]=new_mapped_ranges[i].elem_arr[j].src_long_offset;curr++;
			mapped_initializer[curr]=new_mapped_ranges[i].elem_arr[j].src_byte_len;curr++;
		}
	}
	var map_tbl=findVarElem(globals,"MAPPING_TABLE");
	var prev_size=map_tbl.type.range_end+1;
	map_tbl.type.range_end=mapped_initializer.length-1;
	map_tbl.size=mapped_initializer.length;
	offset-=prev_size;
	offset+=map_tbl.size;
	// create initializer element 
	var mapped_initArrayBuffer=new Uint8Array(mapped_initializer);
	map_tbl.initialize=mapped_initArrayBuffer.buffer;
	GOM.setObjNum("ARGEE_CTRL_IO_MAP_OFFSET",0,map_tbl.offset);
	
	var instr_trace=findVarElem(globals,"INSTR_TRACE_TBL");
	GOM.setObjNum("ARGEE_CTRL_INSTR_TRACE_OFFSET",0,instr_trace.offset);

	var prog_trace=findVarElem(globals,"PROG_TRACE_TBL");
	GOM.setObjNum("PROG_TRACE_TBL_SEG_OFFSET_OBJ",0,prog_trace.offset);
//GOM.setObjNum("PROG_TRACE_TBL_SEG_OFFSET_OBJ",0,0);
	
	
	var dir_asm_calls=findVarElem(globals,"DIRECT_ASM_CALLS");
	GOM.setObjNum("ARGEE_CTRL_DIRECT_ASM_CALL_SEGM_OFFSET",0,dir_asm_calls.offset);
	GOM.setObjNum("ARGEE_CTRL_INTERCYCLE_TIME",0,argee_interscan_delay);

	
	/*constant_seg_pos=offset;
	allocateConstants(globals);*/
	
	// make sure it is 4 byte aligned
	var aligned_offset=(offset/4)|0;
	if ((aligned_offset*4)!=offset)
	{
		aligned_offset++;
	}
	
	

	
	prog_start_offset=aligned_offset*4;
	GOM.setObjNum("ARGEE_CTRL_VAR_SEGM_SIZE",0,prog_start_offset);
}

function getProgStartOffset()
{
	return prog_start_offset;
}

function flattenAndValidateExpressions(ast)
{
	var i;
	if(ast.list==undefined)
	{
		return ast;
	}
	if ((ast.enum_type==ELEM.EXPR)&&(ast.list.length==1))
	{
		return flattenAndValidateExpressions(ast.list[0]);
	}
	else
	{
		for(i=0;i<ast.list.length;i++)
		{
			if ((ast.enum_type==ELEM.EXPR)&&(ast.list[i].enum_type==ELEM.EXPR_VAR))
			{
				if ((ast.list.length>1)&&(ast.list[i].enum_type==ELEM.EXPR_VAR)&&
				    (
				     ((ast.list[i].last_type.range_start!=undefined)&&
					  (ast.list[i].list[ast.list[i].list.length-1].enum_type!=ELEM.EXPR_VAR_ARR_IND))||
					(numericTypes.indexOf(ast.list[i].last_type.data)==-1)
					)
				   )
				{
					// make sure that we are not stopping due to bitfield in expression
					if ((ast.list.length>2)&&(numericTypes.indexOf(ast.list[i].last_type.data)!=-1)&&
					   (ast.list[i].last_type.range_start!=undefined)&&
					   (ast.list[i].list[ast.list[i].list.length-2].enum_type==ELEM.EXPR_VAR_ARR_IND)&&
					   (ast.list[i].list[ast.list[i].list.length-1].enum_type==ELEM.EXPR_VAR_OFFSET))
					   {
						   
					   }
					   else
					   {
							stopCompilation("Expression element is a pointer or structure",ast.list[i]);
					   }
				}
			}
			ast.list[i]=flattenAndValidateExpressions(ast.list[i]);
		}
		return ast;
	}
}

var initializerList=[];
function applyInitializers(dv)
{
	for(i=0;i<initializerList.length;i++)
	{
		switch(initializerList[i].type.link.var_size)
		{
			case 1:
				dv.setUint8(initializerList[i].offset,initializerList[i].val);
				break;
			case 2:
				dv.setUint16(initializerList[i].offset,initializerList[i].val,true);
				break;
			case 4:
				dv.setUint32(initializerList[i].offset,initializerList[i].val,true);
				break;
		}
	}
}

function arraySizeInitialize(ast,init_offset)
{
	var i,j;
	for(i=0;i<ast.list[0].list.length;i++)
	{
		if (ast.list[0].list[i].segm_type==token_types.VAR_INOUT)
		{
			continue;
		}
		
		
		if (ast.list[0].list[i].type.link.BITFIELD_FUNCT_BLOCK!=undefined)
		{
			var jk=1;
			initializerList[initializerList.length]={offset:init_offset+ast.list[0].list[i].offset,
				                                         type:{link:simpleTypeLinks[0]},
			val:((ast.list[0].list[i].type.link.act_byte_size-4))|((1)<<16)};
			

		}
		else if ((ast.list[0].list[i].type.range_end!=undefined)&&(ast.list[0].list[i].type.no_length!=true))
		{
	
		
         if (((ast.list[0].list[i].type.range_end+1)*ast.list[0].list[i].type.link.var_size)>(64*1024))
         {
            stopCompilation("Array larger than 64 kb",ast.list[0].list[i]);
         }
			initializerList[initializerList.length]={offset:init_offset+ast.list[0].list[i].offset,
				                                         type:{link:simpleTypeLinks[0]},
														 val:((ast.list[0].list[i].type.range_end+1)*ast.list[0].list[i].type.link.var_size)|((ast.list[0].list[i].type.link.var_size)<<16)};
			if (isSimpleType(ast.list[0].list[i].type.data)==-1)
			{
				// process child elements
				for(j=0;j<ast.list[0].list[i].type.range_end+1;j++)
				{
					arraySizeInitialize(ast.list[0].list[i].type.link,init_offset+ast.list[0].list[i].offset+4+ast.list[0].list[i].type.link.var_size*j);
				}
			}
		}
		else
		{
			if (isSimpleType(ast.list[0].list[i].type.data)==-1)
			{				
				arraySizeInitialize(ast.list[0].list[i].type.link,init_offset+ast.list[0].list[i].offset);				
			}
		}
	}
	
}

function createInitializerList(ast)
{
	var i,j,k;
	initializerList=[];
	arraySizeInitialize(ast,0);
	for(i=0;i<ast.list[0].list.length;i++)
	{
		if (ast.list[0].list[i].type.initialize_data!=undefined)
		{
			// initializers exist:
			for(j=0;j<ast.list[0].list[i].type.initialize_data.length;j++)
			{
				var obj=new Object();
				parse.setObjType(obj,"EXPR_VAR",ELEM.EXPR_VAR);
				obj.data=ast.list[0].list[i].name;
				ast.list[0].list[i].type.initialize_data[j].list[0].list.splice(0,0,obj);
				//ast.list[0].list[i].type.initialize_data[j].list[1]=eliminateConstantTrees(ast.list[0].list[i].type.initialize_data[j].list[1]);
				
				if ((ast.list[0].list[i].type.initialize_data[j].list[1].enum_type!=ELEM.CONST)&&(ast.list[0].list[i].type.initialize_data[j].list[1].enum_type!=ELEM.CONST_STR)&&(ast.list[0].list[i].type.initialize_data[j].list[1].enum_type!=ELEM.CONST_INT)&&(ast.list[0].list[i].type.initialize_data[j].list[1].enum_type!=ELEM.CONST_INT_ARR))
				{
					stopCompilation("Initializer value is not a constant or enumeration",ast.list[0].list[i].type.initialize_data[j].list[1]);
				}
					
				//ast.list[0].list[i].type.initialize_data[j].list[0]=eliminateConstantTrees(ast.list[0].list[i].type.initialize_data[j].list[0]);
				linkVar(ast,ast,ast.list[0].list[i].type.initialize_data[j].list[0],0);
				transformBitfieldAfterLinkingElements(ast.list[0].list[i].type.initialize_data[j].list[0]);
				
				computeVarSizes(ast.list[0].list[i].type.initialize_data[j].list[0]);
				// at this point offset-list should have one element and the second item should be a constant.
				var offset;
				offset=ast.list[0].list[i].type.initialize_data[j].list[0].ref_addr;
				for(k=0;k<ast.list[0].list[i].type.initialize_data[j].list[0].offset_list.length;k++)
				{
					if (ast.list[0].list[i].type.initialize_data[j].list[0].offset_list[k].offset==undefined)
					{
						if (ast.list[0].list[i].type.initialize_data[j].list[0].offset_list[k].num.enum_type!=ELEM.CONST)
						{
							stopCompilation("array index in the initializer not a constant",ast.list[0].list[i]);
						}
						var	index=parseInt(ast.list[0].list[i].type.initialize_data[j].list[0].offset_list[k].num.data);
						if (index>ast.list[0].list[i].type.initialize_data[j].list[0].offset_list[k].max)
						{
							stopCompilation("array index out of bounds in the initializer",ast.list[0].list[i]);	
						}
						offset+=4+
						          parseInt(ast.list[0].list[i].type.initialize_data[j].list[0].offset_list[k].num.data)*
						          ast.list[0].list[i].type.initialize_data[j].list[0].offset_list[k].size;
					}
					else
					{
						offset+=ast.list[0].list[i].type.initialize_data[j].list[0].offset_list[k].offset;
					}
					
				}
				
				if (ast.list[0].list[i].type.initialize_data[j].list[1].enum_type==ELEM.CONST_INT_ARR)
				{
					if ((ast.list[0].list[i].type.initialize_data[j].list[0].last_type.range_end)<(ast.list[0].list[i].type.initialize_data[j].list[1].data.length-1))
					{
						stopCompilation("Initialized array too long", ast.list[0].list[i].type.initialize_data[j].list[0]);
					}
					for(k=0;k<ast.list[0].list[i].type.initialize_data[j].list[1].data.length;k++)
					{
						initializerList[initializerList.length]={offset:4+offset+ast.list[0].list[i].type.initialize_data[j].elem_type_size*k,
															 type:ast.list[0].list[i].type.initialize_data[j].list[0].last_type,
															 val:ast.list[0].list[i].type.initialize_data[j].list[1].data[k]};
					}
				}
				else if (ast.list[0].list[i].type.initialize_data[j].list[1].enum_type==ELEM.CONST_STR)
				{
					if (ast.list[0].list[i].type.initialize_data[j].list[0].last_type.range_end<(ast.list[0].list[i].type.initialize_data[j].list[1].data.length))
					{
						stopCompilation("Initialized String too long", ast.list[0].list[i].type.initialize_data[j].list[0]);
					}
					for(k=0;k<ast.list[0].list[i].type.initialize_data[j].list[1].data.length;k++)
					{
						initializerList[initializerList.length]={offset:4+offset+k,
															 type:ast.list[0].list[i].type.initialize_data[j].list[0].last_type,
															 val:ast.list[0].list[i].type.initialize_data[j].list[1].data.charCodeAt(k)};
					}
					// null terminate
					initializerList[initializerList.length]={offset:4+offset+k,
															 type:ast.list[0].list[i].type.initialize_data[j].list[0].last_type,
															 val:0};
				}
				else
				{
					var val=parseInt(ast.list[0].list[i].type.initialize_data[j].list[1].data);
					initializerList[initializerList.length]={offset:offset,
															 type:ast.list[0].list[i].type.initialize_data[j].list[0].last_type,
															 val:val};
				}
				
			}
		}
	}
}



/*
function allocateConstants(elem)
{
	var i;
	if (elem.enum_type==ELEM.CONST)
	{
		elem.link=findNumConstant(parseInt(elem.data));
	}
	else
	{
		if (elem.list!=undefined)
		{
			for(i=0;i<elem.list.length;i++)
			{
				allocateConstants(elem.list[i]);
			}
		}
	}
}
*/



return {
	collapseVarSegmLists:collapseVarSegmLists,
	isSimpleType:isSimpleType,
	preProcessEnums:preProcessEnums,
   preProcessFuncs:preProcessFuncs,
	eliminateEnumVars:eliminateEnumVars,
   
	mapped_var_list:mapped_var_list,
	extractAllcomplexVarElements:extractAllcomplexVarElements,
	process:process,
	findVarElem:findVarElem,
	findFunctBlock:findFunctBlock,
	getProcessedAst:getProcessedAst,
	getProgStartOffset:getProgStartOffset,
	VAR_REF:VAR_REF,
	applyInitializers:applyInitializers,
	findBuiltInSpecialFunc:findBuiltInSpecialFunc,
	getSpecialSegAddr:getSpecialSegAddr,
	separateFunctionsAndFunctionBlocks:separateFunctionsAndFunctionBlocks,
	findBuiltInFunc:findBuiltInFunc,
	getEnumVal:getEnumVal,
	getEnumList:getEnumList,
	constructHMI_Map:constructHMI_Map,
	eliminateCommentsInVars:eliminateCommentsInVars,
	getAliasList:getAliasList,
   convertOutputAssignToFuncCall:convertOutputAssignToFuncCall,
	MAP_VAR:MAP_VAR,
   replaceNegativeConstants:replaceNegativeConstants,
   isRT_Enabled:isRT_Enabled,
}
}());

var PROCESS=ARGEE_nst_process;/********************************************************************************
	*
	* Copyright (c) 2016 by TUSA
	*
	********************************************************************************
	*
	*  Initial Author       : Roman Glistvain
	*  Maintainers          : Roman Glistvain
	*
	*
	********************************************************************************
	*
	*  DESCRIPTION: ARGEE Code Generator. Takes AST as an input and generates the code
	*               for each AST construct for one of the 2 architectures: ARM7 Thumb-1,
	*               Cortex M4.
	*
*******************************************************************************/

var ARGEE_nst_code_gen=(function()
	{ 
		
		var curr_enc_elem=null;
		
		// assume r3 -> global vars, r4 -> local function frame, r5 -> used for pointer vars, r6-> TMP register, R12 -> global mirror register
		
		var glob_var_reg=3; // r3
		var loc_funct_frame_reg=4; // r4
		var pointer_var_reg=5; //r5
		var tmp_reg=6; // r6 -> maybe 
		var glob_mirr_reg=11;
		
		var process=ARGEE_nst_process;
		var parse=ARGEE_nst_parse;
		var findVarElem=ARGEE_nst_process.findVarElem;
		var findFunctBlock=ARGEE_nst_process.findFunctBlock;
		var stopCompilation=ARGEE_nst_parse.stopCompilation;
		var ELEM=ARGEE_nst_parse.ELEM;
		var token_types=ARGEE_nst_parse.token_types;
		var VAR_REF=process.VAR_REF;
		var arm7_mode=true;
		function getARM7_Mode()
		{
			return arm7_mode;
		}
		// to determine if the device is ARM7 or not -> check the GW ID of the device. If it is BLCEN or FEN20-Med -> this is ARM7
		function setARM7_Mode(mode)
		{
			arm7_mode=mode;
		}
		
		
		//r7 -> current task frame
		
		var ASM_OP=
		{
			BRANCH:0,
			ADD:1,
			SUB:2,
			MUL:3,
			DIV:4,
			LDW:5,
			STW:6,
			AND:7,
			OR:8,
			// comparison OPs
			GT:9,  // >
			GE:10, // >=
			LT:11, // <
			LE:12, // <=
			EQ:13, // ==
			NE:14, // !=
			MOV:15,	
			CMP:16,
			B_LT:17,
			POP_PC:18,
			NEG:19,
			BL:20, // branch with link
			CBZ:21, // Conditional branch if Zero
			CBNZ:22,
			PUSH_CONSEQ_REGS:23,
			POP_CONSEQ_REGS:24,
			BLX:25,
			LDH:26,
			LDB:27,
			STH:28,
			STB:29,
			MLS:30,
			TO_INT:31,
			TO_FLOAT:32,
			F_PUSH:33,
			F_POP:34,
			F_ADD:35,
			F_SUB:36,
			F_DIV:37,
			F_MULT:38,
			
			F_GT:39,  // >
			F_GE:40, // >=
			F_LT:41, // <
			F_LE:42, // <=
			F_EQ:43, // ==
			F_NE:44, // !=
			F_MOV:45,
			
			REG_TO_FP:46,
			FP_TO_REG:47,
			UBFX:48,
			SBFX:49,
			BFI:50,
			LDW_FORCED_4_BYTE:51,
			STW_FORCED_4_BYTE:52,
			NOT:53,
			B_EQ:54,
			B_NE:55,
			LSL:56,
			LSR:57,
			BX:58,
			MOV_CONST_4BYTE:59,
			B_GE:60,
		};
		
		// always ITTE, COND
		var it_encoding=
		[
			{op:ASM_OP.GT,op1:ASM_OP.F_GT,enc:(0xbf<<8)|(0xd<<4)|(4<<0)|(0<<3),sign:">"},// Actual opcode is LE
			{op:ASM_OP.GE,op1:ASM_OP.F_GE,enc:(0xbf<<8)|(0xB<<4)|(4<<0)|(0<<3),sign:">="},// Actual opcode is LT
			{op:ASM_OP.LT,op1:ASM_OP.F_LT,enc:(0xbf<<8)|(0xA<<4)|(4<<0)|(1<<3),sign:"<"},// Actual opcode is GE
			{op:ASM_OP.LE,op1:ASM_OP.F_LE,enc:(0xbf<<8)|(0xC<<4)|(4<<0)|(1<<3),sign:"<="},// Actual opcode is GT
			{op:ASM_OP.EQ,op1:ASM_OP.F_EQ,enc:(0xbf<<8)|(0x1<<4)|(4<<0)|(0<<3),sign:"=="},// Actual opcode is NE
			{op:ASM_OP.NE,op1:ASM_OP.F_NE,enc:(0xbf<<8)|(0x0<<4)|(4<<0)|(1<<3),sign:"<>"},// Actual opcode is EQ
		];
		
		var b_cond_encoding=
		[
			{op:ASM_OP.GT,enc:(0xd<<12)|(0xC<<8),sign:">"},// Actual opcode is LE
			{op:ASM_OP.GE,enc:(0xd<<12)|(0xA<<8),sign:">="},// Actual opcode is LT
			{op:ASM_OP.LT,enc:(0xd<<12)|(0xB<<8),sign:"<"},// Actual opcode is GE
			{op:ASM_OP.LE,enc:(0xd<<12)|(0xD<<8),sign:"<="},// Actual opcode is GT
			{op:ASM_OP.EQ,enc:(0xd<<12)|(0x0<<8),sign:"=="},// Actual opcode is NE
			{op:ASM_OP.NE,enc:(0xd<<12)|(0x1<<8),sign:"<>"},// Actual opcode is EQ
		];   
		
		var conv_tmp=new ArrayBuffer(4);
		var conv_tmp_dv=new DataView(conv_tmp);
		
		var debug_asm=false;
		
		function inject_debug()
		{
			if (debug_asm==true)
			{
				encodeAsm1(ASM_OP.MOV,12,-1,-1,-1, rel_pc);
			}
		}
		
		function encodeAsm(op,r1,r2,r3,r4,imm)
		{
			encodeAsm1(op,r1,r2,r3,r4,imm);
			
		}
		
		
		function savePCForReturnFromOS()
		{
			encodeAsm(ASM_OP.MOV,15,7,-1,-1, null); // move PC to R7
		}
		
		// VAL : 0 -> WAIT, 1 -> PREEMPT, 2-> Exception
		function returnToOs(val,move_pc)
		{
			if (move_pc==true) // for WAIT statements the PC is copied into R7 before expression evaluation.
			{
				savePCForReturnFromOS();  // by design ARGEE preemption point and PC are inside the area which results in 2 byte instruction
			}
			encodeAsm(ASM_OP.MOV,2,-1,-1,-1,  val);   // R2:=VAL
			encodeAsm(ASM_OP.POP_PC,-1,-1,-1,-1,  null); // POP PC
		}
		
		// general format should work for all encodings
		
		var asm_descr=[];
		
		function addAsmDescr(pos,len, descr)
		{
			asm_descr[asm_descr.length]={pos:pos,len:len,descr:descr};
		}
		
		function genRegOp(dest_reg,reg1,reg2,op)
		{
			switch(op)
			{
				case token_types.PLUS:
				{
					encodeAsm(ASM_OP.ADD,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.MINUS:
				{
					encodeAsm(ASM_OP.SUB,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.LESS:
				{
					encodeAsm(ASM_OP.LT,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.LESS_EQ:
				{
					encodeAsm(ASM_OP.LE,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.NOT_EQ:
				{
					encodeAsm(ASM_OP.NE,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.EQ:
				{
					encodeAsm(ASM_OP.EQ,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.BIGGER:
				{
					encodeAsm(ASM_OP.GT,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.BIGGER_OR_EQ:
				{
					encodeAsm(ASM_OP.GE,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.DIV:
				{
					if (arm7_mode==true)
					{
						// dest reg is always r0, arguments are r0,r1
						encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(div_jump_addr)); 
					}
					else
					{
						encodeAsm(ASM_OP.DIV,reg1,reg2,dest_reg,-1,null);
					}
					break;
				}
				case token_types.MOD:
				{
					if (arm7_mode==true)
					{
						encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(mod_jump_addr)); 
					}
					else 
					{
						encodeAsm(ASM_OP.DIV,reg1,reg2,14,-1,null);
						encodeAsm(ASM_OP.MLS,reg1,14,reg2,dest_reg,null);
					}
					
					break;
				}
				case token_types.MULT:
				{
					if (dest_reg==reg1)
					{
						encodeAsm(ASM_OP.MUL,reg2,reg1,-1,-1,null);
					}
					else if (dest_reg==reg2)
					{
						encodeAsm(ASM_OP.MUL,reg1,reg2,-1,-1,null);
					}
					else
					{
						stopCompilation("3 register multiplication not supported",curr_enc_elem);
					}
					break;
				}
				
				
				case token_types.AND:
				{
					encodeAsm(ASM_OP.AND,reg2,dest_reg,-1,-1,null);
					break;
				}
				case token_types.NOT:
				encodeAsm(ASM_OP.NOT,reg1,dest_reg,-1,-1,null);
				break;
				
				case token_types.OR:
				{
					encodeAsm(ASM_OP.OR,reg2,dest_reg,-1,-1,null);
					break;
				}
				
				case token_types.F_ADD:
				{
					encodeAsm(ASM_OP.F_ADD,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.F_SUB:
				{
					encodeAsm(ASM_OP.F_SUB,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.F_MULT:
				{
					encodeAsm(ASM_OP.F_MULT,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.F_DIV:
				{
					encodeAsm(ASM_OP.F_DIV,reg1,reg2,dest_reg,-1,null);
					break;
				}
				
				case token_types.F_LESS:
				{
					encodeAsm(ASM_OP.F_LT,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.F_LESS_EQ:
				{
					encodeAsm(ASM_OP.F_LE,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.F_NOT_EQ:
				{
					encodeAsm(ASM_OP.F_NE,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.F_EQ:
				{
					encodeAsm(ASM_OP.F_EQ,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.F_BIGGER:
				{
					encodeAsm(ASM_OP.F_GT,reg1,reg2,dest_reg,-1,null);
					break;
				}
				case token_types.F_BIGGER_OR_EQ:
				{
					encodeAsm(ASM_OP.F_GE,reg1,reg2,dest_reg,-1,null);
					break;
				}
				
			}
		}
		
		function storeInstruction32Bit(pos,val)
		{
			var data=[];
			data[0]=(val>>>0)&0xff;
			data[1]=(val>>>8)&0xff;
			data[2]=(val>>>16)&0xff;
			data[3]=(val>>>24)&0xff;
			compiled_program_DataView.setUint8(pos+2,data[0]);
			compiled_program_DataView.setUint8(pos+3,data[1]);
			compiled_program_DataView.setUint8(pos+0,data[2]);
			compiled_program_DataView.setUint8(pos+1,data[3]);
		}
		
		function encodeAsm1(op,r1,r2,r3,r4,imm)
		{
			var tmp,i;
			switch(op)
			{
				case ASM_OP.UBFX:
				r4=r4-1;
				addAsmDescr(rel_pc,4,"UBFX (src)r"+r1+"(dst)r"+r2+"(lsb)"+r3+"(width)"+r4);
				//tmp=((r1)<<16)|((r3)<<8)|((r2)<<0)|(0xf<<12)|(251<<24);
				tmp=(0xf<<(12+16))|(0xf<<(6+16))|(r1<<16)|(r2<<8)|(((r3>>>2)&7)<<12)|((r3&3)<<6)|(r4&0x1f);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.BFI:
				addAsmDescr(rel_pc,4,"BFI (src)r"+r1+"(dst)r"+r2+"(lsb)"+r3+"(msbit)"+r4);
				//tmp=((r1)<<16)|((r3)<<8)|((r2)<<0)|(0xf<<12)|(251<<24);
				tmp=(0xf<<(12+16))|(0x3<<(8+16))|(0x3<<(5+16))|(r1<<16)|(r2<<8)|(((r3>>>2)&7)<<12)|((r3&3)<<6)|(r4&0x1f);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				
				case ASM_OP.TO_INT:
				addAsmDescr(rel_pc,4,"VCVT_TO_INT s"+r1+",s"+r1);
				tmp=(7<<(13+16))|(7<<(9+16))|(1<<(7+16))|(7<<(3+16))|(5<<16)|(5<<9)|(1<<6)|((r1&1)<<(16+6))|((r1&1)<<(5))|((r1>>>1)<<12)|((r1>>>1)<<0)|(1<<7);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				addAsmDescr(rel_pc,4,"r"+r2+":= s"+r1);
				tmp=(7<<(13+16))|(7<<(9+16))|(1<<(4+16))|(5<<9)|(1<<4)|((r1&1)<<(7))|((r1>>>1)<<16)|(r2<<12);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.TO_FLOAT:
				addAsmDescr(rel_pc,4,"s"+r2+":= r"+r1);
				tmp=(7<<(13+16))|(7<<(9+16))|(5<<9)|(1<<4)|((r2&1)<<(7))|((r2>>>1)<<16)|(r1<<12);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				addAsmDescr(rel_pc,4,"VCVT_TO_FLOAT s"+r2+",s"+r2);
				tmp=(7<<(13+16))|(7<<(9+16))|(1<<(7+16))|(7<<(3+16))|(0<<16)|(5<<9)|(1<<6)|((r2&1)<<(16+6))|((r2&1)<<(5))|((r2>>>1)<<12)|((r2>>>1)<<0)|(1<<7);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.REG_TO_FP:
				addAsmDescr(rel_pc,4,"s"+r2+":= r"+r1);
				tmp=(7<<(13+16))|(7<<(9+16))|(5<<9)|(1<<4)|((r2&1)<<(7))|((r2>>>1)<<16)|(r1<<12);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.FP_TO_REG:
				addAsmDescr(rel_pc,4,"r"+r2+":= s"+r1);
				tmp=(7<<(13+16))|(7<<(9+16))|(1<<(4+16))|(5<<9)|(1<<4)|((r1&1)<<(7))|((r1>>>1)<<16)|(r2<<12);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.F_ADD:
				addAsmDescr(rel_pc,4,"s"+r3+":= s"+r1+"+s"+r2);
				tmp=(7<<(13+16))|(7<<(9+16))|(3<<(4+16))|(5<<9)|((r3&1)<<(6+16))|((r3>>>1)<<12)|((r1&1)<<(7))|((r1>>>1)<<16)|((r2&1)<<(5))|((r2>>>1)<<0);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.F_SUB:
				addAsmDescr(rel_pc,4,"s"+r3+":= s"+r1+"-s"+r2);
				tmp=(7<<(13+16))|(7<<(9+16))|(3<<(4+16))|(5<<9)|(1<<6)|((r3&1)<<(6+16))|((r3>>>1)<<12)|((r1&1)<<(7))|((r1>>>1)<<16)|((r2&1)<<(5))|((r2>>>1)<<0);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.F_MULT:
				addAsmDescr(rel_pc,4,"s"+r3+":= s"+r1+"*s"+r2);
				tmp=(7<<(13+16))|(7<<(9+16))|(2<<(4+16))|(5<<9)|((r3&1)<<(6+16))|((r3>>>1)<<12)|((r1&1)<<(7))|((r1>>>1)<<16)|((r2&1)<<(5))|((r2>>>1)<<0);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.F_DIV:
				addAsmDescr(rel_pc,4,"s"+r3+":= s"+r1+"/s"+r2);
				tmp=(7<<(13+16))|(7<<(9+16))|(1<<(7+16))|(0<<(4+16))|(5<<9)|((r3&1)<<(6+16))|((r3>>>1)<<12)|((r1&1)<<(7))|((r1>>>1)<<16)|((r2&1)<<(5))|((r2>>>1)<<0);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.F_PUSH:
				addAsmDescr(rel_pc,4,"f_push s"+r1+","+imm);
				tmp=(7<<(13+16))|(3<<(10+16))|(1<<(8+16))|(1<<(5+16))|(0xD<<16)|(5<<9)|((r1&1)<<(6+16))|((r1>>>1)<<12)|(imm<<0);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.F_POP:
				addAsmDescr(rel_pc,4,"f_pop s"+r1+","+imm);
				tmp=(7<<(13+16))|(3<<(10+16))|(1<<(7+16))|(0xf<<(2+16))|(1<<16)|(5<<9)|((r1&1)<<(6+16))|((r1>>>1)<<12)|(imm<<0);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.F_MOV:
				addAsmDescr(rel_pc,4,"s"+r2+":=s"+r1);
				tmp=(7<<(13+16))|(7<<(9+16))|(1<<(7+16))|(3<<(4+16))|(5<<9)|(1<<6)|((r2&1)<<(6+16))|((r2>>>1)<<12)|((r1&1)<<(5))|((r1>>>1)<<0);
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				
				
				case ASM_OP.BLX:
				addAsmDescr(rel_pc,2,"BLX r"+r1);
				tmp=(0xF<<7)|(1<<14)|(r1<<3);
				compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				break;
				
				case ASM_OP.BX:
				addAsmDescr(rel_pc,2,"BX r"+r1);
				tmp=(0x7<<8)|(1<<14)|(r1<<3);
				compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				break;
				
				case ASM_OP.PUSH_CONSEQ_REGS:
				case ASM_OP.POP_CONSEQ_REGS:
				// assume we are only pushing and poping r0-r7
				var registers=0;
				for(i=r1;i<=r2;i++)
				{
					registers|=1<<i;
				}
				if (op==ASM_OP.PUSH_CONSEQ_REGS)
				{
					addAsmDescr(rel_pc,2,"push {r"+r1+"-r"+r2+"}");
					tmp=(0xB<<12)|(1<<10)|registers;
				}
				else
				{
					addAsmDescr(rel_pc,2,"pop {r"+r1+"-r"+r2+"}");
					tmp=(0xB<<12)|(1<<10)|(1<<11)|registers;
				}
				compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				break;
				case ASM_OP.CBNZ:
				// don't need to branch far -> can ignore "i"
				addAsmDescr(rel_pc,2,"CBNZ r"+r1+",PC+"+imm);
				imm>>=1;
				tmp=r1|(imm<<3)|(0xb<<12)|(9<<8);
				
				compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				break;
				
				case ASM_OP.CBZ:
				// don't need to branch far -> can ignore "i"
				addAsmDescr(rel_pc,2,"CBZ r"+r1+",PC+"+imm);
				imm>>=1;
				tmp=r1|(imm<<3)|(0xb<<12)|(1<<8);
				
				compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				break;
				case ASM_OP.BL:
				imm-=4;
				addAsmDescr(rel_pc,4,"BL PC+"+imm);
				conv_tmp_dv.setInt32(0,imm,true);
				var conv;
				conv=conv_tmp_dv.getUint32(0,true);
				conv>>=1;
				var S=0;
				if (imm<0)
				{
					S=1;
				}
				tmp=(conv&0x7ff)|(0x1f<<11)|(((conv>>>11)&0x3ff)<<16)|(S<<26)|(0xf<<28);
				
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				
				case ASM_OP.NEG:
				//r2:=-r1.
				tmp=(0x9<<6)|(1<<14)|(r1<<3)|r2;
				addAsmDescr(rel_pc,2,"NEG r"+r2+",r"+r1);
				compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				break;
				
				case ASM_OP.NOT:
				//r2:=~r1.
				tmp=(0x1<<14)|(0xf<<6)|(r1<<3)|r2;
				addAsmDescr(rel_pc,2,"r"+r2+":=~r"+r1);
				compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				break;
				
				
				case ASM_OP.POP_PC:
				tmp=(0xf<<10)|(1<<15)|(1<<8);
				addAsmDescr(rel_pc,2,"POP PC");
				compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				break;
				
				case ASM_OP.LSL:
				if (imm!=null)
				{
					tmp=(imm<<6)|(r1<<3)|(r2<<0);
					addAsmDescr(rel_pc,2,"r"+r2+":=r"+r1+"<<"+imm);
					compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				}
				else
				{
					tmp=(1<<14)|(1<<7)|(r1<<3)|(r2<<0);
					addAsmDescr(rel_pc,2,"r"+r2+":=r"+r2+"<<r"+r1);
					compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				}
				
				break;
				case ASM_OP.LSR:
				tmp=(1<<11)|(imm<<6)|(r1<<3)|(r2<<0);
				addAsmDescr(rel_pc,2,"r"+r2+":=r"+r1+">>"+imm);
				compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				break;
				
				
				case ASM_OP.CMP:
				if (imm!=null)
				{
					if ((imm<255)&&(imm>=0))
					{
						//CMP r1,imm
						tmp=imm|(r1<<8)|(5<<11);
						addAsmDescr(rel_pc,2,"CMP r"+r1+","+imm);
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
					}
					else
					{
						stopCompilation("Can not compare larger immediate values",curr_enc_elem);
					}
				}
				else
				{
					// CMP r1,r2
					tmp=(0x10A)<<6|(r1<<0)|(r2<<3);
					addAsmDescr(rel_pc,2,"CMP r"+r1+",r"+r2);
					compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				}
				break;
				case ASM_OP.MOV_CONST_4BYTE:
				//r1:=imm
				tmp=(0xf<<(12+16))|(9<<(6+16))|
			    (imm&0xff)|(r1<<8)|(((imm>>>8)&0x7)<<12)|(((imm>>>11)&1)<<26)|(((imm>>>12)&0xf)<<16);
				addAsmDescr(rel_pc,4,"r"+r1+":="+imm+";//"+imm.toString(16));
				storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
				break;
				case ASM_OP.MOV:
				if (imm!=null)
				{
					if ((imm<255)&&(imm>=0))
					{
						//r1:=imm
						tmp=imm|(r1<<8)|(1<<13);
						addAsmDescr(rel_pc,2,"r"+r1+":="+imm+";//"+imm.toString(16));
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
					}
					else if ((arm7_mode==false)&&((imm<65536)&&(imm>=0)))
					{
						//r1:=imm
						tmp=(0xf<<(12+16))|(9<<(6+16))|
					    (imm&0xff)|(r1<<8)|(((imm>>>8)&0x7)<<12)|(((imm>>>11)&1)<<26)|(((imm>>>12)&0xf)<<16);
						addAsmDescr(rel_pc,4,"r"+r1+":="+imm+";//"+imm.toString(16));
						storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
					}
					else
					{
						if (arm7_mode==true)
						{
							// Use literal pool
							if ((rel_pc%4)==0)
							{
								// LDR
								tmp=(0x9<<11)|(r1<<8)|(0);
								addAsmDescr(rel_pc,2,"LDR_LIT r"+r1);
								compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
								encodeAsm(ASM_OP.BRANCH,-1,-1,-1,-1,2);
								addAsmDescr(rel_pc,4,".lit="+imm);
								compiled_program_DataView.setUint32(rel_pc,imm,true);rel_pc+=4;	
							}
							else
							{
								// add nop -> Add r0,r0,0
								encodeAsm(ASM_OP.ADD,0,0,1,-1,0); 
								// LDR
								tmp=(0x9<<11)|(r1<<8)|(0);
								addAsmDescr(rel_pc,2,"LDR_LIT r"+r1);
								compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
								encodeAsm(ASM_OP.BRANCH,-1,-1,-1,-1,2);
								addAsmDescr(rel_pc,4,".lit="+imm);
								compiled_program_DataView.setUint32(rel_pc,imm,true);rel_pc+=4;	
							}
						}
						else
						{
							// use 2 instructions -> MOV and MOVT
							//r1:=imm
							// MOV
							var imm1=imm&0xffff;
							tmp=(0xf<<(12+16))|(9<<(6+16))|
						    (imm1&0xff)|(r1<<8)|(((imm1>>>8)&0x7)<<12)|(((imm1>>>11)&1)<<26)|(((imm1>>>12)&0xf)<<16);
							addAsmDescr(rel_pc,4,"LOW r"+r1+":="+imm1+";//"+imm.toString(16));
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
							//MOVT
							imm1=(imm>>>16)&0xffff;
							tmp=(0xf<<(12+16))|(11<<(6+16))|
						    (imm1&0xff)|(r1<<8)|(((imm1>>>8)&0x7)<<12)|(((imm1>>>11)&1)<<26)|(((imm1>>>12)&0xf)<<16);
							addAsmDescr(rel_pc,4,"HIGH r"+r1+":="+imm1+";//"+imm.toString(16));
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
					}
				}
				else
				{
					//r2:=r1
					
					
					addAsmDescr(rel_pc,2,"r"+r2+":=r"+r1);
					
					var D=0;
					if (r2>7)
					{
						D=1;
						r2=r2&0x7;
					}
					
					tmp=(r1<<3)|(r2<<0)|(3<<9)|(1<<14)|(D<<7);
					compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				}
				break;
				case ASM_OP.B_EQ:
				if ((imm>=-(128*2))&&(imm<=(127*2)))
				{
					// 2 byte form
					conv_tmp_dv.setInt32(0,imm,true);
					tmp=conv_tmp_dv.getUint32(0,true);
					tmp>>=1;
					tmp&=0xff;
					tmp|=0xd<<12;
					tmp|=0x0<<8;
					addAsmDescr(rel_pc,2,"B.EQ PC+"+imm);
					compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				}
				else
				{
					// 4 byte form
					stopCompilation("Long conditional branch is not yet implemented",curr_enc_elem);
				}
				break;			
				case ASM_OP.B_GE:
				if ((imm>=-(128*2))&&(imm<=(127*2)))
				{
					// 2 byte form
					conv_tmp_dv.setInt32(0,imm,true);
					tmp=conv_tmp_dv.getUint32(0,true);
					tmp>>=1;
					tmp&=0xff;
					tmp|=0xd<<12;
					tmp|=0xA<<8;
					addAsmDescr(rel_pc,2,"B.GE PC+"+imm);
					compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				}
				else
				{
					// 4 byte form
					stopCompilation("Long conditional branch is not yet implemented",curr_enc_elem);
				}
				break;			
				case ASM_OP.B_NE:
				if ((imm>=-(128*2))&&(imm<=(127*2)))
				{
					// 2 byte form
					conv_tmp_dv.setInt32(0,imm,true);
					tmp=conv_tmp_dv.getUint32(0,true);
					tmp>>=1;
					tmp&=0xff;
					tmp|=0xd<<12;
					tmp|=0x1<<8;
					addAsmDescr(rel_pc,2,"B.EQ PC+"+imm);
					compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				}
				else
				{
					// 4 byte form
					stopCompilation("Long conditional branch is not yet implemented",curr_enc_elem);
				}
				break;			
				
				case ASM_OP.B_LT:
				if ((imm>=-(128*2))&&(imm<=(127*2)))
				{
					// 2 byte form
					conv_tmp_dv.setInt32(0,imm,true);
					tmp=conv_tmp_dv.getUint32(0,true);
					tmp>>=1;
					tmp&=0xff;
					tmp|=0xd<<12;
					tmp|=0xb<<8;
					addAsmDescr(rel_pc,2,"B.LT PC+"+imm);
					compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				}
				else
				{
					// 4 byte form
					stopCompilation("Long branch(LT) is not yet implemented",curr_enc_elem);
				}
				break;			
				case ASM_OP.BRANCH:
				conv_tmp_dv.setInt32(0,imm,true);
				tmp=conv_tmp_dv.getUint32(0,true);
				
				if ((imm>=-2024)&&(imm<=2024))
				{
					// 2 byte form
					tmp>>=1;
					tmp&=0x7ff;
					tmp|=7<<13;
					addAsmDescr(rel_pc,2,"JMP PC+"+imm);
					compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
				}
				else
				{
					// 4 byte form
					// long jump not supported -> too much work to add vairable lebgth BL in While,If ....
					/*				 
						addAsmDescr(rel_pc,4,"JMP.W PC+"+imm);
						var tmp_new;
						tmp>>=1;
						if (imm<0)
						{
						tmp_new=((tmp&0x7ff)|((tmp>>>11)&0x3ff)<<16)|(0xf<<(12+16))|(1<<15)|(1<<12)|(1<<11)|(1<<13)|(1<<(10+16));
						}
						else
						{
						tmp_new=((tmp&0x7ff)|((tmp>>>11)&0x3ff)<<16)|(0xf<<(12+16))|(1<<15)|(1<<12);
						}					
						storeInstruction32Bit(rel_pc,tmp_new);rel_pc+=4;
					*/
					stopCompilation("Long branch is not yet implemented",curr_enc_elem);
					
				}
				break;
				case ASM_OP.ADD:
				if ((r1<8)&&(r2<8)&&(r3<8))
				{					
					if (imm!=null)
					{
						if ((imm<=7)&&(r2!=-1))
						{
							tmp=imm<<6;
							tmp|=(r1)<<3;
							tmp|=(r2)<<0;
							tmp|=0x7<<10;	
							addAsmDescr(rel_pc,2,"r"+r2+":=r"+r1+"+"+imm);
							compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	 
						}
						else if (imm<256)
						{
							tmp=imm;
							tmp|=(r1)<<8;
							tmp|=0x3<<12;	
							addAsmDescr(rel_pc,2,"r"+r1+":=r"+r1+"+"+imm);
							compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
						}
						else
						{
							// maybe it is an overkill (to use push/pop instruction) I might be OK with scratch register
							//addAsmDescr(rel_pc,8,"r"+r1+":=r"+r1+"+"+imm);
							encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,2,2,-1,-1,null); 
							encodeAsm1(ASM_OP.MOV,2,-1,-1,-1, imm);
							encodeAsm1(ASM_OP.ADD,r1,2,r2,-1, null);
							encodeAsm(ASM_OP.POP_CONSEQ_REGS,2,2,-1,-1,null); 
						}
					}
					else
					{				
						//r3:=r1+r2
						addAsmDescr(rel_pc,2,"r"+r3+":="+"r"+r1+"+r"+r2);
						tmp=r3;
						tmp|=(r1)<<3;
						tmp|=(r2)<<6;
						tmp|=0x3<<11;	
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
					}
				}
				else
				{
					if (imm!=null)
					{
						if (arm7_mode==true)
						{
							encodeAsm1(ASM_OP.MOV,2,-1,-1,-1, imm);
							encodeAsm1(ASM_OP.ADD,r1,2,r2,-1, null);
						}
						else
						{
							addAsmDescr(rel_pc,4,"r"+r2+":=r"+r1+"+"+imm);
							tmp=(((imm>>(3+8))&0x1)<<(10+16))|(((imm>>(8))&0x7)<<(12))|(imm&0xff)|(r2<<8)|(r1<<16)|(0xf<<(12+16))|(0x1<<(9+16));
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
					}
					else
					{
						stopCompilation("Not yet: LARGE Register Adds",curr_enc_elem);
					}
				}
				break;
				case ASM_OP.SUB:
				if ((r1<8)&&(r2<8)&&(r3<8))
				{
					if (imm!=null)
					{
						if (imm<256)
						{
							tmp=imm;
							tmp|=(r1)<<8;
							tmp|=0x7<<11;	
							addAsmDescr(rel_pc,2,"r"+r1+":="+"r"+r1+"-"+imm);
							compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
						}
						else
						{
							stopCompilation("Not yet: SUB with large immediate",curr_enc_elem);
						}
					}
					else
					{				
						//r3:=r1-r2
						tmp=r3;
						tmp|=(r1)<<3;
						tmp|=(r2)<<6;
						tmp|=0xd<<9;	
						addAsmDescr(rel_pc,2,"r"+r3+":="+"r"+r1+"-r"+r2);
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;	
					}
				}
				else
				{
					if (imm!=null)
					{
						stopCompilation("Not yet: SUB with large immediate",curr_enc_elem);
					}
					else
					{
						if (arm7_mode==false)
						{
							addAsmDescr(rel_pc,4,"r"+r3+":="+"r"+r1+"-r"+r2);
							tmp=(r3<<8)|(r1<<16)|(r2<<0)|(7<<(13+16))|(5<<(9+16))|(0xd<<(5+16));
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
						else
						{
							stopCompilation("Not Supported in SAM7-1",curr_enc_elem);
						}
						
					}
				}
				break;
				case ASM_OP.MUL:
				{
					if (r3!=-1)
					{
						if (arm7_mode==true)
						{
							stopCompilation("3 register multiplication not supported",curr_enc_elem);
						}
						else
						{
							// Always generate 32 bit version
							//r3:=r1*r2; (r1->rn)
							addAsmDescr(rel_pc,4,"r"+r3+":="+"r"+r1+"*r"+r2);
							tmp=((r1)<<16)|((r3)<<8)|((r2)<<0)|(0xf<<12)|(251<<24);
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
					}
					else
					{
						//r2:=r1*r2; 
						addAsmDescr(rel_pc,2,"r"+r2+":="+"r"+r1+"*r"+r2);		
						tmp=((r1)<<3)|((r2)<<0)|(0xd<<6)|(1<<14);
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					break;
				}
				case ASM_OP.DIV:
				{
					// only between registers
					// Always generate 32 bit version
					//r3:=r1/r2; (r1->rn)
					addAsmDescr(rel_pc,4,"r"+r3+":="+"r"+r1+"/r"+r2);
					tmp=((r1)<<16)|((r3)<<8)|((r2)<<0)|(0xf<<12)|(0xf<<4)|(4025<<20);
					storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
					break;
				}
				case ASM_OP.MLS:
				{
					addAsmDescr(rel_pc,4,"r"+r4+":=r"+r1+"-r"+r2+"*r"+r3);
					tmp=((r1)<<12)|((r2)<<16)|((r3)<<0)|(r4<<8)|(0xf<<(12+16))|(0xb<<(8+16))|(1<<4);
					storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
					break;
				}
				case ASM_OP.LDW_FORCED_4_BYTE:
				{
					if ((imm!=null)&&(imm>=4096))
					{
						stopCompilation("Too many global variables which are not function block instances > 4096 bytes");
					}
				}
				// fallthrough
				case ASM_OP.LDW:
				{
					if (imm!=null)
					{
						if ((((imm<128)&&(imm>=0))&&(r1<8)&&(r2<8))&&(op!=ASM_OP.LDW_FORCED_4_BYTE))
						{
							//r2:=r1[imm]
							var conv=imm>>>2;
							tmp=(r2<<0)|(r1<<3)|(conv<<6)|(0xd<<11);
							addAsmDescr(rel_pc,2,"r"+r2+":="+"r"+r1+"["+imm+"]");
							compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
						}
						else
						{
							//r2:=r1[imm]
							if ((arm7_mode==false)&&(imm<4096))
							{
								conv_tmp_dv.setInt32(0,imm,true);
								tmp=conv_tmp_dv.getUint32(0,true);
								tmp&=0xfff;
								tmp=((r1)<<16)|((r2)<<12)|(tmp)|(3981<<20);
								addAsmDescr(rel_pc,4,"r"+r2+":="+"r"+r1+"["+imm+"]");
								storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
							}
							else
							{	
								encodeAsm1(ASM_OP.MOV,2,-1,-1,-1, imm);
								encodeAsm1(ASM_OP.LDW,r1,2,r2,-1, null);
							}	
						}
					}
					else if (r3==-1)
					{
						//r2:=[r1]
						tmp=((r1)<<3)|((r2)<<0)|(0xf<<11);
						addAsmDescr(rel_pc,2,"r"+r2+":=[r"+r1+"]");
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					else  
					{
						//r3:=r1[r2]
						tmp=(r1<<3)|(r2<<6)|(r3<<0)|(0xb<<11);
						addAsmDescr(rel_pc,2,"r"+r3+":=r"+r1+"[r"+r2+"]");
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					break;
				}
				case ASM_OP.LDH:
				{
					if (imm!=null)
					{
						//r2:=r1[imm]
						if ((arm7_mode==false)&&(imm<4096))
						{
							conv_tmp_dv.setInt32(0,imm,true);
							tmp=conv_tmp_dv.getUint32(0,true);
							tmp&=0xfff;
							tmp=((r1)<<16)|((r2)<<12)|(tmp)|(3979<<20);
							addAsmDescr(rel_pc,4,"r"+r2+":="+"r"+r1+"["+imm+"].H");
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
						else
						{
							encodeAsm1(ASM_OP.MOV,2,-1,-1,-1, imm);
							encodeAsm1(ASM_OP.LDH,r1,2,r2,-1, null);
						}
					}
					else if (r3==-1)
					{
						//r2:=[r1]
						tmp=((r1)<<3)|((r2)<<0)|(0x11<<11);
						addAsmDescr(rel_pc,2,"r"+r2+":=[r"+r1+"].H");
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					else if ((r1<8)&&(r2<8)&&(r3<8))
					{
						//r3:=r1[r2]
						tmp=(r1<<3)|(r2<<6)|(r3<<0)|(0x2D<<9);
						addAsmDescr(rel_pc,2,"r"+r3+":=r"+r1+"[r"+r2+"].H");
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					else
					{
						if (arm7_mode==false)
						{
							//r3:=r1[r2]
							tmp=(r3<<12)|(r1<<16)|(r2<<0)|(0x1f<<(16+11))|(3<<(16+4));
							addAsmDescr(rel_pc,4,"r"+r3+":=r"+r1+"[r"+r2+"].H");
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
						else
						{
							stopCompilation("Not Supported in SAM7-2");
						}
					}
					
					break;
				}
				
				case ASM_OP.LDB:
				{
					if (imm!=null)
					{
						//r2:=r1[imm]
						if ((arm7_mode==false)&&(imm<4096))
						{
							conv_tmp_dv.setInt32(0,imm,true);
							tmp=conv_tmp_dv.getUint32(0,true);
							tmp&=0xfff;
							tmp=((r1)<<16)|((r2)<<12)|(tmp)|(0xf89<<20);
							addAsmDescr(rel_pc,4,"r"+r2+":="+"r"+r1+"["+imm+"].B");
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
						else
						{
							encodeAsm1(ASM_OP.MOV,2,-1,-1,-1, imm);
							encodeAsm1(ASM_OP.LDB,r1,2,r2,-1, null);
						}	
					}
					else if (r3==-1)
					{
						//r2:=[r1]
						tmp=((r1)<<3)|((r2)<<0)|(0xF<<11);
						addAsmDescr(rel_pc,2,"r"+r2+":=[r"+r1+"].B");
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					else  
					{
						//r3:=r1[r2]
						tmp=(r1<<3)|(r2<<6)|(r3<<0)|(0x17<<10);
						addAsmDescr(rel_pc,2,"r"+r3+":=r"+r1+"[r"+r2+"].B");
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					break;
				}
				
				case ASM_OP.STW_FORCED_4_BYTE:
				{
					if ((imm!=null)&&(imm>=4096))
					{
						stopCompilation("Too many global variables which are not function block instances > 4096 bytes");
					}
				}
				// fallthrough
				case ASM_OP.STW:
				{
					if (imm!=null)
					{
						if (((imm<128)&&(imm>=0))&&(r1<8)&&(r2<8)&&(op!=ASM_OP.STW_FORCED_4_BYTE))
						{
							//r2[imm]:=r1
							var conv=imm>>>2;
							tmp=(r2<<3)|(r1<<0)|(conv<<6)|(3<<13);
							addAsmDescr(rel_pc,2,"r"+r2+"["+imm+"]:=r"+r1);
							compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
						}
						else
						{
							//r2[imm]:=r1
							if ((arm7_mode==false)&&(imm<4096))
							{
								conv_tmp_dv.setInt32(0,imm,true);
								tmp=conv_tmp_dv.getUint32(0,true);
								tmp&=0xfff;
								tmp=((r2)<<16)|((r1)<<12)|(tmp)|(3980<<20);
								addAsmDescr(rel_pc,4,"r"+r2+"["+imm+"]:=r"+r1);
								storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
							}
							else
							{
								encodeAsm1(ASM_OP.MOV,2,-1,-1,-1, imm);
								encodeAsm1(ASM_OP.STW,r2,2,r1,-1, null);
							}
						}
					}
					else if (r3==-1)
					{
						//[r2]:=r1
						addAsmDescr(rel_pc,2,"[r"+r2+"]:=r"+r1);
						tmp=((r2)<<3)|((r1)<<0)|(0xC<<11);
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					else 
					{
						//r1[r2]:=r3
						addAsmDescr(rel_pc,2,"r"+r1+"[r"+r2+"]:="+"r"+r3);
						tmp=(r1<<3)|(r2<<6)|(r3<<0)|(0x5<<12);
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					
					break;
				}
				
				case ASM_OP.STH:
				{
					if (imm!=null)
					{
						//r2[imm]:=r1
						if ((arm7_mode==false)&&(imm<4096))
						{
							conv_tmp_dv.setInt32(0,imm,true);
							tmp=conv_tmp_dv.getUint32(0,true);
							tmp&=0xfff;
							tmp=((r2)<<16)|((r1)<<12)|(tmp)|(0xF8a<<20);
							addAsmDescr(rel_pc,4,"r"+r2+"["+imm+"].H:=r"+r1);
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
						else
						{
							encodeAsm1(ASM_OP.MOV,2,-1,-1,-1, imm);
							encodeAsm1(ASM_OP.STH,r2,2,r1,-1, null);
						}
					}
					else if (r3==-1)
					{
						//[r2]:=r1
						addAsmDescr(rel_pc,2,"[r"+r2+"].H:=r"+r1);
						tmp=((r2)<<3)|((r1)<<0)|(0x1<<15);
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					else if ((r1<8)&&(r2<8)&&(r3<8))
					{
						//r1[r2]:=r3
						addAsmDescr(rel_pc,2,"r"+r1+"[r"+r2+"].H:="+"r"+r3);
						tmp=(r1<<3)|(r2<<6)|(r3<<0)|(0x29<<9);
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					else 
					{
						if (arm7_mode==false)
						{	
							//r1[r2]:=r3
							tmp=(r3<<12)|(r1<<16)|(r2<<0)|(0x1f<<(16+11))|(2<<(16+4));
							addAsmDescr(rel_pc,4,"r"+r1+"[r"+r2+"].H:="+"r"+r3);
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
						else
						{
							stopCompilation("Not Supported in SAM7-3");
						}
					}
					
					break;
				}
				
				case ASM_OP.STB:
				{
					if (imm!=null)
					{
						if ((arm7_mode==false)&&(imm<4096))
						{
							//r2[imm]:=r1
							conv_tmp_dv.setInt32(0,imm,true);
							tmp=conv_tmp_dv.getUint32(0,true);
							tmp&=0xfff;
							tmp=((r2)<<16)|((r1)<<12)|(tmp)|(0xF88<<20);
							addAsmDescr(rel_pc,4,"r"+r2+"["+imm+"].B:=r"+r1);
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
						else
						{
							encodeAsm1(ASM_OP.MOV,2,-1,-1,-1, imm);
							encodeAsm1(ASM_OP.STB,r2,2,r1,-1, null);
						}
					}
					else if (r3==-1)
					{
						//[r2]:=r1
						addAsmDescr(rel_pc,2,"[r"+r2+"].B:=r"+r1);
						tmp=((r2)<<3)|((r1)<<0)|(0x7<<12);
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					else
					{
						//r1[r2]:=r3
						addAsmDescr(rel_pc,2,"r"+r1+"[r"+r2+"].B:="+"r"+r3);
						tmp=(r1<<3)|(r2<<6)|(r3<<0)|(0x15<<10);
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
					}
					break;
				}
				
				
				case ASM_OP.AND:
				{
					if (imm==null)
					{
						if ((r1<8)&&(r2<8)&&(r3<8))
						{
							tmp=(1<<14)|(r1<<3)|(r2<<0);
							addAsmDescr(rel_pc,2,"r"+r2+":="+"r"+r2+" AND "+"r"+r1);
							compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
						}
						else
						{	
							tmp=(r3<<8)|(r1<<0)|(r2<<16)|(117<<25);
							addAsmDescr(rel_pc,4,"r"+r3+":="+"r"+r1+" AND r"+r2);
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
					}
					else
					{
						if (arm7_mode==false)
						{
							tmp=(r2<<8)|(r1<<16)|(((imm>>(8+3))&1)<<(10+16))|(((imm>>>8)&0x7)<<(12))|(((imm)&0xff)<<(0))|(0xf<<(16+12));
							addAsmDescr(rel_pc,4,"r"+r2+":="+"r"+r1+" AND "+imm);
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
						else
						{
							stopCompilation("Not yet: AND with  immediate");
						}
					}
					break;
				}
				case ASM_OP.OR:
				{
					if (imm==null)
					{
						if ((r1<8)&&(r2<8)&&(r3<8))
						{
							addAsmDescr(rel_pc,4,"r"+r2+":="+"r"+r2+" OR "+"r"+r1);
							tmp=(1<<14)|(3<<8)|(r1<<3)|(r2<<0);
							compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
						}
						else
						{
							addAsmDescr(rel_pc,4,"r"+r3+":="+"r"+r1+" OR r"+r2);
							tmp=(r3<<8)|(r1<<0)|(r2<<16)|(3748<<20);
							storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
						}
					}
					else
					{	
						stopCompilation("Not yet: OR with  immediate");
					}
					break;
				}
				case ASM_OP.F_GT:
				case ASM_OP.F_GE:
				case ASM_OP.F_LT:
				case ASM_OP.F_LE:
				case ASM_OP.F_EQ:
				case ASM_OP.F_NE:
				{
					// r3:=s1>s2
					addAsmDescr(rel_pc,4,"f_cmp s"+r1+",s"+r2);
					tmp=(7<<(13+16))|(7<<(9+16))|(1<<(7+16))|(0xd<<(2+16))|(5<<9)|(1<<6)|((r1&1)<<(6+16))|((r1>>>1)<<12)|((r2&1)<<(5))|((r2>>>1)<<0);
					storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
					addAsmDescr(rel_pc,4,"VMRS");
					tmp=(7<<(13+16))|(7<<(9+16))|(1<<(16))|(0xF<<(4+16))|(5<<9)|(1<<4)|(0xf<<12);
					storeInstruction32Bit(rel_pc,tmp);rel_pc+=4;
					for(i=0;i<it_encoding.length;i++)
					{
						if (it_encoding[i].op1==op)
						{
							addAsmDescr(rel_pc,6,"r"+r3+":="+"r"+r1+it_encoding[i].sign+"r"+r2);
							compiled_program_DataView.setUint16(rel_pc,it_encoding[i].enc,true);rel_pc+=2;
							tmp=(1<<13)|(r3<<8)|0;
							compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
							tmp=(1<<13)|(r3<<8)|1;
							compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
							return;
						}
					}
					break;
				}
				
				
				
				case ASM_OP.GT:
				case ASM_OP.GE:
				case ASM_OP.LT:
				case ASM_OP.LE:
				case ASM_OP.EQ:
				case ASM_OP.NE:
				{
					// r3:=r1>r2
					if (arm7_mode==true)
					{
						encodeAsm1(ASM_OP.MOV,tmp_reg,-1,-1,-1, 1); // R6:=1
						encodeAsm1(ASM_OP.CMP,r1,r2,-1,-1, null); // CMP R1,R2
						for(i=0;i<b_cond_encoding.length;i++)
						
						{
							if (b_cond_encoding[i].op==op)
							{
								addAsmDescr(rel_pc,2,"b_cond "+b_cond_encoding[i].sign+",2");
								compiled_program_DataView.setUint16(rel_pc,b_cond_encoding[i].enc,true);rel_pc+=2;
								encodeAsm1(ASM_OP.MOV,tmp_reg,-1,-1,-1, 0); // R6:=0
								encodeAsm1(ASM_OP.MOV,tmp_reg,r3,-1,-1, null); // R3:=R6
								return;
							}
						}
						stopCompilation("Invalid compare instruction");				
					}
					else
					{
						addAsmDescr(rel_pc,2,"CMP r"+r1+","+"r"+r2);
						tmp=(r1<<0)|(r2<<3)|(5<<7)|(1<<14);  // CMP R1,R2
						compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
						for(i=0;i<it_encoding.length;i++)
						{
							if (it_encoding[i].op==op)
							{
								addAsmDescr(rel_pc,6,"r"+r3+":="+"r"+r1+it_encoding[i].sign+"r"+r2);
								compiled_program_DataView.setUint16(rel_pc,it_encoding[i].enc,true);rel_pc+=2;
								tmp=(1<<13)|(r3<<8)|0;
								compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
								tmp=(1<<13)|(r3<<8)|1;
								compiled_program_DataView.setUint16(rel_pc,tmp,true);rel_pc+=2;
								return;
							}
						}
						stopCompilation("Invalid compare instruction");
					}
					
					
					break;
				}
			}		 
			
		}
		
		
		var active_temp_var=0;
		var rel_pc;
		
		var addr_wait_return,addr_preempt_return,addr_funct_return;
		
		var loop_label_cnt;
		
		var compiled_program;
		var compiled_program_len=0;
		var compiled_program_DataView;
		
		var curr_task_elem,preempt_point_elem,funct_tbl_offset,func_tbl_len_offset;
		var save_sp_offset,save_lr_offset,save_lr_caller_offset,save_fp_caller_offset;
		var inst_trace_cnt_offset;
		
		function getInstrTraceOffset()
		{
			return inst_trace_cnt_offset;
		}
		
		function GetCompiledProgLen()
		{
			return compiled_program_len;
		}
		function GetCompiledDataview()
		{
			return compiled_program_DataView;
		}
		
		var C_arr="";
		
		function relJumpAddr(dest_addr)
		{
			return dest_addr-(rel_pc);
		}
		
		var task_structure_addrs=[];
		
		function getTaskAddrs()
		{
			return task_structure_addrs;
		}
		
		
		function generateAsm(ast)
		{
			var i,j;
			asm_descr_ast=[];
			asm_descr=[];
			compiled_program=new ArrayBuffer(1024*1024);
			compiled_program_DataView=new DataView(compiled_program);
			loop_label_cnt=0;
			patch_points=[];
			curr_task_elem=findVarElem(globals,"CURR_TASK");
			save_sp_offset=findVarElem(globals,"SAVE_SP");
			save_lr_offset=findVarElem(globals,"SAVE_LR");
			preempt_point_elem=findVarElem(globals,"PREEMPT_ARGEE");
			funct_tbl_offset=findVarElem(globals,"PTR_TO_FUNCT_TBL");
			save_lr_caller_offset=findVarElem(globals,"SAVE_LR_CALLER");
			save_fp_caller_offset=findVarElem(globals,"SAVE_FP_CALLER");
			func_tbl_len_offset=findVarElem(globals,"FUNCT_TBL_LEN");
			inst_trace_cnt_offset=findVarElem(globals,"INSTR_TRACE_TBL");
			// code for preemption_point and for out_of_bounds_check
			generateFixedFunctionAsmCode();
			
			
			generateProgCode(ast);
			replaceLongJumps();
			
			
			
			
			// setup offsets of initialized elements of task data structures
			var i;
			var first_task=null;
			task_structure_addrs=[];
			var dv;
			for(i=0;i<globals.list[0].list.length;i++)
			{
				if (globals.list[0].list[i].segm_type==token_types.VAR_TASK)
				{
					if (globals.list[0].list[i].type.range_start!=undefined)
					{
						stopCompilation("Arrays of tasks are not allowed",globals.list[0].list[i]);
					}
					task_structure_addrs[task_structure_addrs.length]=globals.list[0].list[i].offset;	
				}
			}
			
			var curr_task=0;
			for(i=0;i<globals.list[0].list.length;i++)
			{
				if (globals.list[0].list[i].segm_type==token_types.VAR_TASK)
				{
					if (first_task==null)
					{
						first_task=globals.list[0].list[i];
					}
					var functBlock=findFunctBlock(globals.list[0].list[i].type.data);
					globals.list[0].list[i].initialize=new ArrayBuffer(globals.list[0].list[i].size);
					dv=new DataView(globals.list[0].list[i].initialize);
					// skip the prologue of the task.
					// Main program always sets R4 and PC to point to the right place in the task.
					// this way first start is the same as every other start
					dv.setUint32(0,functBlock.rel_addr+8,true); 
					
					dv.setUint32(4,globals.list[0].list[i].offset,true);
					if ((curr_task+1)!=task_structure_addrs.length)
					{
						dv.setUint32(8,task_structure_addrs[curr_task+1],true);
					}
					else
					{
						dv.setUint32(8,task_structure_addrs[0],true);
					}
					curr_task++;
				}
			}
			curr_task_elem.initialize=new ArrayBuffer(curr_task_elem.size);
			dv=new DataView(curr_task_elem.initialize);
			dv.setUint32(0,first_task.offset,true); // CURR_TASK
			preempt_point_elem.initialize=new ArrayBuffer(preempt_point_elem.size);
			dv=new DataView(preempt_point_elem.initialize);
			dv.setUint32(0,0,true); // PREEMPT_ARGEE
			
			
			// initalize INSTR_TRACE_TBL
			inst_trace_cnt_offset.initialize=new ArrayBuffer(inst_trace_cnt_offset.size);
			dv=new DataView(inst_trace_cnt_offset.initialize);
			dv.setUint16(0,nst_inst_trace_buf,true); // INSTR_TRACE_TBL length
			dv.setUint16(2,0,true); // INSTR_TRACE_TBL curr_cnt
			
			
			// create initialized program variables
			for(i=0;i<globals.list[0].list.length;i++)
			{
				if (globals.list[0].list[i].initialize!=undefined)
				{
					var dv1=new DataView(globals.list[0].list[i].initialize);
					var j;
					for(j=0;j<globals.list[0].list[i].size;j++)
					{
						compiled_program_DataView.setUint8(globals.list[0].list[i].offset+j,dv1.getUint8(j));
					}
				}
			}
			
			process.applyInitializers(compiled_program_DataView);
			
			GOM.setObjArr("ARGEE_RUN_CODE",0,GOM.convArrBufToArr(compiled_program,rel_pc));
			compiled_program_len=rel_pc;
			
			
			
			/*	
				// generate the C array
				C_arr="const unsigned char NST_Comp[]={";
				for(i=0;i<rel_pc;i++)
				{
				C_arr+=compiled_program_DataView.getUint8(i);
				C_arr+=",";
				}
				C_arr+="};";
				var res_div=this.document.getElementById("result");
				res_div.innerHTML=C_arr;
				var range = document.createRange();
				range.selectNode(res_div);
				window.getSelection().addRange(range);
				document.execCommand('copy');
			*/
			
		}
		
		
		/*function addToAsmOutput(str)
			{
			asm_output+=rel_pc+":"+str+"\n";
		}*/
		
		
		function generateVarAddrCalcAsm(elem)
		{
			var offset;
			var pos;
			var i;
			var ref_reg;
			var bit_offset=-1,bit_len=-1;
			
			
			
			switch(elem.var_ref_type)
			{
				case VAR_REF.LOCAL:
				case VAR_REF.GLOBAL:
				if (elem.var_ref_type==VAR_REF.LOCAL)
				{
					ref_reg=loc_funct_frame_reg;
				}
				else
				{
					ref_reg=glob_var_reg;
				}
				offset=elem.ref_addr;
				pos=0;
				if (elem.offset_list.length!=0)
				{
					// add base to this
					if (elem.offset_list[0].offset!=undefined)
					{					
						offset+=elem.offset_list[0].offset;
					}
					else
					{
						bit_offset=elem.offset_list[0].bit_offset;
						bit_len=elem.offset_list[0].bit_len;
					}
					pos++;
				}
				break;
				case VAR_REF.POINTER:
				
				ref_reg=pointer_var_reg;
				offset=0;
				pos=0;
				if (elem.offset_list.length!=0)
				{
					// add base to this	
					offset+=elem.offset_list[0].offset;
					pos++;
				}
				break;
			}
			if (elem.offset_list.length==pos)
			{
				if (elem.var_ref_type==VAR_REF.POINTER)
				{
					encodeAsm(ASM_OP.LDW,loc_funct_frame_reg,pointer_var_reg,-1,-1,elem.ref_addr);
				}
				return {ref:ref_reg,size:elem.last_type.link.var_size,simp_offset:offset,bit_offset:bit_offset,bit_len:bit_len};
			}
			else
			{
				// later on - optimize for having a single element index -> no need to save and load R1
				
				if ((elem.last_type!=undefined)&&
					((elem.last_type.link.var_size==4)||(elem.last_type.link.var_size==2)||(elem.last_type.link.var_size==1))
				&&(elem.list[elem.list.length-1].enum_type==ELEM.EXPR_VAR_OFFSET)&&(elem.list[elem.list.length-1].offset!=undefined))
				{
					bit_offset=elem.list[elem.list.length-1].offset;
					bit_len=elem.list[elem.list.length-1].len;
				}
				
				encodeAsm(ASM_OP.MOV,1,-1,-1,-1,offset);
				// Array 
				// Index in the array can not be a pointer variable, can not be another array element -> It can only be a constant or a regular variable 
				
				if (elem.var_ref_type==VAR_REF.POINTER)
				{
					encodeAsm(ASM_OP.LDW,loc_funct_frame_reg,pointer_var_reg,-1,-1,elem.ref_addr);
				}
				
				switch(ref_reg)
				{
					case 3: encodeAsm(ASM_OP.MOV,3,tmp_reg,-1,-1,null); break;
					case 4: encodeAsm(ASM_OP.MOV,4,tmp_reg,-1,-1,null); break;
					case 5: encodeAsm(ASM_OP.MOV,5,tmp_reg,-1,-1,null); break;
				}
				
				
				for(i=pos;i<elem.offset_list.length;i++)
				{
					
					if (elem.offset_list[i].size!=undefined)
					{
						// 
						if (
							(
								(elem.offset_list[i].num.enum_type==ELEM.EXPR_VAR)&&
								(elem.offset_list[i].num.list.length==1)&&
								(elem.offset_list[i].num.var_ref_type!=VAR_REF.POINTER)
							)
							||
							(elem.offset_list[i].num.enum_type==ELEM.CONST)
						)
						{
							if ((elem.offset_list[i].num.enum_type==ELEM.EXPR_VAR)&&((elem.offset_list[i].num.last_type.data=="REAL")||(elem.offset_list[i].num.last_type.data=="RETAIN_REAL")))
							{
								stopCompilation("array index can not be floating point",elem);
							}                  
							genNext(2,elem.offset_list[i].num,null);
						}
						else
						{
							stopCompilation("array index can not be expression or a pointer variable",elem);
						}
						// perform array bounds check (R2->actual offset from the beginning of array, R1-> array address (from_ref_reg))
						encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(arrayBoundsCheckAddr_gen));
						// if check fails - the program terminates and we don't reach this place
						// the exception can provide the LR to indicate the actual piece of code where the 
						// exception originated
						
						// if everything was successull with the bounds check -> the bounds check function will 
						// automatically perform r1:=r1+r2; r1=r1+4;
					}
					else if (elem.offset_list[i].offset!=undefined)
					{
						encodeAsm(ASM_OP.ADD,1,1,-1,-1,elem.offset_list[i].offset);
					}
				}
				if (bit_offset!=-1)
				{
					return {ref:ref_reg,size:elem.last_type.link.var_size,offset_reg:1,bit_offset:bit_offset,bit_len:bit_len};
				}
				else
				{
					return {ref:ref_reg,size:elem.last_type.link.var_size,offset_reg:1};
				}
			}
		}
		
		function getDataElemPointer(reg,ast)
		{
			var offset=generateVarAddrCalcAsm(ast);
			var src;
			var reg_access=true;	
			if (offset.simp_offset!=undefined)
			{
				src=offset.simp_offset;
				reg_access=false;
			}
			else
			{
				src=1;
			}
			if (reg!=0)
			{
				encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,0,0,-1,-1,null); 
			}
			if (reg_access==false)
			{
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,src);
				encodeAsm(ASM_OP.ADD,offset.ref,0,0,-1,null);
			}
			else
			{
				//encodeAsm(ASM_OP.MOV,0,-1,-1,-1,src);
				//encodeAsm(ASM_OP.ADD,0,offset.ref,src,-1,null);
				encodeAsm(ASM_OP.ADD,src,offset.ref,0,-1,null);
				
			}
			if (reg!=0)
			{
				encodeAsm(ASM_OP.MOV,0,reg,-1,-1,null);
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,0,0,-1,-1,null); 
			}
		}
		var last_var_is_ptr=false;
		function generateReadVar(reg,ast,allow_ptr)
		{
			
			var src=1;
			var reg_access=true;
			
			
			// pointer is a data structure or array (without index)
			if (((ast.last_type.link.cdt!=undefined)&&(ast.last_type.link.cdt==true))||((ast.last_type.link.enum_type!=undefined)&&(ast.last_type.link.enum_type==ELEM.FUNCT_BLOCK))
				||((ast.list[ast.list.length-1].enum_type==ELEM.EXPR_VAR)&&(ast.list[ast.list.length-1].link.type.range_start!=undefined))
				||(allow_ptr==2) // forced pointer assignment
			)
			{
				if (allow_ptr==false)
				{
					stopCompilation("invalid pointer variable",ast);
				}
				getDataElemPointer(reg,ast);
				last_var_is_ptr=true;
				return;
			}
			
			var offset=generateVarAddrCalcAsm(ast);
			
			if (offset.simp_offset!=undefined)
			{
				src=offset.simp_offset;
				reg_access=false;
			}
			var reg_back=reg;
			if (ast.fp==true)
			{
				reg=tmp_reg; // register 6 is used as a scratch register during FP operations
			}
			
			if (reg_access==false)
			{
				
				switch(offset.size)
				{
					case 4:
					if (offset.bit_offset!=-1)
					{
						if ((offset.bit_offset+offset.bit_len)>32)
						{
							stopCompilation("Crossing the 32 bit boundary in bitmap is not allowed",ast);
						}
						if (arm7_mode==true)
						{
							if ((rel_pc%4)!=0)
							{
								// add nop -> Add r0,r0,0
								encodeAsm(ASM_OP.ADD,0,0,1,-1,0); 
							}
							
							if (reg==0)
							{
								encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(ubfx_r0_jump_addr)); 
							}
							else
							{
								encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(ubfx_r1_jump_addr)); 
							}
							var tmp1=((src&0xffff)<<16)|((offset.bit_offset&0xff)<<8)|((offset.bit_len&0xff));
							addAsmDescr(rel_pc,4,".data="+tmp1);
							compiled_program_DataView.setUint32(rel_pc,tmp1,true);rel_pc+=4;	
						}
						else
						{
							encodeAsm(ASM_OP.LDW,offset.ref,reg,-1,-1,src);
							encodeAsm(ASM_OP.UBFX,reg,reg,offset.bit_offset,offset.bit_len,null);
						}
					}
					else
					{
						encodeAsm(ASM_OP.LDW,offset.ref,reg,-1,-1,src);
					}
					//addToAsmOutput(reg+":=LDW"+offset.ref+"["+src+"]");rel_pc+=4;
					break;
					case 2:
					if (offset.bit_offset!=-1)
					{
						if ((offset.bit_offset+offset.bit_len)>16)
						{
							stopCompilation("Crossing the 16 bit boundary in bitmap is not allowed",ast);
						}
						if (arm7_mode==true)
						{
							stopCompilation("Bit ACCESS to variables is not allowed in ARM7",ast);	
						}
						else
						{
							encodeAsm(ASM_OP.LDH,offset.ref,reg,-1,-1,src);
							encodeAsm(ASM_OP.UBFX,reg,reg,offset.bit_offset,offset.bit_len,null);
						}
					}
					else
					{			
						encodeAsm(ASM_OP.LDH,offset.ref,reg,-1,-1,src);
					}
					//addToAsmOutput(reg+":=LDH"+offset.ref+"["+src+"]");rel_pc+=4;
					//stopCompilation("invalid var 2 bytes",ast);
					break;
					case 1:
					if (offset.bit_offset!=-1)
					{
						if ((offset.bit_offset+offset.bit_len)>8)
						{
							stopCompilation("Crossing the 8 bit boundary in bitmap is not allowed",ast);
						}
						if (arm7_mode==true)
						{
							stopCompilation("Bit ACCESS to variables is not allowed in ARM7",ast);	
						}
						else
						{
							encodeAsm(ASM_OP.LDB,offset.ref,reg,-1,-1,src);
							encodeAsm(ASM_OP.UBFX,reg,reg,offset.bit_offset,offset.bit_len,null);
						}
					}
					else
					{			
						encodeAsm(ASM_OP.LDB,offset.ref,reg,-1,-1,src);
					}
					//addToAsmOutput(reg+":=LDB"+offset.ref+"["+src+"]");rel_pc+=4;
					//stopCompilation("invalid var 1 bytes",ast);
					break;
				}
			}
			else
			{
				switch(offset.size)
				{
					case 4:
					if (offset.bit_offset!=undefined)
					{
						if ((offset.bit_offset+offset.bit_len)>32)
						{
							stopCompilation("Crossing the 32 bit boundary in bitmap is not allowed",ast);
						}
						if (arm7_mode==true)
						{
							stopCompilation("Bit ACCESS to variables is not allowed in ARM7",ast);
						}
						else
						{
							encodeAsm(ASM_OP.LDW,offset.ref,src,reg,-1,null);
							encodeAsm(ASM_OP.UBFX,reg,reg,offset.bit_offset,offset.bit_len,null);
						}
					}
					else
					{
						encodeAsm(ASM_OP.LDW,offset.ref,src,reg,-1,null);
						//addToAsmOutput(reg+":=LDW"+offset.ref+"["+src+"]");rel_pc+=4;
					}
					break;
					case 2:
					if (offset.bit_offset!=undefined)
					{
						if ((offset.bit_offset+offset.bit_len)>16)
						{
							stopCompilation("Crossing the 16 bit boundary in bitmap is not allowed",ast);
						}
						if (arm7_mode==true)
						{
							stopCompilation("Bit ACCESS to variables is not allowed in ARM7",ast);
						}
						else
						{
							encodeAsm(ASM_OP.LDH,offset.ref,src,reg,-1,null);
							encodeAsm(ASM_OP.UBFX,reg,reg,offset.bit_offset,offset.bit_len,null);
						}
					}
					else
					{
						encodeAsm(ASM_OP.LDH,offset.ref,src,reg,-1,null);
					}
					//addToAsmOutput(reg+":=LDH"+offset.ref+"["+src+"]");rel_pc+=4;
					//stopCompilation("invalid var 2 bytes",ast);
					break;
					case 1:
					if (offset.bit_offset!=undefined)
					{
						if ((offset.bit_offset+offset.bit_len)>8)
						{
							stopCompilation("Crossing the 8 bit boundary in bitmap is not allowed",ast);
						}
						if (arm7_mode==true)
						{
							stopCompilation("Bit ACCESS to variables is not allowed in ARM7",ast);
						}
						else
						{
							encodeAsm(ASM_OP.LDB,offset.ref,src,reg,-1,null);
							encodeAsm(ASM_OP.UBFX,reg,reg,offset.bit_offset,offset.bit_len,null);
						}
					}
					else
					{
						encodeAsm(ASM_OP.LDB,offset.ref,src,reg,-1,null);
					}
					//addToAsmOutput(reg+":=LDB"+offset.ref+"["+src+"]");rel_pc+=4;
					//stopCompilation("invalid var 1 bytes",ast);
					break;
				}
			}
			if (ast.fp==true)
			{
				encodeAsm(ASM_OP.REG_TO_FP,reg,reg_back,-1,-1,null);		
			}
		}
		
		
		
		function generateWriteVar(ast,allow_ptr)
		{
			var offset;
			
			
			if ((ast.enum_type==ELEM.EXPR_VAR)&&(ast.list[ast.list.length-1].enum_type==ELEM.EXPR_VAR)&&
			(ast.list[ast.list.length-1].link.segm_type==token_types.VAR_INPUT)&&(ast.parent_node.enum_type!=ELEM.FUNC_BLOCK_VAR_ASSIGN))
			{
				stopCompilation("Can not assign a value to input variable",ast.list[ast.list.length-1]);			
			}
			
			if ((((ast.last_type.link.cdt!=undefined)&&(ast.last_type.link.cdt==true))||((ast.last_type.link.enum_type!=undefined)&&(ast.last_type.link.enum_type==ELEM.FUNCT_BLOCK))
			||((ast.list[ast.list.length-1].enum_type==ELEM.EXPR_VAR)&&(ast.list[ast.list.length-1].link.type.range_start!=undefined)))
		    ||(allow_ptr==2) // forced pointer assignment
			)
			{
				if (ast.list[ast.list.length-1].link==undefined)
				{
					stopCompilation("Invalid assignment",ast);
				}
				// Destination is an array or data structure
				if (ast.list[ast.list.length-1].link.segm_type!=token_types.VAR_INOUT)
				{
					stopCompilation("Can not assign an array or data structure unless it is VAR_IN_OUT",ast.list[ast.list.length-1]);
				}
				if (last_var_is_ptr!=true)
				{
					stopCompilation("Can not assign a value to array or data structure",ast.list[ast.list.length-1]);			
				}
				if (allow_ptr==false)
				{
					stopCompilation("invalid pointer variable",ast);
				}
				getDataElemPointer(1,ast);
				encodeAsm(ASM_OP.STW,0,1,-1,-1,null);
				return;
			}
			else
			{
				if (last_var_is_ptr==true)
				{
					stopCompilation("Can not assign a pointer to a regular variable",ast.list[ast.list.length-1]);
				}	
			}
			
			
			
			
			
			
			// assume value to be written is in r0;
			if ((ast.offset_list.length==0)||
			((ast.offset_list.length==1)&&((ast.offset_list[0].offset!=undefined)||(ast.offset_list[0].bit_offset!=undefined))))
			{
				offset=generateVarAddrCalcAsm(ast);
			}		
			else
			{
				// I may not need to save R0 size it is saved in expression evaluation
				encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,0,0,-1,-1,null); 
				offset=generateVarAddrCalcAsm(ast);
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,0,0,-1,-1,null); 
				
			}
			var src=1;
			var reg_access=true;
			if (offset.simp_offset!=undefined)
			{
				src=offset.simp_offset;
				reg_access=false;
			}
			
			if (ast.fp==true)
			{
				encodeAsm(ASM_OP.FP_TO_REG,0,0,-1,-1,null);
			}
			
			if (reg_access==false)
			{
				switch(offset.size)
				{
					case 4:
					
					if (offset.bit_offset!=-1)
					{
						if ((offset.bit_offset+offset.bit_len)>32)
						{
							stopCompilation("Crossing the 32 bit boundary in bitmap is not allowed",ast);
						}
						
						if (arm7_mode==true)
						{
							if ((rel_pc%4)!=0)
							{
								// add nop -> Add r0,r0,0
								encodeAsm(ASM_OP.ADD,0,0,1,-1,0); 
							}
							// we can use R1/r2 as scrap registers during the assignment
							encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(bfi_jump_addr)); 
							var tmp1=((src&0xffff)<<16)|((offset.bit_offset&0xff)<<8)|((offset.bit_len&0xff));
							addAsmDescr(rel_pc,4,".data="+tmp1);
							compiled_program_DataView.setUint32(rel_pc,tmp1,true);rel_pc+=4;	
						}
						else
						{
							// we can use R1/r2 as scrap registers during the assignment
							encodeAsm(ASM_OP.LDW,offset.ref,1,-1,-1,src);		
							encodeAsm(ASM_OP.BFI,0,1,offset.bit_offset,offset.bit_offset+offset.bit_len-1,null);		
							encodeAsm(ASM_OP.STW,1,offset.ref,-1,-1,src); 
						}
					}
					else
					{
						encodeAsm(ASM_OP.STW,0,offset.ref,-1,-1,src); 
					}
					//addToAsmOutput("STW r0,"+offset.ref+"["+src+"]");rel_pc+=4;
					break;
					case 2:
					if (offset.bit_offset!=-1)
					{
						if ((offset.bit_offset+offset.bit_len)>16)
						{
							stopCompilation("Crossing the 16 bit boundary in bitmap is not allowed",ast);
						}
						
						if (arm7_mode==true)
						{
							stopCompilation("Bit ACCESS to variables is not allowed in ARM7",ast);
						}
						else
						{
							// we can use R1/r2 as scrap registers during the assignment
							encodeAsm(ASM_OP.LDH,offset.ref,1,-1,-1,src);		
							encodeAsm(ASM_OP.BFI,0,1,offset.bit_offset,offset.bit_offset+offset.bit_len-1,null);		
							encodeAsm(ASM_OP.STH,1,offset.ref,-1,-1,src); 
						}
					}
					else
					{
						encodeAsm(ASM_OP.STH,0,offset.ref,-1,-1,src); 
					}
					//addToAsmOutput("STH r0,"+offset.ref+"["+src+"]");rel_pc+=4;
					//stopCompilation("invalid var 2 bytes",ast);
					break;
					case 1:
					if (offset.bit_offset!=-1)
					{
						if ((offset.bit_offset+offset.bit_len)>8)
						{
							stopCompilation("Crossing the 16 bit boundary in bitmap is not allowed",ast);
						}
						
						if (arm7_mode==true)
						{
							stopCompilation("Bit ACCESS to variables is not allowed in ARM7",ast);
						}
						else
						{
							// we can use R1/r2 as scrap registers during the assignment
							encodeAsm(ASM_OP.LDB,offset.ref,1,-1,-1,src);		
							encodeAsm(ASM_OP.BFI,0,1,offset.bit_offset,offset.bit_offset+offset.bit_len-1,null);		
							encodeAsm(ASM_OP.STB,1,offset.ref,-1,-1,src); 
						}
					}
					else
					{
						encodeAsm(ASM_OP.STB,0,offset.ref,-1,-1,src); 
					}
					//addToAsmOutput("STB r0,"+offset.ref+"["+src+"]");rel_pc+=4;
					//stopCompilation("invalid var 1 bytes",ast);
					break;
				}
			}
			else
			{
				switch(offset.size)
				{
					case 4:
					
					if (offset.bit_offset!=undefined)
					{
						if ((offset.bit_offset+offset.bit_len)>32)
						{
							stopCompilation("Crossing the 32 bit boundary in bitmap is not allowed",ast);
						}
						
						if (arm7_mode==true)
						{
							stopCompilation("Bit ACCESS to variables is not allowed in ARM7",ast);
						}
						else
						{
							// we can use R1/r2 as scrap registers during the assignment
							encodeAsm(ASM_OP.LDW,offset.ref,src,2,-1,null);		
							encodeAsm(ASM_OP.BFI,0,2,offset.bit_offset,offset.bit_offset+offset.bit_len-1,null);		
							encodeAsm(ASM_OP.STW,offset.ref,src,2,-1,null); 
						}
					}
					else
					{
				        encodeAsm(ASM_OP.STW,offset.ref,src,0,-1,null); 
					}
					//addToAsmOutput("STW r0,"+offset.ref+"["+src+"]");rel_pc+=4;
					break;
					case 2:
					if (offset.bit_offset!=undefined)
					{
						if ((offset.bit_offset+offset.bit_len)>16)
						{
							stopCompilation("Crossing the 16 bit boundary in bitmap is not allowed",ast);
						}
						
						if (arm7_mode==true)
						{
							stopCompilation("Bit ACCESS to variables is not allowed in ARM7",ast);
						}
						else
						{
							// we can use R1/r2 as scrap registers during the assignment
							encodeAsm(ASM_OP.LDH,offset.ref,src,2,-1,null);		
							encodeAsm(ASM_OP.BFI,0,2,offset.bit_offset,offset.bit_offset+offset.bit_len-1,null);		
							encodeAsm(ASM_OP.STH,offset.ref,src,2,-1,null); 
						}
					}
					else
					{
						encodeAsm(ASM_OP.STH,offset.ref,src,0,-1,null); 
					}
					//addToAsmOutput("STH r0,"+offset.ref+"["+src+"]");rel_pc+=4;
					//stopCompilation("invalid var 2 bytes",ast);
					break;
					case 1:
					if (offset.bit_offset!=undefined)
					{
						if ((offset.bit_offset+offset.bit_len)>8)
						{
							stopCompilation("Crossing the 8 bit boundary in bitmap is not allowed",ast);
						}
						
						if (arm7_mode==true)
						{
							stopCompilation("Bit ACCESS to variables is not allowed in ARM7",ast);
						}
						else
						{
							// we can use R1/r2 as scrap registers during the assignment
							encodeAsm(ASM_OP.LDB,offset.ref,src,2,-1,null);		
							encodeAsm(ASM_OP.BFI,0,2,offset.bit_offset,offset.bit_offset+offset.bit_len-1,null);		
							encodeAsm(ASM_OP.STB,offset.ref,src,2,-1,null); 
						}
					}
					else
					{
						encodeAsm(ASM_OP.STB,offset.ref,src,0,-1,null); 
					}
					//addToAsmOutput("STB r0,"+offset.ref+"["+src+"]");rel_pc+=4;
					//stopCompilation("invalid var 1 bytes",ast);
					break;
				}
			}
		}
		
		function genNext(reg,ast,op)
		{
			if (ast.enum_type==ELEM.EXPR)
			{
				if (ast.fp==true)
				{
					encodeAsm(ASM_OP.F_PUSH,0,-1,-1,-1,1); 
				}
				else
				{
					encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,0,0,-1,-1,null); 
				}
			}
			generateExprAsm(reg,ast,false);
			if (ast.enum_type==ELEM.EXPR)
			{
				if (op==null)
				{
					if (ast.fp==true)
					{
						encodeAsm(ASM_OP.F_POP,0,-1,-1,-1,1); 
					}
					else
					{
						encodeAsm(ASM_OP.POP_CONSEQ_REGS,0,0,-1,-1,null); 
					}
				}
				else
				{
					if (ast.fp==true)
					{
						encodeAsm(ASM_OP.F_POP,0,-1,-1,-1,1); 
					}
					else
					{
						encodeAsm(ASM_OP.POP_CONSEQ_REGS,0,0,-1,-1,null); 
					}
					genRegOp(0,0,reg,op.data);			
				}
			}
			else
			{
				if (op!=null)
				{
					genRegOp(0,0,reg,op.data);			
				}
			}
		}
		
		function generateExprAsm(reg,ast,allow_ptr)
		{
			var i;
			var pos;
			switch(ast.enum_type)
			{
				case ELEM.TO_FLOAT:
				generateExprAsm(tmp_reg,ast.list[0],false);
				encodeAsm(ASM_OP.TO_FLOAT,tmp_reg,reg,-1,-1,null); 
				break;
				case ELEM.TO_INT:
				encodeAsm(ASM_OP.F_PUSH,0,-1,-1,-1,1); 
				generateExprAsm(0,ast.list[0],false);
				encodeAsm(ASM_OP.TO_INT,0,reg,-1,-1,null); 
				encodeAsm(ASM_OP.F_POP,0,-1,-1,-1,1); 
				break;
				
				case ELEM.FUNC:
				if (reg!=0)
				{
					encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,0,0,-1,-1,null); 
				}
				generateProgCode(ast);
				if (reg!=0)
				{
					encodeAsm(ASM_OP.MOV,0,reg,-1,-1,null);
					encodeAsm(ASM_OP.POP_CONSEQ_REGS,0,0,-1,-1,null); 
				}
				
				break;
				case ELEM.CONST:
				
				encodeAsm(ASM_OP.MOV,reg,-1,-1,-1,ast.data); 
				break;
				case ELEM.EXPR_VAR:
				generateReadVar(reg,ast,allow_ptr);
				break;
				case ELEM.EXPR:
				if (ast.list[0].enum_type==ELEM.OP)
				{
					if (ast.list[0].data==token_types.MINUS)
					{
						generateExprAsm(0,ast.list[1],false);
						encodeAsm(ASM_OP.NEG,0,0,-1,-1,null);
					}
					else if (ast.list[0].data==token_types.NOT)
					{
						generateExprAsm(0,ast.list[1],false);
						encodeAsm(ASM_OP.NOT,0,0,-1,-1,null);
					}
					else
					{
						//generateExprAsm("r0",ast.list[1]);
						//addToAsmOutput("r0:=NOT r0"); rel_pc+=2;
						stopCompilation("invalid expression type " +ast.list[0].data+ " ",ast);
					}
					pos=2;
				}
				else
				{
					generateExprAsm(0,ast.list[0],allow_ptr); 
					pos=1;
				}
				for(i=pos;i<ast.list.length;i+=2)
				{
					genNext(1,ast.list[i+1],ast.list[i]); 
				}
				if (reg!=0)
				{
					if (ast.fp==true)
					{
						encodeAsm(ASM_OP.F_MOV,0,reg,-1,-1,null);  
					}
					else
					{					
						encodeAsm(ASM_OP.MOV,0,reg,-1,-1,null);  
					}
					//addToAsmOutput(reg+":=r0");rel_pc+=2;
				}
				break;
			}
		}
		
		
		
		function prettyPrintAsm()
		{
			var i;
			asm_descr.sort(compareDescr);
			for(i=0;i<asm_descr.length;i++)
			{
				console.log(asm_descr[i].pos+"  "+asm_descr[i].descr);
			}
		}
		
		function prettyPrintAsm_to_str()
		{
			var i;
			var str="";
			asm_descr.sort(compareDescr);
			for(i=0;i<asm_descr.length;i++)
			{
				str+=asm_descr[i].pos+"  "+asm_descr[i].descr+"\n";
			}
			return str;
		}
		
		
		function findAsmPos(pos)
		{
			var i;
			for(i=0;i<asm_descr.length;i++)
			{
				if (asm_descr[i].pos==pos)
				{
					return i;
				}
			}
			return -1;
		}
		
		var asm_descr_ast=[];
		
		function addAsmAST_Mapping(ast)
		{
			var elem;
			//if ((asm_map_cnt%2)==0)
			{
				elem=asm_descr_ast.length;
				asm_descr_ast[elem]={start_pos:rel_pc,obj:ast};
			}
			/*else
				{
				elem=asm_descr_ast.length-1;
				asm_descr_ast[elem].end_pos=rel_pos;
			}*/
		}
		
		
		
		
		function printCompiled()
		{
			var i;
			asm_descr.sort(compareDescr);
			console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!");
			// merge arrays
			for(i=0;i<asm_descr_ast.length;i++)
			{
				var pos=findAsmPos(asm_descr_ast[i].start_pos);
				asm_descr[pos].obj=asm_descr_ast[i].obj;
			}
			for(i=0;i<asm_descr.length;i++)
			{
				var asm_enc;
				if (asm_descr[i].obj!=undefined)
				{
					parse.quickPrintAST(asm_descr[i].obj);
				}
				if (asm_descr[i].len==2)
				{
					asm_enc=pad(compiled_program_DataView.getUint16(asm_descr[i].pos,true).toString(16),4);
				}
				else
				{
					asm_enc=pad(compiled_program_DataView.getUint32(asm_descr[i].pos,true).toString(16),8);
				}
				console.log(asm_descr[i].pos+"  "+asm_enc+" "+asm_descr[i].descr);
			}
			
		}
		
		function findAddrInAsmElements(addr)
		{
			var i;
			for(i=0;i<(asm_descr_ast.length-1);i++)
			{
				if ((asm_descr_ast[i].start_pos<=addr)&&(asm_descr_ast[i+1].start_pos>addr))
				{
					return asm_descr_ast[i].obj;
				}
			}
			return null;
		}
		
		function printCompiledToStr()
		{
			var i;
			var str="";
			asm_descr.sort(compareDescr);
			// merge arrays
			for(i=0;i<asm_descr_ast.length;i++)
			{
				var pos=findAsmPos(asm_descr_ast[i].start_pos);
				asm_descr[pos].obj=asm_descr_ast[i].obj;
			}
			for(i=0;i<asm_descr.length;i++)
			{
				var asm_enc;
				if (asm_descr[i].obj!=undefined)
				{
					str+=quickPrintASTtoStr(asm_descr[i].obj);
				}
				if (asm_descr[i].len==2)
				{
					asm_enc=pad(compiled_program_DataView.getUint16(asm_descr[i].pos,true).toString(16),4);
				}
				else
				{
					asm_enc=pad(compiled_program_DataView.getUint32(asm_descr[i].pos,true).toString(16),8);
				}
				str+=asm_descr[i].pos+"(0x"+(asm_descr[i].pos.toString(16))+")  "+asm_enc+" "+asm_descr[i].descr+"\n";
			}
			return str;
			
		}
		
		function pad(n, width, z) {
			z = z || '0';
			n = n + '';
			return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
		}	
		
		/*function printCompiledAST(parent,ast)
			{
			var i;
			if ((ast.enum_type==ELEM.EXPR)&&(parent.enum_type!=ELEM.EXPR))
			{
			quickPrintAST(ast);
			}
			if (ast.asm_addr_list!=undefined)
			{
			for(i=0;i<ast.asm_addr_list.length;i++)
			{
			var pos=findAsmPos(ast.asm_addr_list[i].start_addr);
			for(j=0;j<ast.asm_addr_list[i].end_addr;j++)
			{
			if ((asm_descr.length<=(pos+j))||(asm_descr[pos+j].pos==ast.asm_addr_list[i].end_addr))
			{
			break;
			}
			var asm_enc;
			if (asm_descr[pos+j].len==2)
			{
			asm_enc=pad(compiled_program_DataView.getUint16(asm_descr[pos+j].pos,true).toString(16),4);
			}
			else
			{
			asm_enc=pad(compiled_program_DataView.getUint32(asm_descr[pos+j].pos,true).toString(16),8);
			}
			console.log(asm_descr[pos+j].pos+"  "+asm_enc+" "+asm_descr[pos+j].descr);
			}
			if ((ast.list!=undefined)&&(ast.list[i]!=undefined))
			{
			printCompiledAST(ast,ast.list[i]);
			}
			}
			}
			else
			{
			if (ast.list!=undefined)
			{
			for(i=0;i<ast.list.length;i++)
			{
			printCompiledAST(ast,ast.list[i]);
			}
			}
			}		
			}
		*/
		
		
		function compareDescr(a,b)
		{
			if (a.pos<b.pos)
			{
				return -1;
			}
			else if (a.pos>b.pos)
			{
				return 1;
			}
			return 0;
		}
		
		
		
		var patch_points=[];
		
		var JMP_TYPE=
		{
			NEAR:0,
			FAR:1,
		};
		
		
		function addPatchPoint(func,type)
		{
			var curr_patch=patch_points.length;
			patch_points[curr_patch]={func:func,patch:curr_patch,pc:rel_pc,type:type};
			if (type==JMP_TYPE.NEAR)
			{
				rel_pc+=2;
			}
			else
			{
				rel_pc+=4;	
			}
			return curr_patch;
		}
		
		function findFuncBlock(name)
		{
			var i;
			for(i=0;i<globals.list[1].list.length;i++)
			{
				if (globals.list[1].list[i].name==name)
				{
					return globals.list[1].list[i];
				}
			}
			return null;
		}
		
		function replacePatch(patch_index,rel_branch)
		{
			var curr_rel_pc=rel_pc;
			var loc=patch_points[patch_index].pc;
			rel_pc=loc;
			if (patch_points[patch_index].type==JMP_TYPE.FAR)
			{
				encodeAsm(ASM_OP.BL,-1,-1,-1,-1,rel_branch);
			}
			else
			{
				encodeAsm(ASM_OP.BRANCH,-1,-1,-1,-1,rel_branch);
			}
			rel_pc=curr_rel_pc;
		}
		
		function replaceCondJumpPatch(pos,op)
		{
			var curr_rel_pc=rel_pc;
			var jump_offset=curr_rel_pc-4-pos;
			rel_pc=pos;
			encodeAsm(op,-1,-1,-1,-1,jump_offset);
			rel_pc=curr_rel_pc;
		}
		
		function replaceLongJumps()
		{
			for(i=0;i<patch_points.length;i++)
			{
				if ((patch_points[i].func!=null)&&(patch_points[i].type==JMP_TYPE.FAR))
				{
					var func=findFuncBlock(patch_points[i].func);
					var branch_len=func.rel_addr-patch_points[i].pc;
					replacePatch(i,branch_len);
				}
			}
		}
		
		
		var arrayBoundsCheckAddr_3,arrayBoundsCheckAddr_4,arrayBoundsCheckAddr_5,arrayBoundsCheckAddr_gen;
		var preemptionPointAddr;
		var functCallAddr_01_arg,functCallAddr_2_arg,functCallAddr_3_arg,functCallAddr_4_arg;
		var waitUntilAddr,contextSwitchAddr;
		var breakpoint_jmp_addr;
		
		function getBreakpointJmpAddr()
		{
			return breakpoint_jmp_addr;
		}
		
		
		function JumpInstTraceWithAST(ast,check_r0)
		{
			if (ast.disable_trace==true)
			{
				return;
			}
			var tmp1=ast.line_num;	
			if (tmp1>=(nst_inst_trace_buf*8))
			{
				// can't record this trace
				// no need to do run-time checks
				return;
			}
			if ((check_r0==true)||(arm7_mode==true))
			{
				encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(instr_trace_jmp_addr));
			}
			else
			{
				encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(instr_trace_jmp_addr_skip_r0_check)); 
			}
			
			addAsmDescr(rel_pc,2,".data="+tmp1);
			compiled_program_DataView.setUint16(rel_pc,tmp1,true);rel_pc+=2;						
		}
		
		var instr_trace_jmp_addr,
		instr_trace_jmp_addr_skip_r0_check,bfi_jump_addr,
		ubfx_r0_jump_addr,ubfx_r1_jump_addr,
		div_jump_addr,mod_jump_addr;
		
		// generate the code which does array_bounds_check and preemption_point
		function generateFixedFunctionAsmCode()
		
		{
			var patch_points_at=[];
			var pc_at=[];
			var i;
			var curr_patch=0;
			
			if (arm7_mode==true)
			{	
				arrayBoundsCheckAddr_gen=rel_pc;
				
				// first compare the R2 with 0. If negative -> exit right away
				encodeAsm(ASM_OP.CMP,2,-1,-1,-1,0);
				curr_patch=rel_pc;
				//encodeAsm(ASM_OP.B_LT,-1,-1,-1,-1,14);
				rel_pc+=2;
				// Jump to application
				encodeAsm(ASM_OP.MOV,14,7,-1,-1,null); // LR is copied into return pos
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,2); // exception code=2
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,tmp_reg,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,5,-1,-1,save_sp_offset.offset);
				encodeAsm(ASM_OP.MOV,5,13,-1,-1,null);
				encodeAsm(ASM_OP.MOV,tmp_reg,15,-1,-1,null); // jump to the main program - it will handle task switching			
				replaceCondJumpPatch(curr_patch,ASM_OP.B_GE);
				// R2 positive
				
				
				encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,0,1,-1,-1,null); 
				encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,5,5,-1,-1,null); 
				encodeAsm(ASM_OP.LDH,tmp_reg,1,5,-1,null); // R5:=ref_reg[array_addr] -> size of array
				encodeAsm(ASM_OP.ADD,1,1,-1,-1,2); // increment array_addr by 2 -> get to "element size"
				encodeAsm(ASM_OP.LDH,tmp_reg,1,0,-1,null); // R0:=ref_reg[array_addr] -> element size
				
				
				encodeAsm(ASM_OP.MUL,0,2,-1,-1,null);
				
				encodeAsm(ASM_OP.CMP,2,5,-1,-1,null);
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,5,5,-1,-1,null); 
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,0,1,-1,-1,null); 
				
				curr_patch=rel_pc;
				//encodeAsm(ASM_OP.B_LT,-1,-1,-1,-1,14);
				rel_pc+=2;
				// Jump to application
				encodeAsm(ASM_OP.MOV,14,7,-1,-1,null); // LR is copied into return pos
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,2); // exception code=2
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,tmp_reg,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,5,-1,-1,save_sp_offset.offset);
				encodeAsm(ASM_OP.MOV,5,13,-1,-1,null);
				encodeAsm(ASM_OP.MOV,tmp_reg,15,-1,-1,null); // jump to the main program - it will handle task switching				break;
				
				// if in-bounds -> adjust the R1
				replaceCondJumpPatch(curr_patch,ASM_OP.B_LT);
				encodeAsm(ASM_OP.ADD,1,2,1,-1,null);
				encodeAsm(ASM_OP.ADD,1,1,-1,-1,4);
				encodeAsm(ASM_OP.MOV,14,15,-1,-1,null); // PC:=LR
				
				
				
				
				// preemption point
				preemptionPointAddr=rel_pc;
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,0,-1,-1,preempt_point_elem.offset);
				encodeAsm(ASM_OP.CMP,0,-1,-1,-1,0); // CMP R0,0
				curr_patch=rel_pc;
				//encodeAsm(ASM_OP.B_EQ,0,-1,-1,-1,0);
				rel_pc+=2;
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,1); // r0 -> return code -> 0 - wait, 1-> preempt
				// has to be last instruction -> to avoid PC adjustment in the PG_Task
				encodeAsm(ASM_OP.MOV,14,7,-1,-1,null); // save LR in R7 (used to store data to current task
				encodeAsm(ASM_OP.SUB,7,-1,-1,-1,1); // clear the last bit of LR
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,tmp_reg,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.MOV,tmp_reg,15,-1,-1,null); // jump to the main program - it will handle task switching				break;
				replaceCondJumpPatch(curr_patch,ASM_OP.B_EQ);	
				encodeAsm(ASM_OP.MOV,14,15,-1,-1,null); // PC:=LR
				
				
				// wait until
				waitUntilAddr=rel_pc;
				encodeAsm(ASM_OP.LSL,0,0,-1,-1,31); // R0<<31
				encodeAsm(ASM_OP.LSR,0,0,-1,-1,31); // R0>>>31
				encodeAsm(ASM_OP.CMP,0,-1,-1,-1,0); // CMP R0,0
				curr_patch=rel_pc;
				//encodeAsm(ASM_OP.B_NE,0,-1,-1,-1,0);
				rel_pc+=2;
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,0); // r0 -> return code -> 0 - wait, 1-> preempt
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,tmp_reg,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.MOV,tmp_reg,15,-1,-1,null); // jump to the main program - it will handle task switching				break;
				replaceCondJumpPatch(curr_patch,ASM_OP.B_NE);	
				encodeAsm(ASM_OP.MOV,14,15,-1,-1,null); // PC:=LR
				
				// Context switch
				contextSwitchAddr=rel_pc;
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,8); // r0 -> return code -> 0 - wait, 1-> preempt, 8 -> context switch
				// has to be last instruction -> to avoid PC adjustment in the PG_Task
				encodeAsm(ASM_OP.MOV,14,7,-1,-1,null); // save LR in R7 (used to store data to current task
				encodeAsm(ASM_OP.SUB,7,-1,-1,-1,1); // clear the last bit of LR	
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,tmp_reg,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.MOV,tmp_reg,15,-1,-1,null); // jump to the main program - it will handle task switching				break;
				
				
				
				
				// function call in the firmware (based on the function number)
				functCallAddr_4_arg=rel_pc;
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,3,3,-1,-1,null); 
				functCallAddr_3_arg=rel_pc;
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,2,2,-1,-1,null); 
				functCallAddr_2_arg=rel_pc;
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,1,1,-1,-1,null); 
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,0,0,-1,-1,null); 
				functCallAddr_01_arg=rel_pc;
				
				
				encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,5,7,-1,-1,null);
				encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,2,2,-1,-1,null); 	
				encodeAsm(ASM_OP.MOV,5,-1,-1,-1,4);
				encodeAsm(ASM_OP.MUL,5,tmp_reg,-1,-1,null);
				encodeAsm(ASM_OP.MOV,glob_mirr_reg,7,-1,-1,null);
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,7,5,-1,-1,funct_tbl_offset.offset); //get_function_tbl_offset
				encodeAsm(ASM_OP.LDW,5,tmp_reg,5,-1,null); //get pointer within the function table
				
				encodeAsm(ASM_OP.MOV,14,tmp_reg,-1,-1,null);
				encodeAsm(ASM_OP.STW_FORCED_4_BYTE,tmp_reg,7,-1,-1,save_lr_caller_offset.offset); 
				encodeAsm(ASM_OP.STW_FORCED_4_BYTE,4,7,-1,-1,save_fp_caller_offset.offset); 
				
				encodeAsm(ASM_OP.MOV,15,2,-1,-1,null); // MOV R2,PC
				encodeAsm(ASM_OP.ADD,2,-1,-1,-1,7); // ADD R2,#7 // need an odd number for LR
				encodeAsm(ASM_OP.MOV,2,14,-1,-1,null); // MOV LR,R2
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,2,2,-1,-1,null); 
				encodeAsm(ASM_OP.BX,5,-1,-1,-1,null); 
				encodeAsm(ASM_OP.MOV,7,glob_mirr_reg,-1,-1,null);
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,7,tmp_reg,-1,-1,save_lr_caller_offset.offset); 
				encodeAsm(ASM_OP.MOV,tmp_reg,14,-1,-1,null);
				
				// assume that if we are here -> we returned successfully -> no exceptions
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,5,7,-1,-1,null); 
				
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,1,3,-1,-1,null); // restore normal regs
				encodeAsm(ASM_OP.MOV,14,15,-1,-1,null); // PC:=LR
				
				// breakpoint_jmp_addr
				breakpoint_jmp_addr=rel_pc;
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,3); // r0 -> 3 -> breakpoint
				encodeAsm(ASM_OP.MOV,14,7,-1,-1,null); // save LR in R7 (used to store data to current task
				encodeAsm(ASM_OP.SUB,7,-1,-1,-1,1); // clear the last bit of LR
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,tmp_reg,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.MOV,tmp_reg,15,-1,-1,null); // jump to the main program - it will handle task switching				break;
				
				
				
				// fixed direct asm_call functions
				var dir_asm_calls=findVarElem(globals,"DIRECT_ASM_CALLS");
				//instr_trace_jmp_addr
				div_jump_addr=dir_asm_calls.offset+0*12;
				mod_jump_addr=dir_asm_calls.offset+1*12;
				instr_trace_jmp_addr=dir_asm_calls.offset+2*12;
				bfi_jump_addr=dir_asm_calls.offset+3*12;
				ubfx_r0_jump_addr=dir_asm_calls.offset+4*12;
				ubfx_r1_jump_addr=dir_asm_calls.offset+5*12;
			}
			else
			{
				arrayBoundsCheckAddr_gen=rel_pc;
				
				// first compare the R2 with 0. If negative -> exit right away
				encodeAsm(ASM_OP.CMP,2,-1,-1,-1,0);
				curr_patch=rel_pc;
				//encodeAsm(ASM_OP.B_LT,-1,-1,-1,-1,14);
				rel_pc+=2;
				// Jump to application
				encodeAsm(ASM_OP.MOV,14,7,-1,-1,null); // LR is copied into return pos
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,2); // exception code=2
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,tmp_reg,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,5,-1,-1,save_sp_offset.offset);
				encodeAsm(ASM_OP.MOV,5,13,-1,-1,null);
				encodeAsm(ASM_OP.MOV,tmp_reg,15,-1,-1,null); // jump to the main program - it will handle task switching			
				replaceCondJumpPatch(curr_patch,ASM_OP.B_GE);
				// R2 positive
				
				
				encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,0,1,-1,-1,null); 
				encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,5,5,-1,-1,null); 
				encodeAsm(ASM_OP.LDH,6,1,5,-1,null); // R5:=ref_reg[array_addr] -> size of array
				encodeAsm(ASM_OP.ADD,1,1,-1,-1,2); // increment array_addr by 2 -> get to "element size"
				encodeAsm(ASM_OP.LDH,6,1,0,-1,null); // R0:=ref_reg[array_addr] -> element size
				
				
				encodeAsm(ASM_OP.MUL,0,2,-1,-1,null);
				
				encodeAsm(ASM_OP.CMP,2,5,-1,-1,null);
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,5,5,-1,-1,null); 
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,0,1,-1,-1,null); 
				
				
				encodeAsm(ASM_OP.B_LT,-1,-1,-1,-1,14);
				// Jump to application
				encodeAsm(ASM_OP.MOV,14,7,-1,-1,null); // LR is copied into return pos
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,2); // exception code=2
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,6,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,5,-1,-1,save_sp_offset.offset);
				encodeAsm(ASM_OP.MOV,5,13,-1,-1,null);
				encodeAsm(ASM_OP.MOV,6,15,-1,-1,null); // jump to the main program - it will handle task switching				break;
				
				// if in-bounds -> adjust the R1
				encodeAsm(ASM_OP.ADD,1,2,1,-1,null);
				encodeAsm(ASM_OP.ADD,1,1,-1,-1,4);
				encodeAsm(ASM_OP.MOV,14,15,-1,-1,null); // PC:=LR
				
				
				
				
				// preemption point
				preemptionPointAddr=rel_pc;
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,0,-1,-1,preempt_point_elem.offset);
				encodeAsm(ASM_OP.CBZ,0,-1,-1,-1,10);
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,1); // r0 -> return code -> 0 - wait, 1-> preempt
				// has to be last instruction -> to avoid PC adjustment in the PG_Task
				encodeAsm(ASM_OP.MOV,14,7,-1,-1,null); // save LR in R7 (used to store data to current task
				encodeAsm(ASM_OP.SUB,7,-1,-1,-1,1); // clear the last bit of LR
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,6,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.MOV,6,15,-1,-1,null); // jump to the main program - it will handle task switching				break;
				encodeAsm(ASM_OP.MOV,14,15,-1,-1,null); // PC:=LR
				
				
				// wait until
				waitUntilAddr=rel_pc;
				encodeAsm(ASM_OP.CBNZ,0,-1,-1,-1,6);
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,0); // r0 -> return code -> 0 - wait, 1-> preempt
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,6,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.MOV,6,15,-1,-1,null); // jump to the main program - it will handle task switching				break;
				encodeAsm(ASM_OP.MOV,14,15,-1,-1,null); // PC:=LR
				
				// Context switch
				contextSwitchAddr=rel_pc;
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,8); // r0 -> return code -> 0 - wait, 1-> preempt, 8 -> context switch
				// has to be last instruction -> to avoid PC adjustment in the PG_Task
				encodeAsm(ASM_OP.MOV,14,7,-1,-1,null); // save LR in R7 (used to store data to current task
				encodeAsm(ASM_OP.SUB,7,-1,-1,-1,1); // clear the last bit of LR	
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,6,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.MOV,6,15,-1,-1,null); // jump to the main program - it will handle task switching				break;
				
				
				
				
				// function call in the firmware (based on the function number)
				functCallAddr_4_arg=rel_pc;
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,3,3,-1,-1,null); 
				functCallAddr_3_arg=rel_pc;
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,2,2,-1,-1,null); 
				functCallAddr_2_arg=rel_pc;
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,1,1,-1,-1,null); 
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,0,0,-1,-1,null); 
				functCallAddr_01_arg=rel_pc;
				
				
				encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,5,7,-1,-1,null); 
				encodeAsm(ASM_OP.MOV,5,-1,-1,-1,4);
				encodeAsm(ASM_OP.MUL,5,6,-1,-1,null);
				encodeAsm(ASM_OP.MOV,11,7,-1,-1,null);
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,7,5,-1,-1,funct_tbl_offset.offset); //get_function_tbl_offset
				encodeAsm(ASM_OP.LDW,5,6,5,-1,null); //get pointer within the function table
				
				encodeAsm(ASM_OP.MOV,14,6,-1,-1,null);
				encodeAsm(ASM_OP.STW_FORCED_4_BYTE,6,7,-1,-1,save_lr_caller_offset.offset); 
				encodeAsm(ASM_OP.STW_FORCED_4_BYTE,4,7,-1,-1,save_fp_caller_offset.offset); 
				
				encodeAsm(ASM_OP.BLX,5,-1,-1,-1,null); 
				encodeAsm(ASM_OP.MOV,7,11,-1,-1,null);
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,7,6,-1,-1,save_lr_caller_offset.offset); 
				encodeAsm(ASM_OP.MOV,6,14,-1,-1,null);
				
				// assume that if we are here -> we returned successfully -> no exceptions
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,5,7,-1,-1,null); 
				
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,1,3,-1,-1,null); // restore normal regs
				encodeAsm(ASM_OP.MOV,14,15,-1,-1,null); // PC:=LR
				
				// breakpoint_jmp_addr
				breakpoint_jmp_addr=rel_pc;
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,3); // r0 -> 3 -> breakpoint
				encodeAsm(ASM_OP.MOV,14,7,-1,-1,null); // save LR in R7 (used to store data to current task
				encodeAsm(ASM_OP.SUB,7,-1,-1,-1,1); // clear the last bit of LR
				encodeAsm(ASM_OP.LDW_FORCED_4_BYTE,glob_var_reg,6,-1,-1,save_lr_offset.offset);
				encodeAsm(ASM_OP.MOV,6,15,-1,-1,null); // jump to the main program - it will handle task switching				break;
				
				
				instr_trace_jmp_addr_skip_r0_check=rel_pc;
				encodeAsm(ASM_OP.MOV,0,-1,-1,-1,1); // R0:=1
				//instr_trace_jmp_addr
				instr_trace_jmp_addr=rel_pc;
				encodeAsm(ASM_OP.AND,0,0,-1,-1,1); // r0:=R0&1
				encodeAsm(ASM_OP.CBZ,0,-1,-1,-1,32); // IF R0=0-> skip
				encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,0,4,-1,-1,null);
				encodeAsm(ASM_OP.MOV,14,1,-1,-1,null); // R1:=R14
				encodeAsm(ASM_OP.SUB,1,-1,-1,-1,1); // clear the last bit of R1(LR)
				encodeAsm(ASM_OP.LDH,1,1,-1,-1,0); // R1:=R1[0].H
				encodeAsm(ASM_OP.LSR,1,2,-1,-1,5); // R2:=R1>>>5 (divide by 32)
				encodeAsm(ASM_OP.LSL,2,2,-1,-1,2); // R2:=R2<<4 (multiply by 4)
				encodeAsm(ASM_OP.MOV_CONST_4BYTE,4,-1,-1,-1,inst_trace_cnt_offset.offset+4); // R4:=inst_trace_cnt_offset.offset+4
				encodeAsm(ASM_OP.ADD,2,4,2,-1,null); // r2:=r4+r2
				encodeAsm(ASM_OP.AND,1,1,-1,-1,31); // R1:=R1&(31)
				encodeAsm(ASM_OP.LSL,1,0,-1,-1,null); // r0:=r0<<R1
				encodeAsm(ASM_OP.LDW,3,2,1,-1,null); // r1:=R3[r2]
				encodeAsm(ASM_OP.OR,0,1,-1,-1,null); // r1:=r1|R0	
				encodeAsm(ASM_OP.STW,3,2,1,-1,null); // R3[r2]:=r1
				encodeAsm(ASM_OP.POP_CONSEQ_REGS,0,4,-1,-1,null); // restore normal regs
				encodeAsm(ASM_OP.ADD,14,14,-1,-1,2); // adjust LR
				encodeAsm(ASM_OP.MOV,14,15,-1,-1,null); // jump back
			}
		}	
		
		var act_func_block=null;
		
		
		// second argument -> allow pointer read. This is only done when dealing with
		// function_block calls or assignments of in_out vars
		function generateProgCode(ast)
		{
			var i,j;
			curr_enc_elem=ast;
			switch(ast.enum_type)
			{
				case ELEM.ELEM_FUNC_BLOCK_PROLOGUE:
				{
					// R0 -> FP
					// LR -> RET addr
					addAsmAST_Mapping(ast);
					encodeAsm(ASM_OP.MOV,14,1,-1,-1,null);
					encodeAsm(ASM_OP.STW,1,0,-1,-1,0);
					encodeAsm(ASM_OP.STW,4,0,-1,-1,4);
					encodeAsm(ASM_OP.MOV,0,4,-1,-1,null);
					break;
				}
				case ELEM.WAIT_UNTIL:
				{
					if (act_func_block.FUNCTION!=undefined)
					{
						stopCompilation("WAIT_UNTIL is not allowed in functions",ast);
					}
					if ((ast.list[0].enum_type==ELEM.CONST)&&(parseInt(ast.list[0].data)==1))
					{
						addAsmAST_Mapping(ast);
						encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(contextSwitchAddr)); 			 
					}
					else
					{
						ast.asm_begin=rel_pc;
						
						encodeAsm(ASM_OP.MOV,15,7,-1,-1,null); // save PC in R7 (used to store data to current task
						
						addAsmAST_Mapping(ast);
						generateProgCode(ast.list[0]);
						JumpInstTraceWithAST(ast,true);
						
						encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(waitUntilAddr)); 			 
						ast.asm_end=rel_pc;
					}				 
					break;
				}
				case ELEM.ELEM_CONTEXT_SWITCH:
				{
					addAsmAST_Mapping(ast);
					encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(contextSwitchAddr)); 			 
					break;
				}
				case ELEM.ELEM_PREEMPTION_POINT:
				{
					addAsmAST_Mapping(ast);
					encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(preemptionPointAddr)); 
					break;
				}
				case ELEM.ELEM_RETURN:
				{
					addAsmAST_Mapping(ast);
					inject_debug();
					encodeAsm(ASM_OP.LDW,loc_funct_frame_reg,1,-1,-1,0); //return PC
					encodeAsm(ASM_OP.LDW,loc_funct_frame_reg,4,-1,-1,4); //return FP
					encodeAsm(ASM_OP.MOV,1,15,-1,-1,null); //jump to correct PC
					break;
				}
				
				case ELEM.EXPR_VAR:
				case ELEM.CONST:
				case ELEM.EXPR:
				generateExprAsm(0,ast,false);
				break;
				case ELEM.ASSIGN:
				case ELEM.FUNC_BLOCK_VAR_ASSIGN:
				{
					var pointer_assign=false; 
					if (ast.enum_type==ELEM.ASSIGN)
					{
						ast.asm_begin=rel_pc;
						
						if (act_func_block.FUNCTION!=undefined)
						{
							var jk=1;
							if  (ast.list[0].list[0].link.link.FUNCTION==undefined)
							{
								stopCompilation("assignmend to global variables are not allowed inside functions",ast);
							}
							if  (ast.list[0].list[0].link.segm_type==token_types.VAR_INOUT)
							{
								stopCompilation("assignmend to arguments are not allowed inside functions",ast);
							}

						}
					}
					if ((ast.enum_type==ELEM.FUNC_BLOCK_VAR_ASSIGN)&&
					(ast.list[0].list[ast.list[0].list.length-1].link.is_pointer==true))
					{ 
						if (ast.list[1].enum_type!=ELEM.EXPR_VAR)
						{
							stopCompilation("Assigning var_inout to expression",ast.list[1]);
						}
						// check type compatibility in asisgnment
						if (ast.list[1].last_type.data.localeCompare(ast.list[0].last_type.data)!=0)
						{
							if (((ast.list[1].last_type.data=="RETAIN_INT")&&(ast.list[0].last_type.data=="INT"))||
							((ast.list[1].last_type.data=="RETAIN_REAL")&&(ast.list[0].last_type.data=="REAL")))
							{
							}
							else if (((ast.list[1].last_type.data=="BYTE")&&(ast.list[0].last_type.data=="CHAR"))||
							((ast.list[0].last_type.data=="BYTE")&&(ast.list[1].last_type.data=="CHAR")))
							{
							}
							else if (((ast.list[1].last_type.data=="BYTE")&&(ast.list[0].last_type.link.BITFIELD_FUNCT_BLOCK!=undefined))||
									 ((ast.list[1].last_type.link.BITFIELD_FUNCT_BLOCK!=undefined)&&(ast.list[0].last_type.data=="BYTE")))
							{
							}
							else
							{						
								stopCompilation("Incompatible types",ast.list[1]);
							}
						}
						// check assignment between scalar and array types
						if (!(
							((ast.list[1].last_type.range_start!=undefined)&&(ast.list[0].last_type.range_start==undefined)&&(ast.list[1].list[ast.list[1].list.length-1].enum_type==ELEM.EXPR_VAR_ARR_IND))
							||
							((ast.list[1].last_type.range_start!=undefined)&&(ast.list[0].last_type.link.BITFIELD_FUNCT_BLOCK!=undefined))||
							((ast.list[0].last_type.range_start!=undefined)&&(ast.list[1].last_type.link.BITFIELD_FUNCT_BLOCK!=undefined))||
							(((ast.list[1].last_type.range_start==undefined)&&(ast.list[0].last_type.range_start==undefined))||
							((ast.list[1].last_type.range_start!=undefined)&&(ast.list[1].list[ast.list[1].list.length-1].enum_type!=ELEM.EXPR_VAR_ARR_IND)&&(ast.list[0].last_type.range_start!=undefined)))
						))
						{
							stopCompilation("assignment between scalar and array",ast.list[1]);
						}
						
						
						
						pointer_assign=true;
					}
					
					last_var_is_ptr=false;
					addAsmAST_Mapping(ast.list[1]);
					inject_debug();
					if ((ast.list[1].enum_type==ELEM.EXPR)||(ast.list[1].enum_type==ELEM.CONST)||
					(ast.list[1].enum_type==ELEM.TO_FLOAT)||(ast.list[1].enum_type==ELEM.TO_INT))
					{
						generateExprAsm(0,ast.list[1],false); 
					}
					else if (ast.list[1].enum_type==ELEM.EXPR_VAR)
					{
						if (pointer_assign==true)
						{
							generateReadVar(0,ast.list[1],2); // forced pointer assign  
						}
						else
						{
							generateExprAsm(0,ast.list[1],true); 
						}
					}
					else // func
					{
						generateProgCode(ast.list[1]);
					}
					// check pointer style assignments
					
					addAsmAST_Mapping(ast.list[0]);
					if (pointer_assign==true)
					{
						generateWriteVar(ast.list[0],2);
					}
					else
					{
						generateWriteVar(ast.list[0],true);
					}
					inject_debug();
					if (ast.enum_type==ELEM.ASSIGN)
					{
						ast.asm_end=rel_pc; 
					}
					
					break;
				}
				case ELEM.TRACE:
				case ELEM.LADDER_TRACE:
				ast.enum_type==ELEM.FUNC_NO_RETURN;
				if (ast.enum_type==ELEM.TRACE)
				{
					ast.func_descr=PROCESS.findBuiltInFunc("TRACE");
				}
				else
				{
					ast.func_descr=PROCESS.findBuiltInFunc("LADDER_TRACE");
				}
				var line=ast.list[1].data;
				var str=ast.data;
				trace_mapping[trace_mapping.length]={line:line,str:str};
				// fallthrough
				case ELEM.FUNC:
				case ELEM.FUNC_NO_RETURN:
				{
					if ((ast.enum_type==ELEM.FUNC_NO_RETURN)&&(ast.data!="LADDER_CONDITION"))
					{
						ast.asm_begin=rel_pc; 
					}
					
					
					
					
					
					if (ast.data=="LADDER_CONDITION")
					{
						addAsmAST_Mapping(ast);
					}
					
					inject_debug();
					// calculate location of the function
					encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,1,3,-1,-1,null); 
					
					if (ast.func_descr==null)
					{
						stopCompilation("Function does not exist",ast);
					}
					
					// special handling for LADDER_COIL, LADDER_ASSIGN
					if ((ast.data=="LADDER_COIL")||(ast.data=="LADDER_ASSIGN"))
					{
						
						// add 2 arguments	
						var obj1,obj2;
						obj1=new Object();
						obj2=new Object();
						ARGEE_nst_parse.setObjType(obj1,"CONST",ELEM.CONST,true);
						ARGEE_nst_parse.setObjType(obj2,"CONST",ELEM.CONST,true);
						if (ast.list[0].enum_type!=ELEM.EXPR_VAR)
						{
							stopCompilation("Destination has to be a variable",ast);
						}
						if ((ast.list[0].last_type.range_start!=undefined)&&(ast.list[0].list[ast.list[0].list.length-1].enum_type!=ELEM.EXPR_VAR_ARR_IND))
						{
							if ((ast.list[0].list[ast.list[0].list.length-2].enum_type==ELEM.EXPR_VAR_ARR_IND)&&
							(ast.list[0].list[ast.list[0].list.length-1].enum_type==ELEM.EXPR_VAR_OFFSET))
                            {
							}
							else
							{
								stopCompilation("Destination can't be an array - it has to be an array element",ast);
							}
						}
						
						if (ast.list[0].list[0].bit_offset!=undefined)
						{
							obj1.data=ast.list[0].list[0].bit_offset;
							obj2.data=ast.list[0].list[0].bit_len;
						}
						else
						{
							if (ast.list[0].list[ast.list[0].list.length-1].enum_type==ELEM.EXPR_VAR_OFFSET)
							{
								obj1.data=ast.list[0].list[ast.list[0].list.length-1].offset;
								obj2.data=ast.list[0].list[ast.list[0].list.length-1].len;
							}
							else
							{
								obj1.data=0;
								obj2.data=32;
							}
						}
						
						ast.list.splice(ast.list.length,0,obj1,obj2);
						ast.func_descr=PROCESS.findBuiltInSpecialFunc(ast.data);
					}
					
					if ((act_func_block.FUNCTION!=undefined)&&(ast.func_descr.not_in_function!=undefined))
					{
						stopCompilation("Calling "+ast.data+" is not allowed in functions",ast);
					}

					var num_args=0;
					for(i=0;i<4;i++)
					{
						if (ast.func_descr.arg_types[i]==null)
						{
							break;
						}
						num_args++;
					}
					
					var act_num_args=ast.list.length;
					if (ast.func_descr.pack_to!=undefined)
					{
						act_num_args--;
					}
					
					
					if (num_args!=act_num_args)
					{
						stopCompilation("Mismatch in number of arguments to the function",ast);
					}
					
					// up to 4 arguments are allowed 
					for(i=0;i<ast.list.length;i++)
					{
				
						if (ast.func_descr.arg_types[i]==null)
						{
							stopCompilation("too many function arguments ",ast);
						}
						if (ast.func_descr.arg_types[i].charAt(0)=='@')
						{
							if (ast.list[i].last_type==undefined)
							{
								stopCompilation("Function argument " +i+ " can not be a constant ",ast);
							}
							
							if ((i==1)&&(ast.data=="COPY_TO_BITFIELD")&&(ast.list[i].last_type.link.BITFIELD_FUNCT_BLOCK!=undefined))
							{
								ast.list[2].data=parseInt(ast.list[2].data)|0x80000000;
								ast.list[3].data=ast.list[i].last_type.link.var_size;
								var jk=1;
							}
							if ((i==1)&&(ast.data=="COPY_FROM_BITFIELD")&&(ast.list[i].last_type.link.BITFIELD_FUNCT_BLOCK!=undefined))
							{
								ast.list[2].data=parseInt(ast.list[2].data)|0x40000000;
								ast.list[3].data=ast.list[i].last_type.link.var_size;
								var jk=1;
							}
							else if ((ast.list[i].last_type.range_end==undefined)||(ast.list[i].last_type.data!=ast.func_descr.arg_types[i].substring(1)))
							{
								if ((i==0)&&(ast.data=="ARRAY_INIT")&&(ast.list[i].last_type.range_end!=undefined)&&
									((ast.list[i].last_type.data=="INT")||(ast.list[i].last_type.data=="BYTE")||
									(ast.list[i].last_type.data=="WORD")))
									{
										
									}
								else if (((i==1)||(i==2))&&(ast.data=="SPECIAL_SERVICE")&&(ast.list[i].last_type.range_end!=undefined)&&
										((ast.list[i].last_type.data=="INT")||(ast.list[i].last_type.data=="BYTE")||
										(ast.list[i].last_type.data=="WORD")))
									{
										
									}
								else if ((ast.list[i].last_type.range_end!=undefined)&&(ast.list[i].last_type.data=="BYTE")&&(ast.func_descr.arg_types[i]=="@CHAR"))
									{
									}
								else if ((ast.list[i].last_type.range_end==undefined)&&
									     (ast.list[i].last_type.link.BITFIELD_FUNCT_BLOCK!=undefined)&&
									     ((ast.func_descr.arg_types[i]=="@BYTE")||
										  (ast.func_descr.arg_types[i]=="@INT")||(ast.func_descr.arg_types[i]=="@WORD")))
									{
									}
								else if ((ast.list[i].last_type.data!=undefined)&&(ast.list[i].last_type.data=="BYTE")&&(ast.func_descr.arg_types[i]=="@CHAR"))
									{
									}
								else
									{
										stopCompilation("Function argument array type mismatch (arg " +i+ ") ",ast);
									}
							}
							else if (ast.list[i].list[ast.list[i].list.length-1].enum_type==ELEM.EXPR_VAR_ARR_IND)
							{
								// can't have array element being a pointer to an array
								stopCompilation("Function argument array type mismatch (arg " +i+ ") ",ast);
							}
						}
						else if (ast.func_descr.arg_types[i].charAt(0)=='&')
						{
							if (ast.list[i].last_type==undefined)
							{
								stopCompilation("Function argument " +i+ " can not be a constant ",ast);
							}
							
							if (((ast.data=="LADDER_ASSIGN")||
							(ast.data==   "LADDER_ASSIGN_SPECIAL_FP"))
							&&
							((ast.list[i].last_type.data=="RETAIN_REAL")||
							(ast.list[i].last_type.data=="REAL")))
							{
								// ladder assign can work on floating point numbers
							}
							else if (((ast.data=="LADDER_ASSIGN")||
							(ast.data==   "LADDER_ASSIGN_SPECIAL_FP"))
							&&
							((ast.list[i].last_type.data=="WORD")||
							(ast.list[i].last_type.data=="BYTE")))
							{
								// ladder assign can work on WORDS and BYTES
								if (ast.list[i].last_type.data=="BYTE")
								{
									ast.list[3].data=33;
								}
								else
								{
									ast.list[3].data=34; 
								}
							}
							else if ((ast.list[i].last_type.data!=ast.func_descr.arg_types[i].substring(1))&&
								(ast.list[i].last_type.data.localeCompare("RETAIN_INT")!=0)&&
								(ast.list[i].last_type.data.localeCompare("STATE")!=0)&&
							(ast.func_descr.arg_types[i].localeCompare("INT")!=0))
							{
								stopCompilation("Function argument type mismatch (arg " +i+ ") ",ast);
							}
						}
						else if (((ast.list[i].enum_type==ELEM.CONST)||(ast.list[i].last_type==undefined))&&(ast.func_descr.arg_types[i]=="INT"))
						{
							
						}
						else 
						{
							if (ast.list[i].last_type==undefined)
							{
								stopCompilation("Function argument " +i+ " can not be a constant ",ast);
							}
							if ((ast.list[i].last_type.data!=ast.func_descr.arg_types[i])&&
								(ast.list[i].last_type.data.localeCompare("RETAIN_INT")!=0)&&
								(ast.list[i].last_type.data.localeCompare("STATE")!=0)&&
							(ast.func_descr.arg_types[i].localeCompare("INT")!=0))
							{
								stopCompilation("Function argument type mismatch (arg " +i+ ") ",ast);
							}
						}
						inject_debug();
						if (ast.func_descr.arg_types[i].charAt(0)=='&')
						{
							getDataElemPointer(0,ast.list[i]);
						}
						else
						{
							generateExprAsm(0,ast.list[i],true);
						}
						if ((ast.func_descr.arg_types[i].charAt(0)!='&')&&(ast.list[i].fp==true))
						{
							encodeAsm(ASM_OP.FP_TO_REG,0,0,-1,-1,null);
						}
						
						if ((ast.func_descr.pack_to!=undefined)&&(i==ast.func_descr.pack_to))
						{
							encodeAsm(ASM_OP.POP_CONSEQ_REGS,1,1,-1,-1,null);
							encodeAsm(ASM_OP.LSL,1,1,-1,-1,16);
							encodeAsm(ASM_OP.ADD,1,0,0,-1,null);
						}
						if (ast.list.length>1)
						{
							encodeAsm(ASM_OP.PUSH_CONSEQ_REGS,0,0,-1,-1,null); 
						}
					}
					/*if (ast.list.length>1)
						{
						for(i=(ast.list.length-1);i>=0;i--)
						{
						encodeAsm(ASM_OP.POP_CONSEQ_REGS,i,i,-1,-1,null); 
						}
					}*/
					if (ast.data=="LADDER_CONDITION")
					{
						addAsmAST_Mapping(ast);
						JumpInstTraceWithAST(ast,true);
					}
					encodeAsm(ASM_OP.MOV,tmp_reg,-1,-1,-1,ast.func_descr.func_num);
					var num_args=ast.list.length;
					if (ast.func_descr.pack_to!=undefined)
					{
						num_args--;
					}
					switch(num_args)
					{
						case 0:
						case 1:
						encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(functCallAddr_01_arg));
						break;
						case 2:
						encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(functCallAddr_2_arg));
						break;
						case 3:
						encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(functCallAddr_3_arg));
						break;
						case 4:
						encodeAsm(ASM_OP.BL,-1,-1,1,-1,relJumpAddr(functCallAddr_4_arg));
						break;
					}
					
					if ((ast.enum_type==ELEM.FUNC_NO_RETURN)&&(ast.data!="LADDER_CONDITION"))
					{
						ast.asm_end=rel_pc; 
					}
					last_var_is_ptr=false;
					
					break;
				}
				case ELEM.WHILE:
				{
					var pc_begin,pc_end;
					var pc_at=[];
					var patch_points_at=[];
					var act_label;
					var curr_patch;
					
					
					inject_debug();
					pc_begin=rel_pc;
					loop_label_cnt++;
					act_label=loop_label_cnt;
					addAsmAST_Mapping(ast.list[0]);
					generateProgCode(ast.list[0]);
					JumpInstTraceWithAST(ast,true);
					if (arm7_mode==true)
					{
						encodeAsm(ASM_OP.LSL,0,0,-1,-1,31); // R0<<31
						encodeAsm(ASM_OP.LSR,0,0,-1,-1,31); // R0>>>31
						encodeAsm(ASM_OP.CMP,0,-1,-1,-1,0);
						curr_patch=rel_pc;
						//encodeAsm(ASM_OP.B_NE,-1,-1,-1,-1,0);
						rel_pc+=2;
						pc_at[0]=rel_pc;
						patch_points_at[0]=addPatchPoint(null,JMP_TYPE.FAR);
						replaceCondJumpPatch(curr_patch,ASM_OP.B_NE);
					}
					else
					{
						encodeAsm(ASM_OP.CBNZ,0,-1,-1,-1,2);
						pc_at[0]=rel_pc;
						patch_points_at[0]=addPatchPoint(null,JMP_TYPE.FAR);
					}
					generateProgCode(ast.list[1]);
					pc_at[1]=rel_pc;
					patch_points_at[1]=addPatchPoint(null,JMP_TYPE.FAR);
					replacePatch(patch_points_at[1],pc_begin-pc_at[1]);
					replacePatch(patch_points_at[0],rel_pc-pc_at[0]);
					inject_debug();
					
					break;
				}
				case ELEM.IF:
				{
					var pc_begin,pc_end;
					var pc_at=[];
					var patch_points_at=[];
					var act_label;
					var curr_patch;
					loop_label_cnt++;
					act_label=loop_label_cnt;
					
					
					
					for(i=0,j=0;i<ast.list.length;i+=2,j++)
					{
						if ((ast.list[i].enum_type==ELEM.CONST)&&(ast.list[i].data=="1")&&(i==(ast.list.length-2)))
						{
							// else -> no need to evaluate anything -> just insert the code
							addAsmAST_Mapping(ast.list[i]);
							encodeAsm(ASM_OP.MOV,0,-1,-1,-1,1); // r0 -> 1 forced trace 
							if (arm7_mode==true)
							{
								JumpInstTraceWithAST(ast.list[i],true);
							}	
							else
							{
								JumpInstTraceWithAST(ast.list[i],false);
							}
							// nop instruction
							addAsmAST_Mapping(ast.list[i+1]);
							
							generateProgCode(ast.list[i+1]);
						}
						else
						{
							addAsmAST_Mapping(ast.list[i]);
							generateProgCode(ast.list[i]);
							JumpInstTraceWithAST(ast.list[i],true);
							if (arm7_mode==true)
							{
								encodeAsm(ASM_OP.LSL,0,0,-1,-1,31); // R0<<31
								encodeAsm(ASM_OP.LSR,0,0,-1,-1,31); // R0>>>31
								encodeAsm(ASM_OP.CMP,0,-1,-1,-1,0);
								curr_patch=rel_pc;
								//encodeAsm(ASM_OP.B_NE,-1,-1,-1,-1,0);
								rel_pc+=2;
								pc_at[3*j+0]=rel_pc;
								patch_points_at[3*j+0]=addPatchPoint(null,JMP_TYPE.FAR);
								replaceCondJumpPatch(curr_patch,ASM_OP.B_NE);
							}
							else
							{
								encodeAsm(ASM_OP.CBNZ,0,-1,-1,-1,2);
								pc_at[3*j+0]=rel_pc;
								patch_points_at[3*j+0]=addPatchPoint(null,JMP_TYPE.FAR);
							}
							addAsmAST_Mapping(ast.list[i+1]);
							generateProgCode(ast.list[i+1]);
							if ((i+1)!=(ast.list.length-1))
							{
								pc_at[3*j+1]=rel_pc;
								// make a "FAR" branch here
								patch_points_at[3*j+1]=addPatchPoint(null,JMP_TYPE.FAR);
							}
							pc_at[3*j+2]=rel_pc;
						}
					}
					
					
					
					pc_end=rel_pc;
					for(i=0,j=0;i<ast.list.length;i+=2,j++)
					{
						if (!(((ast.list[i].enum_type==ELEM.CONST)&&(ast.list[i].data=="1")&&(i==(ast.list.length-2)))))
						{
							replacePatch(patch_points_at[3*j+0],(pc_at[3*j+2]-pc_at[3*j+0]));
							if ((i+1)!=(ast.list.length-1))
							{
								replacePatch(patch_points_at[3*j+1],(pc_end-pc_at[3*j+1]));
							}
						}					
					}
					break;
				}
				case ELEM.COMMENT_BLOCK:
				{
					break;
				}
				case ELEM.FUNC_BLOCK_CALL:
				{
					if ((act_func_block.FUNCTION!=undefined)&&(ast.func_ptr!=undefined)&&(ast.func_ptr.last_type.link.FUNCTION==undefined))
					{
						stopCompilation("Calling function blocks is not allowed in functions",ast);
					}
				
					// generate assignments (if any)
					if (ast.list[0].last_type.link.list==undefined)
					{
						stopCompilation("not a function block",ast);
					}
					if (ast.list[0].last_type.link.task_function_block==true)
					{
						stopCompilation("Tasks can not be called",ast);
					}
					if (ast.list[0].last_type.link.list.length<2)
					{
						stopCompilation("Invoking function block without code",ast);
					}
					if ((ast.list[0].list!=undefined)&&(ast.list[0].list.length>2))
					{
						stopCompilation("Function block is not a simple function block with index",ast);
					}
					
					if (ast.list[0].last_type.range_start!=undefined)
					{
						if ((ast.list[0].list!=undefined)&&(ast.list[0].list[1]!=undefined)&&(ast.list[0].list[1].enum_type==ELEM.EXPR_VAR_ARR_IND))
						{
						}
						else
						{
							stopCompilation("Can not call function block of Array type (has to be scalar)",ast);
						}
					}
					// check if all var_in_outs are assigned in subsequent statements
					var func_block_vars=ast.list[0].last_type.link.list[0].list;
					for(i=0;i<func_block_vars.length;i++)
					{
						if (func_block_vars[i].is_pointer==true)
						{
							var found=false;
							if (ast.list[1].list==undefined)
							{
								stopCompilation("Invoking function block without assigning var_inout",ast.list[0]);
							}
							for(j=0;j<ast.list[1].list.length;j++)
							{
								if (ast.list[1].list[j].list[0].list[ast.list[1].list[j].list[0].list.length-1].data!=undefined)
								{
									var name=ast.list[1].list[j].list[0].list[ast.list[1].list[j].list[0].list.length-1].data;
									if(name.localeCompare(func_block_vars[i].name)==0)
									{
										found=true;
										break;
									}
								}
							}
							if (found==false)
							{
								stopCompilation("Invoking function block without assigning var_inout \""+func_block_vars[i].name+"\"",ast.list[0]);
							}
						}
					}
					
					inject_debug();
					ast.asm_begin=rel_pc;
					generateProgCode(ast.list[1]);	
					ast.asm_end=rel_pc;
					addAsmAST_Mapping(ast.list[0]);
					//generateReadVar(0,ast.list[0]);
					getDataElemPointer(0,ast.list[0]);
					addPatchPoint(ast.list[0].last_type.data,JMP_TYPE.FAR);
					break;	
				}
				case ELEM.FUNCT_BLOCK:
				case ELEM.TASK:
					act_func_block=ast;
					// fallthrough
				default:	
				{
					if (ast.list!=undefined)
					{
						if ((ast.enum_type==ELEM.FUNCT_BLOCK)||(ast.enum_type==ELEM.TASK))
						{
							ast.rel_addr=rel_pc;
						}
						for(i=0;i<ast.list.length;i++)
						{
							generateProgCode(ast.list[i]);
						}
					}
					break;
				}		
			}
		}	
		
		var globals;
		
		function showAssemly()
		{
			printCompiled();
		}
		
		function createProjectFile()
		{
			// Project header -> 
			// Env -> 3.0.0.0, Kernel 3.0.0.0
			// checksum
			// LIO scanlist 
			
			
		}
		
		function GetCurrTaskFP_Offset()
		{
			return curr_task_elem.offset;
		}
		
		
		function UpdateControlSegObjs()
		{
			GOM.setObjNum("ARGEE_CTRL_PREEMPT_POINT_OFFSET",0,preempt_point_elem.offset);
			GOM.setObjNum("ARGEE_CTRL_SAVE_LR_OFFSET",0,save_lr_offset.offset);
			GOM.setObjNum("ARGEE_CTRL_SAVE_SP_OFFSET",0,save_sp_offset.offset);
			GOM.setObjNum("ARGEE_CTRL_CURR_TASK_OFFSET",0,curr_task_elem.offset);
			GOM.setObjNum("ARGEE_CTRL_FUNCT_TBL_OFFSET",0,funct_tbl_offset.offset);
			GOM.setObjNum("ARGEE_CTRL_FUNCT_TBL_LEN_OFFSET",0,func_tbl_len_offset.offset);
			GOM.setObjNum("ARGEE_CTRL_LR_CALLER_OFFSET",0,save_lr_caller_offset.offset);
			GOM.setObjNum("ARGEE_CTRL_FP_CALLER_OFFSET",0,save_fp_caller_offset.offset);
		}
		
		var url_prefix="http://192.168.1.253";
		
		/*
			function UploadProg()
			{
			if(invocation)
			{
			invocation.open('POST', url_prefix+'/pg', true);
			invocation.onreadystatechange=function()
			{
			console.log("upload stat "+invocation.readyState+" "+invocation.status);
			if ((invocation.readyState==4)&&(invocation.status==200))
			{
			if (refresh_timer_id!=null)
			{
			clearInterval(refresh_timer_id);
			}
			refresh_timer_id=setInterval(getVarsAjax,100);
			}
			
			} 
			var mapped_ranges=[]
			var ctrl_seg_size=17*4;
			var len=compiled_program_len+ctrl_seg_size;
			var arr=new ArrayBuffer(3+len+4);
			var dataView=new DataView(arr);
			var i;
			var curr_offset=0;
			dataView.setUint8(0,2); // code = upload proc code
			dataView.setUint16(1,len,true); // length of request =len
			curr_offset=3;
			
			//length element
			dataView.setUint32(curr_offset,len,true);curr_offset+=4; 
			// control elements
			dataView.setUint32(curr_offset,preempt_point_elem.offset,true);curr_offset+=4; 
			dataView.setUint32(curr_offset,curr_task_elem.offset,true);curr_offset+=4; 
			dataView.setUint32(curr_offset,save_sp_offset.offset,true);curr_offset+=4; 
			dataView.setUint32(curr_offset,save_lr_offset.offset,true);curr_offset+=4; 
			dataView.setUint32(curr_offset,funct_tbl_offset.offset,true);curr_offset+=4; 
			dataView.setUint32(curr_offset,func_tbl_len_offset.offset,true);curr_offset+=4; 
			dataView.setUint32(curr_offset,save_lr_caller_offset.offset,true);curr_offset+=4; 
			dataView.setUint32(curr_offset,save_fp_caller_offset.offset,true);curr_offset+=4; 
			
			
			
			// add to additional longs as reserved
			for(i=0;i<8;i++)
			{
			dataView.setUint32(curr_offset,0xDEADBEEF,true);curr_offset+=4; 
			}
			dataView.setUint32(curr_offset,process.getProgStartOffset(),true);curr_offset+=4; 
			
			//dataView.setUint8(curr_offset,mapped_ranges.length);curr_offset++ 
			for(i=0;i<mapped_ranges.length;i++)
			{
			/*dataView.setUint8(curr_offset,mapped_ranges[i].dst_long_offset);curr_offset++ ;
			dataView.setUint8(curr_offset,mapped_ranges[i].dst_bit_offset);curr_offset++ ;
			dataView.setUint8(curr_offset,mapped_ranges[i].src_segm);curr_offset++ ;
			dataView.setUint8(curr_offset,mapped_ranges[i].slot);curr_offset++ ;
			dataView.setUint8(curr_offset,mapped_ranges[i].byte_offset);curr_offset++; 
			dataView.setUint8(curr_offset,mapped_ranges[i].bit_offset);curr_offset++; 
			dataView.setUint8(curr_offset,mapped_ranges[i].num_bits);curr_offset++ ;
			dataView.setUint8(curr_offset,0);curr_offset++; // reserved 
			}
			
			dv_patched_debug_code=compiled_program_DataView;
			
			for(i=0;i<compiled_program_len;i++)
			{
			dataView.setUint8(curr_offset+i,dv_patched_debug_code.getUint8(i));
			}
			
			
			
			
			
			
			invocation.send(arr);
			
			//displayVarTree(arr,1,[],0);
			}
			invocation.timeout=4000;
			}
		*/
		
		
		var trace_mapping=[];	
		
		function findTraceStr(line)
		{
			var i;
			for(i=0;i<trace_mapping.length;i++)
			{
				if (trace_mapping[i].line==line)
				{
					return trace_mapping[i].str;
				}
			}
			return null;
		}
		
		
		function generate(ast)
		{
			globals=ast;
			rel_pc=process.getProgStartOffset();
			trace_mapping=[];
			try
			{
				generateAsm(ast);
				if (debug_console==true)
				{
					showAssemly();
				}
				UpdateControlSegObjs();
				var max_code_size=findCodeSizeLimit(GOM.getObjNum("MULTPC_ORDER_NUM",0));
				if (rel_pc>=max_code_size)
				{
					stopCompilation("Code size is too large "+rel_pc+" (max "+max_code_size+" )");
				}
			}
			catch(e)
			{
				PARSE.setErrMsg(e);
				console.log("Error: "+(e.err_msg) + " in the program on line: "+ (parse.getTokenStartLine()+1));
				//var res_inner=this.document.getElementById("comp_res_id");
				//res_inner.innerHTML="Error: "+(e.err_msg) + " in the program on line: "+ (token_start_line+1);
				return null;
			}
			return true;
			
		}
		
		function getFinalAST()
		{
			return globals;
		}
		
		
		return {
			generate:generate,
			GetCompiledProgLen:GetCompiledProgLen,
			GetCompiledDataview:GetCompiledDataview,
			UpdateControlSegObjs:UpdateControlSegObjs,
			GetCurrTaskFP_Offset:GetCurrTaskFP_Offset,
			getBreakpointJmpAddr:getBreakpointJmpAddr,
			getInstrTraceOffset:getInstrTraceOffset,
			findAddrInAsmElements:findAddrInAsmElements,
			getTaskAddrs:getTaskAddrs,
			getFinalAST:getFinalAST,
			getARM7_Mode:getARM7_Mode,
			setARM7_Mode:setARM7_Mode,
			findTraceStr:findTraceStr,
		}
	}());
	
	var GEN=ARGEE_nst_code_gen;	
	
	
		/********************************************************************************
 *
 * Copyright (c) 2016 by TUSA
 *
 ********************************************************************************
 *
 *  Initial Author       : Roman Glistvain
 *  Maintainers          : Roman Glistvain
 *
 *
 ********************************************************************************
 *
 *  DESCRIPTION: ARGEE HMI Renderer. This file contains functions that render HMI.
 *               This file is copied into the ARGEE project to provide standalone  
 *               HMI Renderer.
 *
 *******************************************************************************/






var standalone_hmi=
{
	td_preview:function(evt,elem)
	{
		if (standalone_hmi.preview_mode==true)
		{
			var msg={msg_type:1,line_num:parseInt(elem.dataset.line_num)};
			window.parent.postMessage(JSON.stringify(msg), "*");
			evt.stopPropagation();
			return false;
			
		}
		return true;
	},
	setPreviewMode:function()
	{
		this.preview_mode=true;
	},
	
	libVersion:function()
	{
		return 2;
	},
	
	enumerateLeafElements:function(func,elem)
	{
		if (typeof elem != 'object')
		{
			return;
		}
		if (elem.type=="FUNC_NO_RETURN")
		{
			func(elem);
		}
		else if (elem.list!=undefined)
		{
			var i;
			for(i=0;i<elem.list.length;i++)
			{
				this.enumerateLeafElements(func,elem.list[i]);
			}
		}
	},

		
	
	preProcessLeafs:function(obj)
	{
		var l;
		var rend=-1,expr_var=-1;
		
		for(l=0;l<this.rend_types.length;l++)
		{
			if (this.rend_types[l].name.localeCompare(obj.name)==0)
			{
				rend=l;
				break;
			}
		}
		var var_func="NONE";
		var var_descr=null;
		if (obj.list[this.rend_types[rend].var_elem]!=undefined)
		{
			if (obj.list[this.rend_types[rend].var_elem].type=="FUNC")
			{
				var_func=obj.list[this.rend_types[rend].var_elem].name;
				var_descr=obj.list[this.rend_types[rend].var_elem].list[0];
			}
			else
			{
				var_descr=obj.list[this.rend_types[rend].var_elem];
			}
			/*if (this.rend_types[rend].file_op==true)
			{
				this.state_elems[obj.elem_id]={file_size:0,req_chunk_size:0,start_pos:0,req:0,file_ready:0,exchange_arr:[]};
			}*/
		}
		obj.rend=rend;
		obj.var_func=var_func;
		obj.var_descr=var_descr;
	},
	
	preProcess:function()
	{
	    var bound_func=this.preProcessLeafs.bind(this);
		this.enumerateLeafElements(bound_func,this.hmi_elems);
		
		this.preProcesBlockObjects(this.hmi_elems);
		
	},
	setHMI_Elems:function(hmi)
	{
		this.hmi_elems=hmi;
		this.preProcess();		
	},
	setURL:function(url)
	{
		var url_split=url.split("/");
		//host -> 3rd string
		this.url="http://"+url_split[2];
	},
	renderButton:function(elem)
	{
		var str="";
		str+="<center>";
		if (elem.var_func=="NONE")
		{
			if (this.file_submit_button==true)
			{
				elem.file_submit_button=true;
				elem.file_ref_obj=this.file_ref_obj;
				elem.file_ref_obj_dir=this.file_ref_obj_dir;
			}
			this.editable_elements_for_curr_button=this.editable_elements_for_curr_button.concat(this.globalEditFieldList);
			this.editable_elements_for_curr_button[this.editable_elements_for_curr_button.length]=[elem.var_descr.offset,this.getObjSize(elem.var_descr),elem.var_descr.bit_offset,elem.var_descr.bit_len];
			str+="<button style=\""+this.simp_font_100_str+"\" onclick=\"standalone_hmi.onElemEdit(this)\""+
					"data-elem_editable_elements=\""+JSON.stringify(this.editable_elements_for_curr_button)+"\" data-elem_obj='"+JSON.stringify(elem)+"' >"+elem.list[0].name+"</button>";
			this.editable_elements_for_curr_button=[];
			this.file_submit_button=false;
			
		}
		else
		{
			str+="<button style=\""+this.simp_font_100_str+"\" onclick=\"standalone_hmi.onElemEdit(this)\""+
					" data-elem_obj='"+JSON.stringify(elem)+"' >"+elem.list[0].name+"</button>";
		}
		str+="</center>";
		return str;
	},
	renderLink:function(elem)
	{
		var str="";
		var link_name=this.getVarValue(elem.list[0],false);
		var link_bg_color=this.getVarValue(elem.list[2],false);
		str+="<center>";
		this.editable_elements_for_curr_button=[];
		this.editable_elements_for_curr_button[this.editable_elements_for_curr_button.length]=[elem.list[1].offset,this.getObjSize(elem.list[1]),elem.list[1].bit_offset,elem.list[1].bit_len];
		str+="<a id='link_id_"+elem.elem_id+"' href='#' style=\""+this.simp_font_100_str+"\" onclick=\"standalone_hmi.onElemEdit(this)\""+
					"data-elem_editable_elements=\""+JSON.stringify(this.editable_elements_for_curr_button)+"\" data-elem_obj='"+JSON.stringify(elem)+"' >"+link_name+"</a>";
		this.editable_elements_for_curr_button=[];
		this.links[this.links.length]=elem;
		str+="</center>";
		return str;
		
	},
	renderFileUpload:function(elem)
	{
		var str="";
		str+="<center>";
		str+="<input type=\"file\" id=\"files_id_"+elem.elem_id+"\"  onchange=\"standalone_hmi.handleFileSelect(this);return false;\" name=\"files[]\" multiple data-elem_obj='"+JSON.stringify(elem)+"' /><br>";
		str+="</center>";
		this.file_submit_button=true;
	    this.editable_elements_for_curr_button[this.editable_elements_for_curr_button.length]=
	            [elem.list[5].offset,this.getObjSize(elem.list[5]),-1,-1];  // file_size
	    this.editable_elements_for_curr_button[this.editable_elements_for_curr_button.length]=
	            [elem.list[3].offset,this.getObjSize(elem.list[3]),-1,-1]; // req_resp
		this.file_ref_obj=elem;
		this.file_ref_obj_dir=0; // upload
		return str;
	},
	handleFileInput:function(evt)
	{
		standalone_hmi.ref_exchange_arr=[];
		standalone_hmi.ref_obj=JSON.parse(evt.dataset.elem_obj);
		standalone_hmi.ref_download_filename=evt.value;
		var jk=1;
	},
	renderFileDownload:function(elem)
	{
		var str="";
		str+="<center>";
		str+="<input onchange=\"standalone_hmi.handleFileInput(this);return false;\" data-elem_obj='"+JSON.stringify(elem)+"' /><br>";
		str+="</center>";
		this.file_submit_button=true;
	    this.editable_elements_for_curr_button[this.editable_elements_for_curr_button.length]=
	            [elem.list[3].offset,this.getObjSize(elem.list[3]),-1,-1];
		this.file_ref_obj=elem;
		this.file_ref_obj_dir=1; // download
		return str;
	},
	
	onReadFile:function(e)
	{
	   var res=e.target.result;
	   var uArr=new Uint8Array(res);
	   var i;
	   standalone_hmi.ref_exchange_arr=[];
	   
	   for(i=0;i<res.byteLength;i++)
	   {
		   standalone_hmi.ref_exchange_arr[i]=uArr[i];
	   }
	   standalone_hmi.setVarValue(standalone_hmi.ref_obj.list[5],res.byteLength);
	},
	
	handleFileSelect:function(evt)
	{
		if (standalone_hmi.file_op_in_progress==true)
		{
			alert("only one file operation is allowed at one time");
			return;
		}
		var files = evt.files; // FileList object
		standalone_hmi.ref_obj=JSON.parse(evt.dataset.elem_obj);
		 
		for (var i = 0, f; f = files[i]; i++) {

		  var reader = new FileReader();

		  reader.onload = (function(theFile) 
		  {
			   return standalone_hmi.onReadFile;
		  })(f);
		  reader.readAsArrayBuffer(f);
		}
	},
	
	swap:function(arr,ind1,ind2)
	{
		var tmp=arr[ind1];
		arr[ind1]=arr[ind2];
		arr[ind2]=tmp;
	},
	
	handleButton:function(elem_dom,obj)
	{
		if (this.file_op_in_progress==true)
		{
			alert("Can not submit until the file operation is complete!");
			return;
		}
		
		if (obj.var_func=="NONE")
		{
			if (obj.file_submit_button==true)
			{
				if (obj.file_ref_obj_dir==0) // upload
				{
					if (this.ref_exchange_arr.length==0)
					{
						alert("Can't upload an empty file");
						return;
					}
				}
				this.ref_obj_dir=obj.file_ref_obj_dir;
			    this.ref_num=2;
				this.ref_filename=standalone_hmi.ref_download_filename;
				this.file_op_in_progress=true;
				this.setVarValue(this.file_ref_obj.list[3],7);
			}
			this.setVarValue(obj.var_descr,"1");
			var elems_in_button=JSON.parse(elem_dom.dataset.elem_editable_elements);
			this.AjaxAdd("SET",elems_in_button);
		}
		else if (obj.var_func=="CSV")
		{
			var args=obj.list[1].list;
			if (args.length<4)
			{
				// not enough arguments
				return;
			}
			if (args[1].type!="CONST_INT")
			{
				// timer period not defined
				return;
			}	
			var timestamp=this.getVarValue(args[0],false);
			var poll_period=parseInt(args[1].name);
			var i,j,k;
			var arrs=[];
			
			for(i=2;i<args.length;i++)
			{
				arrs[i-2]=this.getVarValue(args[i],false);
			}
			for(i=0;i<(arrs.length-1);i++)
			{
				if (arrs[i].length!=arrs[i+1].length)
				{
					return; // all arrays have to have the same length
				}
			}
			// sort arrays according to the timestamp
			
			for(i=0;i<arrs[0].length;i++)
			{
				var smallest_ind=i;
				for(j=i+1;j<arrs[0].length;j++)
				{
					if (parseInt(arrs[0][j])<parseInt(arrs[0][smallest_ind]))
					{
						smallest_ind=j;
					}
				}
				for(j=0;j<arrs.length;j++)
				{
					this.swap(arrs[j],i,smallest_ind);
				}
			}
			// current time in the timer -> "timestamp" var.
			// convert timestamps to PC time
			for(i=0;i<arrs[0].length;i++)
			{
				var tm=parseInt(arrs[0][i]);
				var diff=(tm-timestamp)*parseInt(args[1].name);
				var ms=new Date().getTime();
				var date=new Date(ms+diff).toString();
				arrs[0][i]=date;
			}
			var str="";
			// generate an output array
			for(j=0;j<arrs[0].length;j++)
			{
				str+=arrs[0][j];
				for(i=1;i<arrs.length;i++)
				{
					str+=",";
					str+=arrs[i][j];
				}
				str+="\n";
			}
			var imgDLHelper = document.getElementById('imgdlhelper');
			imgDLHelper.download=obj.list[0].name+".csv";
			var unt8arr=new Uint8Array(str.length);
			for(i=0;i<str.length;i++)
			{
				unt8arr[i]=str.charCodeAt(i);
			}
			blob = new Blob([unt8arr], { type: 'application/octet-stream;base64' }); 
			var blobUrl = URL.createObjectURL(blob);
			
			imgDLHelper.href=blobUrl;
			imgDLHelper.click();
		}
	},
	handleLink:function(elem_dom,obj)
	{
		if (this.file_op_in_progress==true)
		{
			alert("Can not submit until the file operation is complete!");
			return;
		}
		this.setVarValue(obj.list[1],"1");
		var elems_in_button=JSON.parse(elem_dom.dataset.elem_editable_elements);
		this.AjaxAdd("SET",elems_in_button);
		
	},
	pad:function(n, width, z) 
	{
	  z = z || '0';
	  n = n + '';
	  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
	},	
	renderDisp:function(elem)
	{
		var val=this.getVarValue(elem.var_descr,false);
		var var_type="INT";
		if (typeof val === 'string')
		{
			var_type="STRING";
		}
		if (Array.isArray(val))
		{
         var i;
         if (elem.var_descr.sub_type=="BYTE")
         {
            // byte arrays are displayed as strings
            var str="";
            for(i=0;i<val.length;i++)
            {
               if (val[i]==0)
               {
                  break;
               }
               else
               {
                  str+=String.fromCharCode(val[i]);
               }
            }
            if (str.length==0)
            {
               str="&nbsp&nbsp";
            }
            return str;
         }
         else
         {
            var str="["+0+"]="+val[0];
            for(i=1;i<val.length;i++)
            {
               str+="<br>"+"["+i+"]="+val[i];
            }
            return str;	
         }
		}
		else
		{
			switch(elem.var_func)
			{
				case "NONE":
					 if (elem.subtype!="GRID")
					 {
						if (elem.var_descr.sub_type=="STATE")
						{
							if (this.hmi_elems.enum_list[val]!=undefined)
							{
								return this.hmi_elems.enum_list[val]+"";
							}
							else
							{
								return val+"";
							}
						}					
						return val+" "+elem.list[2].name;
					 }
					 else
					 {
						 return val;
					 }
				case "HEX":
				{
					var str="";
					var arr_buf=new ArrayBuffer(4);
					var dv=new DataView(arr_buf);
					dv.setInt32(0,val,false);
					var len=elem.var_descr.size;
					var start_offset=0;
					switch(len)
					{
						case 2: start_offset=2; break;
						case 1: start_offset=3; break;
					}
					var i;
					for(i=0;i<len;i++)
					{
						if (i!=0)
						{
							str+=" ";
						}
						var hex_val=dv.getUint8(start_offset+i);
						str+=this.pad(hex_val.toString(16),2);
					}
					if (elem.subtype!="GRID")
					{
						str+=" "+elem.list[2].name;
					}
					return str;
				}
			}
		}
		
	},
	renderEditNum:function(elem)
	{
		var val_str;
		var val=this.getVarValue(elem.var_descr,true);
		var var_type="INT";
      var type="type=\"text\"";
		if (typeof val === 'string')
		{
			var_type="STRING";
		}
		switch(elem.var_func)
		{
			case "NONE":	
				 val_str=val;
				 break;
         case "PASSWORD":
             type="type=\"password\"";
             break;
			case "HEX":
			{
				var val_str="";
				var arr_buf=new ArrayBuffer(4);
				var dv=new DataView(arr_buf);
				dv.setInt32(0,val,false);
				var len=elem.var_descr.size;
				var start_offset=0;
				switch(len)
				{
					case 2: start_offset=2; break;
					case 1: start_offset=3; break;
				}

				var i;
				for(i=0;i<len;i++)
				{
					if (i!=0)
					{
						val_str+=" ";
					}
					var hex_val=dv.getUint8(start_offset+i);
					val_str+=this.pad(hex_val.toString(16),2);
				}
				break;
			}
		}
		//this.editable_elements_for_curr_button[this.editable_elements_for_curr_button.length]=[elem.var_descr.offset,this.getObjSize(elem.var_descr)];
		var str="";
		var align="text-align:left;";
		if (elem.subtype!="GRID")
		{
			str+="<table><tr><td>"
		}

		if (var_type=="INT")
		{
				align="text-align:right;box-sizing:border-box;padding-right:2px;";
		}
			
		str+="<input "+type+" style=\"width:100%;"+this.simp_font_100_str+align+"\" onblur=\"standalone_hmi.onElemEdit(this)\" data-elem_obj='"+JSON.stringify(elem)+"' value=\""+val_str+"\" >";
		if (elem.subtype!="GRID")
		{			
			str+="</td><td>"+elem.list[2].name+"</td></tr></table>";
		}
		return str;
			
		
	},
	handleEnterNum:function(elem_dom,obj)
	{
		var val=elem_dom.value;
		var arr=val.split(" ");
		var i;
		
		if 	((obj.var_descr.sub_type=="CHAR")&&(obj.var_descr.is_array==true))
		{
			this.setVarValue(obj.var_descr,val)
		}
		else
		{
			var val_num=0;
			for(i=0;i<arr.length;i++)
			{
				val_num<<=8;
				if (obj.var_func=="HEX")
				{
					val_num|=parseInt(arr[i],16);
				}
                else if ((obj.var_descr.sub_type=="REAL")||(obj.var_descr.sub_type=="RETAIN_REAL"))
                {
                    val_num=parseFloat(arr[i]);
                }
				else
				{
					val_num|=parseInt(arr[i]);
				}
			}
			this.setVarValue(obj.var_descr,val_num.toString());
		}
	},
	renderEditState:function(elem)
	{
		var val=this.getVarValue(elem.var_descr,true);
		//this.editable_elements_for_curr_button[this.editable_elements_for_curr_button.length]=[elem.var_descr.offset,this.getObjSize(elem.var_descr)];
		var low_enum=elem.list[2].name;
		var high_enum=elem.list[3].name;
		var str="<select style=\""+this.simp_font_100_str+"\" data-elem_obj='"+JSON.stringify(elem)+"' onchange=\"standalone_hmi.onElemEdit(this)\">";
		var i;
		for(i=low_enum;i<=high_enum;i++)
		{
			var selected="";
			if (i==val)
			{
				selected="selected";
			}
			str+="<option "+selected+" value=\""+i+"\">"+(this.hmi_elems.enum_list[i])+"</option>";
		}
		str+="</select></td>";
		return str;
	},
	handleEnterState:function(elem_dom,obj)
	{
		var val=elem_dom.value;
		this.setVarValue(obj.var_descr,val.toString());
	},
	renderDispRange:function(elem)
	{
		// updates this.background_color_of_active_element -> used to calculate the background color of different screens;
		var val=this.getVarValue(elem.var_descr,false);
		// for now only Green min/max are covered. anything outside is red
		var low_green=elem.list[3].name;
		var high_green=elem.list[4].name;
		var str="";
		if ((val>=low_green)&&(val<=high_green))
		{
			this.background_color_of_active_element=0;
			str="<div style=\"background-color:lightgreen\">";
		}
		else
		{
			this.background_color_of_active_element=2;
			str="<div style=\"background-color:red\">";
		}
		str+=val+" "+elem.list[2].name+"</div>";
		return str;
	},
	renderScreenList:function(elem)
	{
		var rend="";
		rend+="<table style=\""+this.simp_font_200_str+"\" border=\"1\"><tr>";
		var i;
		for(i=0;i<this.hmi_elems.list.length;i++)
		{
			var additional_screen_prop_prefix="";
			var additional_screen_prop_suffix="";
			if (i==this.active_screen)
			{
				additional_screen_prop_prefix="<b><i>"
				additional_screen_prop_suffix="</i></b>";
			}
			var name;
			if (this.hmi_elems.list[i].type=="BLOCK")
			{
				name=this.hmi_elems.list[i].func.args[0].name;
			}
			else
			{
				name=this.hmi_elems.list[i].name;
			}
			rend+="<td id=\"hmi_screen_"+i+"\">"+additional_screen_prop_prefix+"<a href='#' onclick=\"standalone_hmi.clickHMI_Link("+i+")\">"+name+"</a>"+additional_screen_prop_suffix+"</td>";
			this.screen_background_color[i]=0;
		}
		rend+="</tr></table>"
		this.inner_screenlist_present=true;
		return rend;
	},
	
	getImageStr:function(name,background,zoom)
	{
		var i;
		if (this.hmi_elems.images==undefined)
		{
			return null;
		}
		for (i=0;this.hmi_elems.images.length;i++)
		{
			if (this.hmi_elems.images[i].list[0].name==name)
			{
				return "<center><img style=\"max-width:100%;max-height:100%;width:"+zoom+"%;background-color:"+background+";\" src=\""+this.hmi_elems.images[i].list[1].name+"\"><center>";
			}
		}
		return null;
		
	},
	
	renderGraphics:function(elem)
	{
		return this.getImageStr(elem.list[0].name,"transparent",elem.list[1].name);
	},
	
	
	notifStateColor:function(color)
	{
		this.background_color_of_active_element=0;
		if ((color.toLowerCase()=="yellow")||(color.toLowerCase()=="orange")||(color.toLowerCase()=="gold"))
		{
			this.background_color_of_active_element=1;						
		}
		if (color.toLowerCase()=="red")
		{
			this.background_color_of_active_element=2;						
		}
		
	},
	
	renderMultStateGraphics:function(elem)
	{
		var val=this.getVarValue(elem.var_descr,false);
		var zoom_level=elem.list[1].name;
		var i;
		var num_vals=((elem.list.length-2)/3)|0;
		for(i=0;i<num_vals;i++)
		{
			var cmp_val=parseInt(elem.list[2+0+i*3].name);
			var image_name=elem.list[2+1+i*3].name;
			var image_bgr=elem.list[2+2+i*3].name;
			if (val==cmp_val)
			{
				this.notifStateColor(image_bgr);
				var td_elem=window.document.getElementById("td_id_"+elem.elem_id);
				if (td_elem!=null)
				{
					td_elem.style.backgroundColor=image_bgr;
				}
				
				return this.getImageStr(image_name,"transparent",zoom_level);
			}
		}
		return null;
		
	},
	
	renderMultStateShow:function(elem)
	{
		var val=this.getVarValue(elem.var_descr,false);
		var i;
		var num_vals=((elem.list.length-2)/4)|0;
		for(i=0;i<num_vals;i++)
		{
			var cmp_val=parseInt(elem.list[2+0+i*4].name);
			var text_to_disp=(elem.list[2+1+i*4].name);
			var text_color=(elem.list[2+2+i*4].name);
			var text_bg_color=(elem.list[2+3+i*4].name);
			if (val==cmp_val)
			{
				this.notifStateColor(text_bg_color);
				var td_elem=window.document.getElementById("td_id_"+elem.elem_id);
				if (td_elem!=null)
				{
					td_elem.style.backgroundColor=text_bg_color;
				}
				return "<font style='font-size="+elem.list[1].name+"vw;' color='"+text_color+"'>"+text_to_disp+"</font>";
			}
		}
		return "";	
	},
	
	
	
	
	renderDropDown:function(elem)
	{
		var val=this.getVarValue(elem.var_descr,true);
		//this.editable_elements_for_curr_button[this.editable_elements_for_curr_button.length]=[elem.var_descr.offset,this.getObjSize(elem.var_descr)];
		var num_vals=((elem.list.length-1)/2)|0;
		
		var str="<select style=\"width:100%; "+this.simp_font_100_str+"\" data-elem_obj='"+JSON.stringify(elem)+"' onchange=\"standalone_hmi.onElemEdit(this)\">";
		var i;
		for(i=0;i<num_vals;i++)
		{
			var inner_val=parseInt(elem.list[1+0+i*2].name);
			var disp_name=elem.list[1+1+i*2].name;
			var selected="";
			if (inner_val==val)
			{
				selected="selected";
			}
			str+="<option "+selected+" value=\""+inner_val+"\">"+disp_name+"</option>";
		}
		str+="</select></td>";
		return str;
	},
	handleDropDown:function(elem_dom,obj)
	{
		var val=parseInt(elem_dom.value);
		this.setVarValue(obj.var_descr,val.toString());
	},
	
		
	renderVarWithHealth:function(elem)
	{
		var var_val=this.getVarValue(elem.list[0],false);
		var health_val=this.getVarValue(elem.list[2],false);
		var bg_color="lightgreen";
		var fg_color="black";
		switch(health_val)
		{
			case 1:bg_color="yellow";fg_color="black";break;
			case 2:bg_color="red";fg_color="white";break;
			case -1:bg_color="transparent";fg_color="black";break;
		}
		var str="<table><tr><td><font color='"+fg_color+"'>"+var_val+"</font></td><td><font color='"+fg_color+"'>"+elem.list[1].name+"</font></td></tr></table>";
		this.notifStateColor(bg_color);
		var td_elem=window.document.getElementById("td_id_"+elem.elem_id);
		if (td_elem!=null)
		{
			td_elem.style.backgroundColor=bg_color;
		}
		return str;
	},
	
	
	
	
	
	
	
	
	onResize:function()
	{
		if (standalone_hmi.preview_mode==true)
		{
	
			return;
		}
		var fixed_div=window.document.getElementById("hmi_screens");
		var flex_div=window.document.getElementById("hmi_active_screen");
		if ((flex_div!=null)&&(fixed_div!=null))
		{
			flex_div.style.width=fixed_div.clientWidth+"px";
		}
	},
	

	addVarModif:function(offset,size,bit_offset,bit_len)
	{
		var i;
		for(i=0;i<this.submit_req_list.length;i++)
		{
			if (
			     (this.submit_req_list[i][0]==offset)&&
				 (this.submit_req_list[i][1]==size)&&
				 (this.submit_req_list[i][2]==bit_offset)&&
				 (this.submit_req_list[i][3]==bit_len)
			   )
			{
				return;	
			}
		}
		var pos=this.submit_req_list.length;
		this.submit_req_list[pos]=[];
		this.submit_req_list[pos][0]=offset;
		this.submit_req_list[pos][1]=size;
		this.submit_req_list[pos][2]=bit_offset;
		this.submit_req_list[pos][3]=bit_len;
	},
	clearVarModifList:function()
	{
		this.submit_req_list=[];
	},

	// object global variables
	initObj:function()
	{
		this.AJAX_STATE=
		{
		AJAX_STATE_STOP:0,
		AJAX_STATE_RUN:1,
		};
		
		this.HMI_EVENTS=
		{
			EVT_INIT_START:0,
			EVT_INIT_END:1,
			EVT_REDRAW_START:2,
			EVT_REDRAW_END:3,
			EVT_STATUS_UPDATE_START:4,
			EVT_STATUS_UPDATE_END:5,
			EVT_POLL:6,
		};	

		if (typeof abort_ajax!== "undefined")
		{
			abort_ajax=false;
		}

		this.hmi_tmp_arr=new ArrayBuffer(1024*64);
		this.submit_arr=new ArrayBuffer(1024*64);
		this.poll_arr=null;
		this.ajax_batch_get=[];
		this.MAX_BATCH_SIZE=16;
		this.ajaxStateRequest=this.AJAX_STATE.RUN;
		this.ajaxCurrState=this.AJAX_STATE.RUN;
		this.ARGEE_PROG_VARS_UID=(73<<16)|132;
		this.ARGEE_CHECK_PASSWORD_UID=(73<<16)|9;
		this.timer=null;
		this.timer_stopped=false;
		this.setSubmitted=false;
		this.exchange_in_prog=false;
		this.ajax_queue=[];
		this.curr_ajax=null;
		this.cnt=0;
		this.curr_user=0;
		this.screen_change=true;
		this.screen_change_trigger=true;
		this.auto_update_list=[];
		this.globalEditFieldList=[];
		this.edit_list=[];
		this.editable_elements_for_curr_button=[];
		this.file_submit_button=false;
		this.active_screen=0;
		this.new_screen_request=0;
		this.hmi_elems=null;
		this.screen_background_color=[];
		this.background_color_of_active_element;
		this.before_first_draw=true;
		this.oid_of_argee_vars=-1;
		this.file_op_in_progress=false;
		this.password="password";
		this.submit_cnt=0;
		this.submission_state=true;
		this.submit_req_list=[];
		this.timeout_val=5000;

		
		this.ref_exchange_arr=[];
		this.state_elems=[];
      if (typeof window === 'undefined') 
      {
            this.simp_font_100_str="font-size: 100%;";
            this.simp_font_150_str="font-size: 125%%;";
            this.simp_font_200_str="font-size: 125%;";
            this.scr_width="width:50%;"
      }
      else
      {
         window.addEventListener("resize", standalone_hmi.onResize);
         if (typeof window.orientation !== 'undefined')
         {
            this.simp_font_100_str="font-size: 100%;";
            this.simp_font_150_str="font-size: 150%;";
            this.simp_font_200_str="font-size: 200%;";
            this.scr_width="width:100%;"
         }
         else if (typeof SIM == "undefined")
         {
            this.simp_font_100_str="font-size: 100%;";
            this.simp_font_150_str="font-size: 125%%;";
            this.simp_font_200_str="font-size: 125%;";
            this.scr_width="width:50%;"
         }
         else
         {
            /*this.simp_font_100_str="";
            this.simp_font_150_str="";
            this.simp_font_200_str="";
            */
            this.simp_font_100_str="font-size: 100%;";
            this.simp_font_150_str="font-size: 125%%;";
            this.simp_font_200_str="font-size: 125%;";
            
            this.scr_width="width:50%;"
         }
      }

		
		

		
		var rend_types=
		[
			{name:"HMI_DISP_NUM",format:[0,[1,2]],auto_refresh:1,render:this.renderDisp.bind(this),handle_inp:null,var_elem:1},
			{name:"HMI_DISP_RANGE",format:[0,[1,2]],auto_refresh:1,auto_background:[1,[3,4],["lightgreen","red"]],render:this.renderDispRange.bind(this),handle_inp:null,var_elem:1},
			{name:"HMI_ENTER_NUM",format:[0,[1,2]],render:this.renderEditNum.bind(this),handle_inp:this.handleEnterNum.bind(this),var_elem:1},
			{name:"HMI_BUTTON",format:[[0,1]],render:this.renderButton.bind(this),handle_inp:this.handleButton.bind(this),var_elem:1,dont_render_name:true},
			{name:"HMI_ENTER_STATE",format:[0,[1,2,3]],render:this.renderEditState.bind(this),handle_inp:this.handleEnterState.bind(this),var_elem:1},
			{name:"HMI_SCREEN_LIST",format:[0,[1,2,3]],render:this.renderScreenList.bind(this),handle_inp:null,var_elem:1,dont_render_name:true,},
			{name:"HMI_GRID_ENTER",format:[0,[1,2]],render:this.renderEditNum.bind(this),handle_inp:this.handleEnterNum.bind(this),var_elem:0},
			{name:"HMI_GRID_SHOW",format:[0,[1,2]],auto_refresh:1,render:this.renderDisp.bind(this),handle_inp:null,var_elem:0},
			{name:"HMI_GRID_BUTTON",format:[[0,1]],render:this.renderButton.bind(this),handle_inp:this.handleButton.bind(this),var_elem:1,dont_render_name:true},
			{name:"HMI_GRAPHICS",format:[0,[1,2]],render:this.renderGraphics.bind(this),handle_inp:null,var_elem:0},
			{name:"HMI_MULTI_STATE_GRAPHICS",format:[0,[1,2]],auto_refresh:1,render:this.renderMultStateGraphics.bind(this),handle_inp:null,var_elem:0},
			{name:"HMI_MULTI_STATE_SHOW",format:[0,[1,2]],auto_refresh:1,render:this.renderMultStateShow.bind(this),handle_inp:null,var_elem:0},
			{name:"HMI_MULTI_STATE_ENTER",format:[0,[1,2]],render:this.renderDropDown.bind(this),handle_inp:this.handleDropDown.bind(this),var_elem:0},
			{name:"HMI_DISPLAY_VALUE_WITH_HEALTH",format:[0,[1,2]],auto_refresh:1,render:this.renderVarWithHealth.bind(this),handle_inp:null,var_elem:0},			
			{name:"HMI_GRID_LINK",format:[0,[1,2]],render:this.renderLink.bind(this),handle_inp:this.handleLink.bind(this),var_elem:0},						
			{name:"HMI_GRID_LOAD_FROM_FILE",format:[0,[1,2]],render:this.renderFileUpload.bind(this),handle_inp:this.renderFileUpload.bind(this),var_elem:0,file_op:true},									
			{name:"HMI_GRID_STORE_TO_FILE",format:[0,[1,2]],render:this.renderFileDownload.bind(this),handle_inp:this.renderFileDownload.bind(this),var_elem:0,file_op:true},												

		];
		this.rend_types=rend_types;
	},
	PasswordDlgShow:function()
	{
		var outp;	
		// Change the message.
		var Msg = window.document.getElementById("Overlay_pass");
		Msg.style.borderColor="#99CC00";
		var Msg = window.document.getElementById("DlgContent1");
		outp="<center><h3> Enter Password: </h3></center>";
		outp+="<br><center><input type=\"password\" id=\"password_prompt_id\"  style=\"width:50%;\" /></center>";
		outp+="<br><center><input type=\"button\"  style=\"width:50%;\" value=\"Submit\"  onclick=\"standalone_hmi.PasswordDlgHide(true)\" /></center>";
		outp+="<br><center><input type=\"button\"  style=\"width:50%;\" value=\"Cancel\"  onclick=\"standalone_hmi.PasswordDlgHide(false)\" /></center>";
		Msg.innerHTML=outp;
		// Display the dialog box.
		var Dlg = window.document.getElementById("Overlay_pass");
		Dlg.style.visibility = "visible";
		
		var Dlg = window.document.getElementById("grayout");
		Dlg.style.visibility = "visible";
	},
	PasswordDlgHide:function(send)
	{
	  var pass = window.document.getElementById("password_prompt_id");
	  standalone_hmi.password=pass.value;
	  // Hide the dialog box.
	  var Dlg = window.document.getElementById("Overlay_pass");
	  Dlg.style.visibility = "hidden";
	  
	  var Dlg = window.document.getElementById("grayout");
	  Dlg.style.visibility = "hidden";
	  if (send==true)
	  {
		standalone_hmi.internal_transfer_type="SUBMIT_PASSWORD";
		standalone_hmi.hmiAjaxExchange_exec();
	  }
	  else
	  {
		standalone_hmi.timer_func();
	  }
		  
	},
	set_timer_state:function(enabled)
	{
		if (enabled==true)
		{
			this.timer_stopped=false;
		}
		else
		{
			this.timer_stopped=true;
		}
	},
	set_submission_state:function(enabled)
	{
		this.submission_state=enabled;
	},
	timer_func:function()
	{
		if (standalone_hmi.preview_mode==true)
		{
			standalone_hmi.prog_div=window.document.getElementById("prog");
			standalone_hmi.poll_arr=new ArrayBuffer(64*1024);
			if (this.screen_change==true)
			{
				standalone_hmi.active_screen=standalone_hmi.new_screen_request;	
			}
			standalone_hmi.drawHMI();
		}
		else
		{
			var queue_size=	standalone_hmi.ajax_queue.length;
			window.clearTimeout(this.timer);
			//console.log("timer exec");
			if (this.timer_stopped==false)
			{
				if (queue_size==0)
				{
					//console.log("adding Ajax from Timer");
					this.ajax_batch_get=[];
					var i;
					for(i=0;i<this.hmi_elems.list.length;i++)
					{
						if (this.hmi_elems.list[i].type=="BLOCK")
						{
							this.renderChain(this.HMI_EVENTS.EVT_POLL,this.hmi_elems.list[i]);
						}
					}
					this.AjaxFinalizeBatch();
					this.AjaxAdd("GET",null);
				}
			}
	
		}
	},
	set_AjaxState:function(state)
	{
		this.ajaxStateRequest=state;
	},
	AjaxAddBatchPoll:function(offs)
	{
		this.ajax_batch_get[this.ajax_batch_get.length]=offs;
	},
	AjaxFinalizeBatch:function()
	{
		var i;
		var curr_batch_cnt=0;
		var curr_batch={elems:[]};
		for (i=0;i<this.ajax_batch_get.length;i++)
		{
			if (curr_batch_cnt>=this.MAX_BATCH_SIZE)
			{
				this.AjaxAdd("GET_BATCH",curr_batch);
				curr_batch_cnt=0;
				curr_batch.elems=[];
			}
			if (curr_batch_cnt<this.MAX_BATCH_SIZE)
			{
				curr_batch.elems[curr_batch_cnt]=this.ajax_batch_get[i];
				curr_batch_cnt++;
			}
		}
		if (curr_batch_cnt>0)
		{
			// last batch
			this.AjaxAdd("GET_BATCH",curr_batch);
		}
	},
	
	AjaxAdd:function(type,offs)
	{
		if (standalone_hmi.preview_mode==true)
		{
			return;
		}
		var queue_size=	standalone_hmi.ajax_queue.length;
	standalone_hmi.ajax_queue[standalone_hmi.ajax_queue.length]=JSON.parse(JSON.stringify([type,offs]));
		if (queue_size==0)
		{
			window.clearTimeout(this.timer);
			standalone_hmi.internal_transfer_type="NONE";
			standalone_hmi.hmiAjaxExchange_exec();
		}
	},
	getCurrUser:function()
	{
		return this.curr_user;
	},
	AjaxComplete:function()
	{
		if (typeof abort_ajax!== "undefined")
		{
			if (abort_ajax==true)
			{
				return;
			}
		}

	
		
		//console.log("Ajax _intermid finished");
		standalone_hmi.ajax_queue.splice(0,1);
		if (standalone_hmi.ajax_queue.length==0)
		{
			
			//console.log("ajax complete, timer= "+standalone_hmi.timer_interval);
			standalone_hmi.timer=setTimeout(standalone_hmi.timer_func.bind(standalone_hmi),standalone_hmi.timer_interval);
			return;
		}

		standalone_hmi.internal_transfer_type="NONE";
		//console.log("continue exchange");
		standalone_hmi.hmiAjaxExchange_exec();
	},
	
	// AJAX queue always operates on the elem "0". Once the transfer is complete - it is deleted and next elem becomes "0".
	hmiAjaxExchange_exec:function()
	{
		var type,offs;
		var EXCH_TYPE=
		{
			GET_PROG_VARS:0,
			GET_GOM:1,
			SET_PROG_VARS:2,
			SET_GOM:3,
			GET_GOM_BATCH:4,
		};
		
		if (this.ajaxCurrState!=this.ajaxStateRequest)
		{
			this.ajaxCurrState=this.ajaxStateRequest;
			if (this.ajaxCurrState==this.AJAX_STATE.AJAX_STATE_STOP)
			{
				return;
			}
		}
		var queue_elem_0= standalone_hmi.ajax_queue[0];
		
		if (standalone_hmi.internal_transfer_type=="NONE")
		{
			type=queue_elem_0[0];
			offs=queue_elem_0[1];
			//console.log("ajax invoked with "+type+" "+JSON.stringify(offs));
		}
		else
		{
			type=standalone_hmi.internal_transfer_type;
			//console.log("ajax1 invoked with "+type);
		}
				
		this.curr_exchange_type={};
		
		this.exchange_in_prog=true;
		if ((typeof SIM == "undefined")||(SIM.getSimMode()==false))
		{
			this.curr_ajax= new XMLHttpRequest();
		}
		else
		{
			this.curr_ajax=SIM.getSimAjaxObj();
		}
		var dataView;
		this.curr_ajax.open('POST', this.url+'/pg', true);
		this.curr_ajax.responseType = 'arraybuffer';
		var arr=this.hmi_tmp_arr;
		var dataView=new DataView(arr);
		var i,j;
		var offset=0;
		var inv=this.curr_ajax;
		var op=0;
		var instance=this;
		var internal_type=type;
		
		dataView.setUint8(offset,8); offset++; // code = GOM Access
		offset+=2; // skip request length for now;
		
        standalone_hmi.gom_elem_in_transf=null;
		
		if (type=="GET")
		{
			if (offs==null)
			{
				this.curr_exchange_type=EXCH_TYPE.GET_PROG_VARS;
				if (this.oid_of_argee_vars==-1)
				{
					internal_type="UID_TO_OID";
					op=5;
					dataView.setUint32(offset,op,true);offset+=4; // Operation
					dataView.setUint32(offset,this.ARGEE_PROG_VARS_UID,true);offset+=4;
				}
				else
				{
					// multi-instance-read op
					internal_type="MULTI_INST_READ";
					op=2;
					dataView.setUint32(offset,op,true);offset+=4; // Operation
					dataView.setUint32(offset,1,true);offset+=4; //length
					dataView.setUint32(offset,this.oid_of_argee_vars,true);offset+=4; //OID
				}
			}
			else
			{
				if (offs.uid==65540)
				{
					var jk=1;
				}
				this.curr_exchange_type=EXCH_TYPE.GET_GOM;
				internal_type="GOM_READ "+offs.uid;
				standalone_hmi.gom_elem_in_transf=standalone_hmi.findElemInAllScreens(offs.id);
				op=0;
				dataView.setUint32(offset,op,true);offset+=4; // Operation
				dataView.setUint32(offset,offs.uid,true);offset+=4; // UID
				dataView.setUint32(offset,offs.inst,true);offset+=4; // INST
			}
		}
		else
		{
			if (type=="GET_BATCH")
			{
				this.curr_exchange_type=EXCH_TYPE.GET_GOM_BATCH;
				internal_type="GOM_GET_BATCH";

				op=15; //READ Batch
				dataView.setUint32(offset,op,true);offset+=4; // Operation

				var b_elems=offs.elems;
				dataView.setUint32(offset,b_elems.length,true);offset+=4; // CNT
				
				for(i=0;i<b_elems.length;i++)
				{
					dataView.setUint32(offset,b_elems[i].uid,true);offset+=4; 
					dataView.setUint32(offset,b_elems[i].inst,true);offset+=4; 
				}
			}
			if (type=="SET")
			{
				this.submit_list=JSON.parse(JSON.stringify(offs));
				var curr_time=new Date();
				window.clearTimeout(this.timer);
				if ((this.setSubmitted==false)||((curr_time-this.lastPasswordSubmitTime)>6000))
				{
					type="SUBMIT_PASSWORD";
				}
				else
				{
					type="WRITE_VAR_DATA";
				}
					
			}
			if (type=="SUBMIT_PASSWORD")
			{
				op=1; //WRITE
				dataView.setUint32(offset,op,true);offset+=4; // Operation
				dataView.setUint32(offset,this.ARGEE_CHECK_PASSWORD_UID,true);offset+=4; // UID
				dataView.setUint32(offset,0,true);offset+=4; // INST
				dataView.setUint32(offset,this.password.length,true);offset+=4; //length
				for(i=0;i<this.password.length;i++)
				{
					dataView.setUint8(offset,this.password.charCodeAt(i),true);offset+=1; 
				}
				//console.log("submitting password:"+this.password);
			}
			
			else if (type=="READ_AUTH_STATUS")
			{
				op=0; // READ
				dataView.setUint32(offset,op,true);offset+=4; // Operation
				dataView.setUint32(offset,this.ARGEE_CHECK_PASSWORD_UID,true);offset+=4; // UID
				dataView.setUint32(offset,0,true);offset+=4; // INST
			}
			else if (type=="WRITE_VAR_DATA")
			{
				if (this.submit_list.cmd==undefined)
				{
					this.curr_exchange_type=EXCH_TYPE.SET_PROG_VARS;
					if (standalone_hmi.submission_state==true)
					{
						op=10; // EXT_WRITE_WITH_OFFSET
						dataView.setUint32(offset,op,true);offset+=4; // Operation
						dataView.setUint32(offset,this.ARGEE_PROG_VARS_UID,true);offset+=4; //UID
						dataView.setUint32(offset,0,true);offset+=4; // INST
						dataView.setUint32(offset,this.submit_list.length,true);offset+=4; // LEN
						var dv_obj=new DataView(this.submit_arr);
						for(i=0;i<this.submit_list.length;i++)
						{
							dataView.setUint32(offset,this.submit_list[i][0],true);offset+=4;
							dataView.setUint16(offset,this.submit_list[i][1],true);offset+=2;
							dataView.setUint8(offset,this.submit_list[i][2]);offset+=1;
							dataView.setUint8(offset,this.submit_list[i][3]);offset+=1;
							for(j=0;j<this.submit_list[i][1];j++)
							{
								dataView.setUint8(offset,dv_obj.getUint8(this.submit_list[i][0]+j));offset+=1;
							}
						}
					}
					else
					{
						return;
					}
				}
				else
				{
					if (this.submit_list.cmd=="SET")
					{
						offs=queue_elem_0[1];
						this.curr_exchange_type=EXCH_TYPE.SET_GOM;
						standalone_hmi.gom_elem_in_transf=standalone_hmi.findElemInAllScreens(offs.id);

						// write data 
						op=1;
						dataView.setUint32(offset,op,true);offset+=4; // Operation
						dataView.setUint32(offset,this.submit_list.uid,true);offset+=4; // UID
						dataView.setUint32(offset,this.submit_list.inst,true);offset+=4; // INST
						dataView.setUint32(offset,this.submit_list.data.length,true);offset+=4; //length
						for(i=0;i<this.submit_list.data.length;i++)
						{
							dataView.setUint8(offset,this.submit_list.data[i],true);offset+=1; 
						}
					}
					else
					{
						console.log("should not be here!!!");
					}
						
						
				}
			}
			internal_type=type;
			// write with offsets
		}
		//console.log("HMI Exchange type "+type+" len "+offset);
		dataView.setUint16(1,offset&0xffff,true); // length of request => current offset
		arr=this.hmi_tmp_arr.slice(0,offset);
	
		instance.retransmit_arr=arr.slice(0);
		instance.retransmit_cnt=0;
		instance.ajax=inv;
		inv.timeout=instance.timeout_val;
		/*inv.onerror=function()
		{
			if ((standalone_hmi.curr_exchange_type==EXCH_TYPE.SET_GOM)||
			    (standalone_hmi.curr_exchange_type==EXCH_TYPE.GET_GOM))
			{
				instance.ajax.abort();
				instance.exchange_in_prog=false;
				standalone_hmi.gom_elem_in_transf.resp_func(false,0);
			}
		}*/
		
		inv.ontimeout = function ()
		{
			if ((standalone_hmi.curr_exchange_type==EXCH_TYPE.SET_GOM)||
			    (standalone_hmi.curr_exchange_type==EXCH_TYPE.GET_GOM))
			{
				instance.ajax.abort();
				console.log("timeout1");
				instance.exchange_in_prog=false;
				standalone_hmi.gom_elem_in_transf.resp_func(false,0);
				standalone_hmi.AjaxComplete();
			}
			else
			{
				if (instance.retransmit_cnt<20)
				{
					console.log("retransmission "+instance.retransmit_cnt);
					return;
				}		
				instance.retransmit_cnt=30;
				instance.prog_div=window.document.getElementById("prog");
				instance.prog_div.style.visibility = 'visible';
				instance.prog_div.innerHTML="<h1>Can not connect to the device: "+instance.url+"</h1>"; 
			}
			
			return;
		}.bind(this);
		inv.onreadystatechange=function()
		{
			if ((this.readyState==4)&&(this.status==0))
			{
				if ((standalone_hmi.curr_exchange_type==EXCH_TYPE.SET_GOM)||
					(standalone_hmi.curr_exchange_type==EXCH_TYPE.GET_GOM))
				{
					instance.ajax.abort();
					console.log("timeout2");
					standalone_hmi.gom_elem_in_transf.resp_func(false,0);
					instance.exchange_in_prog=false;
					standalone_hmi.AjaxComplete();
				}
				else
				{
					if (instance.retransmit_cnt<20)
					{
						var state_func=instance.curr_ajax.onreadystatechange;
						var timeout_func=instance.curr_ajax.ontimeout
						console.log("retransmission1 "+instance.retransmit_cnt);
						instance.curr_ajax.abort();
						
						instance.curr_ajax= new XMLHttpRequest();
						inv=instance.curr_ajax;
						instance.curr_ajax.open('POST', instance.url+'/pg', true);
						instance.curr_ajax.responseType = 'arraybuffer';
						instance.curr_ajax.timeout=instance.timeout_val;
						instance.curr_ajax.onreadystatechange=state_func;
						instance.curr_ajax.ontimeout=timeout_func;
						
						instance.retransmit_cnt++;
						instance.curr_ajax.send(instance.retransmit_arr);
					}
					else
					{
						instance.retransmit_cnt=30;
						instance.prog_div=window.document.getElementById("prog");
						instance.prog_div.style.visibility = 'visible';
						instance.prog_div.innerHTML="<h1>Can not connect to the device: "+instance.url+"</h1>"; 
						instance.exchange_in_prog=false;
					}
				}
				return;
			}
				
			if ((this.readyState==4)&&(this.status==200))
			{
				instance.exchange_in_prog=false;
				//console.log("Exchange Internal type="+internal_type);
				//console.log("Exchange type1="+standalone_hmi.curr_exchange_type);			
				var hmi_screens=window.document.getElementById("hmi_present_27041978");
				// we can check if we are on a specific screen or not by the presense of a specific div. This only applies to testing in the PG environment since in standalone HMI this page is always going to be there (otherwise we change the page location).
				//console.log("Processed "+internal_type);
				if (internal_type=="SUBMIT_PASSWORD")
				{
					standalone_hmi.internal_transfer_type="READ_AUTH_STATUS";
					instance.hmiAjaxExchange_exec();
					return;
				}
				if (internal_type=="READ_AUTH_STATUS")
				{
					var arr=inv.response; // arrayBuffer;
					dataView=new DataView(arr);
					var offset=4; // skip len 
					var res=dataView.getUint8(offset);
					standalone_hmi.curr_user=res;
					console.log("Read Auth Stat "+res);
					if (res>0)
					{
						
						instance.setSubmitted=true;
						instance.lastPasswordSubmitTime=new Date();
						standalone_hmi.internal_transfer_type="WRITE_VAR_DATA";
						instance.hmiAjaxExchange_exec()
						return;
					}
					else
					{
						var cmd_type=queue_elem_0[0];
						var cmd_args=queue_elem_0[1];
						if (cmd_args.id!=undefined)
						{
							var target_obj=standalone_hmi.findElemInAllScreens(cmd_args.id);
							target_obj.resp_func(false,0);
							standalone_hmi.AjaxComplete();							
							return;
						}
						else
						{
							instance.PasswordDlgShow();
						}
					}
				}

				if (internal_type=="UID_TO_OID")
				{
					var arr=inv.response; // arrayBuffer;
					dataView=new DataView(arr);
					instance.oid_of_argee_vars=dataView.getUint32(0,true);
					standalone_hmi.internal_transfer_type="NONE";
					console.log("UID_TO_OID resolved");
					instance.hmiAjaxExchange_exec()
					return;
				}
				
				
				




				if ((standalone_hmi.curr_exchange_type==EXCH_TYPE.SET_GOM)||
					(standalone_hmi.curr_exchange_type==EXCH_TYPE.GET_GOM))
				{
					standalone_hmi.gom_elem_in_transf.resp_func(true,inv.response);
					standalone_hmi.AjaxComplete();
					return;
				}
				
				
				if ((standalone_hmi.curr_exchange_type==EXCH_TYPE.GET_GOM_BATCH))
				{
					var elems=queue_elem_0[1].elems;
					var cnt=elems.length;
					var i,len;
					var dv=new DataView(inv.response);
					var offset=0;
					for(i=0;i<cnt;i++)
					{
						len=dv.getUint16(offset,true);offset+=2;
						var j;
						var obj_data=new Uint8Array(4+len);
						for(j=0;j<len;j++)
						{
							obj_data[j+4]=dv.getUint8(offset+j);
						}
						offset+=len;
						var transf_elem=standalone_hmi.findElemInAllScreens(elems[i].id);
						transf_elem.resp_func(true,obj_data.buffer);
					}
					standalone_hmi.AjaxComplete();
					return;
				}
				
                if ((instance.before_first_draw==true)||((hmi_screens!=null)&&(standalone_hmi.curr_exchange_type==EXCH_TYPE.GET_PROG_VARS)))
				{
					var arr=inv.response; // arrayBuffer;
					dataView=new DataView(arr);
					instance.prog_div=window.document.getElementById("prog");
					var offset=4; // skip OID 
					offset+=4; // skip num_inst 
					var len1=dataView.getUint32(offset,true);offset+=4; // inst length
					instance.poll_arr=arr.slice(offset);
					instance.before_first_draw=false;
					
					
					
					if (instance.hmi_elems.active_screen_offset!=undefined)
					{
						var descr={offset:instance.hmi_elems.active_screen_offset,
						           sub_type:"CHAR",is_array:true};								   
						var act_scr=instance.getVarValue(descr,false);
						if (instance.hmi_elems.list[instance.active_screen].name!=act_scr)
						{
							var acr_scr_ind;
							var found=false;
							for(acr_scr_ind=0;acr_scr_ind<instance.hmi_elems.list.length;acr_scr_ind++)
							{
								if (instance.hmi_elems.list[acr_scr_ind].name==act_scr)
								{
									found=true;
									break;
								}
							}
							if (found==true)
							{
								instance.screen_change=true;
								instance.new_screen_request=acr_scr_ind;
							}
						}
					}
					
					if (instance.screen_change==true)
					{
						
						instance.screen_change=false;
						instance.active_screen=instance.new_screen_request;
						instance.submit_arr=instance.poll_arr.slice(0);
						instance.drawHMI();
						console.log("screen change");
						standalone_hmi.timer_interval=0;
						standalone_hmi.AjaxComplete();
						return;
					}
					else
					{
						// update screen data
						instance.redrawHMI();
					}
					
					if (standalone_hmi.file_op_in_progress==true)
					{
						// check if the request is switched to "2" -> it means that the program
						// processed the value and it is ready to perform data transfers
						if (instance.getVarValue(standalone_hmi.ref_obj.list[3],false)==standalone_hmi.ref_num)
						{
							var chunk_size=instance.getVarValue(standalone_hmi.ref_obj.list[1],false);
							var chunk_offset=instance.getVarValue(standalone_hmi.ref_obj.list[2],false);

							if (instance.ref_obj_dir==0)// upload
							{
								var arr=standalone_hmi.ref_exchange_arr.slice(chunk_offset,chunk_offset+chunk_size);
								standalone_hmi.setVarValue(standalone_hmi.ref_obj.list[4],arr); //
							}
							else
							{
								var arr=standalone_hmi.getVarValue(standalone_hmi.ref_obj.list[4],false);
								var i;
								for(i=chunk_offset;i<(chunk_offset+chunk_size);i++)
								{
									standalone_hmi.ref_exchange_arr[i]=arr[i-chunk_offset];
								}
							}
							standalone_hmi.setVarValue(standalone_hmi.ref_obj.list[3],standalone_hmi.ref_num+2); // new data ready
							
							//console.log("sending "+chunk_offset+" ref_num "+(standalone_hmi.ref_num+2));
							if (standalone_hmi.ref_num==2) // increment ref_num -> toggling scheme
							{
								standalone_hmi.ref_num=3;
							}
							else
							{
								standalone_hmi.ref_num=2;
							}
							
							if (instance.ref_obj_dir==0)// upload
							{
								standalone_hmi.AjaxAdd("SET",
								   [
										
										[standalone_hmi.ref_obj.list[4].offset,standalone_hmi.getObjSize(standalone_hmi.ref_obj.list[4]),-1,-1],
										[standalone_hmi.ref_obj.list[3].offset,standalone_hmi.getObjSize(standalone_hmi.ref_obj.list[3]),-1,-1],
								   ]
								);
							}
							else   // download
							{
								standalone_hmi.AjaxAdd("SET",
								   [
										
										[standalone_hmi.ref_obj.list[3].offset,standalone_hmi.getObjSize(standalone_hmi.ref_obj.list[3]),-1,-1],
								   ]
								);
							}
							standalone_hmi.AjaxComplete();
							return;							
						}
						// client is done working with the file
						if ((instance.getVarValue(standalone_hmi.ref_obj.list[3],false)==10)&&
						    (instance.getVarValue(standalone_hmi.ref_obj.list[3],true)!=7))
						{
							standalone_hmi.file_op_in_progress=false;
							if (instance.ref_obj_dir==1)// download
							{
								// create a file containing "ref_exchange_arr"
								var imgDLHelper = window.document.getElementById('imgdlhelper');
								imgDLHelper.download=instance.ref_filename;
								var unt8arr=new Uint8Array(instance.ref_exchange_arr.length);
								for(i=0;i<instance.ref_exchange_arr.length;i++)
								{
									unt8arr[i]=instance.ref_exchange_arr[i];
								}
								blob = new Blob([unt8arr], { type: 'application/octet-stream;base64' }); 
								var blobUrl = URL.createObjectURL(blob);
								
								imgDLHelper.href=blobUrl;
								imgDLHelper.click();
							}
						}
						
					}
					//console.log("ajax complete1");
					
					// schedule_next_exchange					
					if (standalone_hmi.file_op_in_progress==true)
					{
						//console.log("set timer 3");
						standalone_hmi.timer_interval=20;
					}
					else
					{
						//instance.timer=setTimeout(instance.timer_func.bind(instance),500);
						if (instance.timer_stopped==false)
						{
							//console.log("set timer 4");
							standalone_hmi.timer_interval=500;
						}
					}						
				}
				else if (internal_type=="WRITE_VAR_DATA")
				{
					if (instance.timer_stopped==false)
					{
						//console.log("set timer 5");
						standalone_hmi.timer_interval=0;
					}
					standalone_hmi.submit_cnt++;
				}
				else
				{
					//console.log("Switch screen - stop timer");
				}
				standalone_hmi.AjaxComplete();
			}
			
		}
		//console.log("ajax transmitted "+internal_type);
		inv.send(arr);
		
		
		if ((typeof SIM != "undefined")&&(SIM.getSimMode()==true))
		{
			SIM.simExchTrig();
		}

		
	},
	getBitField:function(descr,val)
	{
		if ((descr.bit_offset==undefined)||(descr.bit_offset==-1))
		{
			return val;
		}
		else
		{
			var type=descr.sub_type;
			var mask=0xffffffff>>>(32-descr.bit_len);
			return (val>>>descr.bit_offset)&mask;
		}
	},
	
	getVarValue:function(descr,editable) //(addr,type,isArray,editable)
	{
		var dv;
		var obj_arr;
		var addr=descr.offset;
		var type=descr.sub_type;
		var isArray=descr.is_array;
		var i;

		if (editable==false)
		{
			dv=new DataView(this.poll_arr);
			obj_arr=this.poll_arr;
			
		}
		else
		{
			dv=new DataView(this.submit_arr);
			obj_arr=this.submit_arr;
		}
		if ((isArray==true)&&
		    (
			  (type=="WORD")||
			  (type=="RETAIN_INT")||
			  (type=="STATE")||
			  (type=="INT")||
			  (type=="BYTE")||
			  (type=="RETAIN_REAL")||
			  (type=="REAL")))
		{
			var hex_disp=false;
			var float_disp=false;
			var num_bytes=4;
			switch(type)
			{
				case "WORD":hex_disp=true;num_bytes=2;break;
				case "BYTE":hex_disp=true;num_bytes=1;break;
				case "STATE":
				case "INT":
				case "RETAIN_INT":	num_bytes=4;break;
				case "REAL":
				case "RETAIN_REAL":	num_bytes=4;float_disp=true;break;				
			}
			var arr_len=dv.getUint16(addr,true);
			var num_elems=arr_len/num_bytes;
			var offset=addr+4;
			var res_arr=[];
			for(i=0;i<num_elems;i++)
			{
				if (float_disp==true)
				{
					res_arr[i]=dv.getFloat32(offset,true).toString();
				}
				else if (hex_disp==true)
				{
					switch(num_bytes)
					{
						case 2:res_arr[i]="0x"+this.pad(dv.getUint16(offset,true).toString(16),2);break;
						case 1:res_arr[i]="0x"+dv.getUint8(offset).toString(16);break;
					}
				}
				else
				{
					res_arr[i]=dv.getInt32(offset,true).toString();
				}
				offset+=num_bytes;
			}
			return res_arr;
		}
		else
		{			
			switch(type)
			{
				case "WORD": return this.getBitField(descr,dv.getUint16(addr,true));
				case "RETAIN_INT":
				case "STATE":
				case "INT": return this.getBitField(descr,dv.getInt32(addr,true));
				case "BYTE": return this.getBitField(descr,dv.getUint8(addr));
				case "RETAIN_REAL":
				case "REAL": return dv.getFloat32(addr,true);
				case "CHAR": 
							if (isArray==true)
							{
								var arr_len=dv.getUint16(addr,true);
								var sub_arr=obj_arr.slice(addr+4,addr+4+arr_len-1);
								return this.arrToString(sub_arr);
							}
							return String.fromCharCode(dv.getUint8(addr));
			}
		}
		return 0;
	},
	convStringToArr:function (str)
	{
		var i;
		var arr=new Uint8Array(str.length+1);
		for(i=0;i<str.length;i++)
		{
			arr[i]=str.charCodeAt(i);
		}
		arr[arr.length]=0; // null terminate
		return arr.buffer;
	},
	arrToString:function (arr)
	{
		var i;
		var map=new Uint8Array(arr);
		var str="";
		for(i=0;i<arr.byteLength;i++)
		{
			if (map[i]==0)
			{
				break;
			}
			str+=String.fromCharCode(map[i]);
		}
		return str;
	},
	setObjArrAtOffset:function(arr_obj,offset,arr,len,descr)
	{
		var i;
		var val_dv=new DataView(arr_obj);
		if (descr.bit_offset==-1)
		{
			
			var arr1=new Uint8Array(arr);
			for(i=0;i<len;i++)
			{
				val_dv.setUint8(offset+i,arr1[i]);
			}
		}
		else
		{
			var src_data=new DataView(arr);
			switch(descr.size)
			{
				case 1: 
					var val=src_data.getUint8(0);
					var mask=0xff>>>(8-descr.bit_len);
					val=val&mask;
					var data_at_dest=val_dv.getUint8(offset);
					var mask1=mask<<descr.bit_offset;
					data_at_dest&=~mask1;
					data_at_dest|=val<<descr.bit_offset;
					val_dv.setUint8(offset,data_at_dest);
					break;
				case 2:
					var val=src_data.getUint16(0,true);
					var mask=0xffff>>>(16-descr.bit_len);
					val=val&mask;
					var data_at_dest=val_dv.getUint16(offset,true);
					var mask1=mask<<descr.bit_offset;
					data_at_dest&=~mask1;
					data_at_dest|=val<<descr.bit_offset;
					val_dv.setUint16(offset,data_at_dest,true);
					break;
				case 4:
					var val=src_data.getUint32(0,true);
					var mask=0xffffffff>>>(32-descr.bit_len);
					val=val&mask;
					var data_at_dest=val_dv.getUint32(offset,true);
					var mask1=mask<<descr.bit_offset;
					data_at_dest&=~mask1;
					data_at_dest|=val<<descr.bit_offset;
					val_dv.setUint32(offset,data_at_dest,true);
					break;
			}
		}
	},
	getObjSize:function(descr)
	{
		if (descr.is_array==false)
		{
			return descr.size;
		}
		else
		{
			return descr.size*descr.num_elems+4;
		}
	},
	setVarValue:function(descr,val)//(addr,type,isArray,value)
	{
		var arr_tmp=new ArrayBuffer(64);
		var arr_tmp_dv=new DataView(arr_tmp);
		var dv=new DataView(this.submit_arr);
		var len;
		var value;
		var addr=descr.offset;
		var type=descr.sub_type;
		var isArray=descr.is_array;
		
		if (type=="CHAR")
		{
			value=val;
		}
        else if ((type=="REAL")||(type=="RETAIN_REAL"))
        {
            value=parseFloat(val);
        }
		else
		{
			value=parseInt(val);
		}
		
		switch(type)
		{
			case "WORD": len=2;	arr_tmp_dv.setUint16(0,value,true); break;
			case "RETAIN_INT":
			case "STATE":
			case "INT": len=4;	arr_tmp_dv.setInt32(0,value,true); break;
			case "RETAIN_REAL":
			case "REAL": len=4;	arr_tmp_dv.setFloat32(0,value,true); break;
			case "BYTE": 
						 if (isArray==true)
						 {
							 var arr_len=dv.getUint16(addr,true);
							 if (arr_len<value.length)
							 {
								 alert("array too large");
								 return;
							 }
							 var arr=new Uint8Array(val.length);
							 var i;
							 for(i=0;i<val.length;i++)
							 {
								 arr[i]=val[i];
							 }
							 this.setObjArrAtOffset(this.submit_arr,addr+4,arr,arr.byteLength,descr);
							 return;
						 }					 
						 else
						 {
							len=1;	
							arr_tmp_dv.setUint8(0,value); 
							break;
						 }
			case "CHAR": 
						 if (isArray==true)
						 {
							 var arr_len=dv.getUint16(addr,true);
							 if (arr_len<value.length)
							 {
								 alert("String too large");
								 return;
							 }
							 var arr=this.convStringToArr(value);
							 this.setObjArrAtOffset(this.submit_arr,addr+4,arr,arr.byteLength,descr);
							 return;
						 }
						 len=1;
						 arr_tmp_dv.setUint8(0,value.charCodeAt(0)); 
						 break;
		}
		this.setObjArrAtOffset(this.submit_arr,addr,arr_tmp,len,descr);
	},
	getPrePostHTML:function(elem)
	{
		var ret_arr=["",""];
		var i;
		for(i=0;i<elem.extra_elements.length;i++)
		{
			ret_arr[i]=elem.extra_elements[i];
		}
		return ret_arr;
		
	},
	
	checkForScreensElement:function(obj)
	{
		if (this.rend_types[obj.rend].name=="HMI_SCREEN_LIST")
		{
			this.inner_screenlist_present=true;
		}
		if ((this.rend_types[obj.rend].name=="HMI_GRID_LINK")&&(this.preview_mode==false))
		{
			this.inner_screenlist_present=true;
		}
	},
	
	compileGlobalEditFieldList:function(elem)
	{
		
		if (
			(this.rend_types[elem.rend].name=="HMI_GRID_ENTER")||
			(this.rend_types[elem.rend].name=="HMI_MULTI_STATE_ENTER")||
			(this.rend_types[elem.rend].name=="HMI_ENTER_NUM")||
			(this.rend_types[elem.rend].name=="HMI_ENTER_STATE"))
		{
			this.globalEditFieldList[this.globalEditFieldList.length]=[elem.var_descr.offset,this.getObjSize(elem.var_descr),elem.var_descr.bit_offset,elem.var_descr.bit_len];
		}
	},
	
	// on initial invocation or on screen change 
	drawHMI:function()
	{
		this.editable_elements_for_curr_button=[];
		var rend="";
		var i,j,k;
		
		var scr=this.hmi_elems.list[this.active_screen];
		if (scr.type=="BLOCK")
		{
			var fixed="<div id=\"hmi_present_27041978\" style=\"    visibility: hidden; position: absolute; top: -9999px;\"></div>"
			var block_screen_cont=this.renderChain(this.HMI_EVENTS.EVT_INIT_START,scr);
			this.prog_div.innerHTML=fixed+block_screen_cont;
			//console.log("cont="+block_screen_cont);
			this.prog_div.style.overflowX="hidden";
			this.onResize();
			return;
		}			
		
		
		var bound_func=this.checkForScreensElement.bind(this);
		this.inner_screenlist_present=false;
		this.enumerateLeafElements(bound_func,this.hmi_elems.list[this.active_screen]);
		
		this.globalEditFieldList=[];
		bound_func=this.compileGlobalEditFieldList.bind(this);
		this.enumerateLeafElements(bound_func,this.hmi_elems.list[this.active_screen]);
		var height_str="";
		this.links=[];

		
		//this.prog_div.innerHTML="<table style=\"width:100%;height:100%\"><tr><td valign=\"top\" width=\"30%\" style=\"border-right: solid;border-right-color: brown\" ><div id=\"hmi_screens\" ></div></td><td width=\"70%\" height=\"100%\" valign=\"top\"><div id=\"hmi_active_screen\"></div></td></tr></table>";
		this.prog_div.innerHTML="<a id=\"imgdlhelper\" style=\"display:none;\"  download=\"test.txt\" href=\"\">&nbsp;</a>";
		this.prog_div.innerHTML+="<div id=\"hmi_present_27041978\" style=\"    visibility: hidden; position: absolute; top: -9999px;\"></div>"
		this.prog_div.style.overflowX="hidden";
		
		if (typeof SIM != "undefined")
		{
			this.prog_div.style.fontFamily=hmi_font_family;
		}
		
		var screens_div;
		if (this.inner_screenlist_present==false)
		{
			if (standalone_hmi.preview_mode==true)
			{
				this.prog_div.innerHTML+="<div  id=\"hmi_screens\" style=\"background-color:white;width:100%;\"></div><div style=\"overflow-y:auto;overflow-x:hidden;"+height_str+" -webkit-overflow-scrolling: touch;\" id=\"hmi_active_screen\"></div>";
			}
			else if (typeof SIM != "undefined")
			{
				this.prog_div.innerHTML+="<div  id=\"hmi_screens\" style=\"background-color:white;top:7.2em;position: fixed; z-index: 5555;width:100%;\"></div><div style=\"position: relative;top:10.7em;z-index: 999;overflow-y:auto;overflow-x:hidden;"+height_str+" -webkit-overflow-scrolling: touch;transform:scale(0.9);\" id=\"hmi_active_screen\"></div>";
			}
			else if (typeof window.orientation !== 'undefined')
			{
				this.prog_div.innerHTML+="<div  id=\"hmi_screens\" style=\""+this.simp_font_150_str+"background-color:white;top:0em;position: fixed; z-index: 5555;width:100%;\"></div><div style=\""+this.simp_font_150_str+height_str+"position: fixed;top:12em;z-index: 999;overflow-y:auto;overflow-x:hidden; -webkit-overflow-scrolling: touch;width:100%;\" id=\"hmi_active_screen\"></div>";
			}	
			else
			{
				this.prog_div.innerHTML+="<div  id=\"hmi_screens\" style=\""+this.simp_font_150_str+"background-color:white;top:0em;position: fixed; z-index: 5555;width:100%;\"></div><div style=\""+this.simp_font_150_str+height_str+"position: relative;top:9.8em;z-index: 999;overflow-y:auto;overflow-x:hidden; -webkit-overflow-scrolling: touch;\" id=\"hmi_active_screen\"></div>";
			}
			screens_div=window.document.getElementById("hmi_screens");
		}
		else
		{
			if (standalone_hmi.preview_mode==true)
			{
				this.prog_div.innerHTML+="<div  id=\"hmi_screens\" style=\"background-color:white;width:100%;\"></div><div style=\"overflow-y:auto;overflow-x:hidden;"+height_str+" -webkit-overflow-scrolling: touch;\" id=\"hmi_active_screen\"></div>";
			}
			else if (typeof SIM != "undefined")
			{
				this.prog_div.innerHTML+="<div  id=\"hmi_screens\" style=\"background-color:white;top:7.2em;position: fixed; z-index: 5555;width:100%;\"></div><div style=\"position: relative;top:1em;z-index: 999;overflow-y:auto;overflow-x:hidden;"+height_str+" -webkit-overflow-scrolling: touch;width:100%;\" id=\"hmi_active_screen\"></div>";
			}
			else if (typeof window.orientation !== 'undefined')
			{
				this.prog_div.innerHTML+="<div  id=\"hmi_screens\" style=\""+this.simp_font_150_str+"background-color:white;top:0em;position: fixed; z-index: 5555;width:100%;\"></div><div style=\""+this.simp_font_150_str+height_str+"position: relative;top:0em;z-index: 999;overflow-y:auto; -webkit-overflow-scrolling: touch;width:100%;\" id=\"hmi_active_screen\"></div>";
			}	
			else
			{
				this.prog_div.innerHTML+="<div  id=\"hmi_screens\" style=\""+this.simp_font_150_str+"background-color:white;top:0em;position: fixed; z-index: 5555;width:100%;\"></div><div style=\""+this.simp_font_150_str+height_str+"position: relative;top:0em;z-index: 999;overflow-y:auto;overflow-x:hidden; -webkit-overflow-scrolling: touch;width:100%;\" id=\"hmi_active_screen\"></div>";
			}
		}
		
		if (scr.type=="HMI_GRID_SCREEN")
		{
			rend="";
			for(i=0;i<scr.list.length;i++)
			{
				var elem=scr.list[i];
				if (typeof elem ==='string')
				{
					rend+=elem;
				}
				else
				{
					var rend_type=elem.rend;
					var elem_html=this.rend_types[rend_type].render(elem);
					rend+="<div id=\"elem_id_"+elem.elem_id+"\">"+elem_html+"</div>";
				}
					
			}
			
		}
		else
		{
			rend="<center><div style=\""+this.scr_width+"\"><fieldset style=\"padding:1em;background:#f7f6f6;\">";
			rend+="<center><h1>"+scr.name+"</h1><br><br></center>"
			rend+="<center><table style=\""+this.scr_width+"border-collapse:collapse;"+this.simp_font_200_str+"\" border=\"1\" >";
			for(i=0;i<scr.list.length;i++)
			{
				rend+="<tr><td colspan=\"2\" style=\"border-top: 1px solid transparent;border-left: 1px solid transparent;border-right: 1px solid transparent;\"><b>"+scr.list[i].name+"</b></td></tr>";
				var sect_elem_list=scr.list[i].list
				for(ii=0;ii<sect_elem_list.length;ii++)
				{
					rend+=this.renderElement(sect_elem_list[ii],i,ii);
				}
				if (i<(scr.list.length-1))
				{
					rend+="<tr><td style=\"height:5em;border-left: 1px solid transparent;border-right: 1px solid transparent;\" colspan=\"2\"></td></tr>";
				}
			}
			rend+="</table></center>";	
			rend+="</fieldset></div></center>";
		}
		var act_screen_div=window.document.getElementById("hmi_active_screen");
		act_screen_div.innerHTML=rend;
		
		
		rend="";
		var test_str="";
		if ((typeof SIM!="undefined")&&(SIM.getSimMode()==false))
		{
			test_str="To test the page on the device <a href=\""+(this.url+"/hmi.html")+"\">(click here)</a>";
			setCompilerMessage(false,false,test_str);
		}
		if (this.inner_screenlist_present==false)
		{
			rend+="<center><div style=\""+this.scr_width+"\"><fieldset style=\"padding:1em;background:#fff8a2;\">";
			if (this.hmi_elems.proj_title.length!=0)
			{
				rend+="<center><h1>Screens for "+(this.hmi_elems.proj_title)+"</h1>";
			}
			else
			{
				
				rend+="<center><h1>Screens </h1>";
			}
			rend+="<table style=\""+this.simp_font_200_str+"\" border=\"1\"><tr>";
			for(i=0;i<this.hmi_elems.list.length;i++)
			{
				if (this.hmi_elems.list[i].type=="BLOCK")
				{
					name=this.hmi_elems.list[i].func.args[0].name;
				}
				else
				{
					name=this.hmi_elems.list[i].name;
				}
				
				rend+="<td id=\"hmi_screen_"+i+"\"><a href='#' onclick=\"standalone_hmi.clickHMI_Link("+i+")\">"+name+"</a></td>";
				this.screen_background_color[i]=0;
			}
			rend+="</tr></table></center>"
			rend+="</fieldset></div></center>";
			screens_div.innerHTML=rend;
		}
		
		this.onResize();
	},
	
	redrawHMI_ScreenElem:function(elem)
	{
		if (this.rend_types[elem.rend].auto_refresh==1)
		{
			this.background_color_of_active_element=0;
			var str=this.rend_types[elem.rend].render(elem);
			if (this.background_color_of_active_element!=0)
			{
				if (this.background_color_of_active_element>this.screen_background_color[this.curr_hmi_screen_redraw])
				{
					this.screen_background_color[this.curr_hmi_screen_redraw]=this.background_color_of_active_element;
				}
			}
			if ((this.active_screen==this.curr_hmi_screen_redraw)&&(this.rend_types[elem.rend].dont_display!=true))
			{
				var elem_dom=window.document.getElementById("elem_id_"+elem.elem_id);
				var str=this.rend_types[elem.rend].render(elem);
				elem_dom.innerHTML=str;
			}
		}
	},
	
	redrawHMI:function()
	{
		var scr=this.hmi_elems.list[this.active_screen];
		var i,j,k;
		for(i=0;i<this.hmi_elems.list.length;i++)
		{
			if (this.hmi_elems.list[i].type=="BLOCK")
			{
				this.renderChain(this.HMI_EVENTS.EVT_STATUS_UPDATE_START,this.hmi_elems.list[i]);
			}
			else
			{
				this.curr_hmi_screen_redraw=i;
				var bound_func=this.redrawHMI_ScreenElem.bind(this);
				this.enumerateLeafElements(bound_func,this.hmi_elems.list[i]);
			}
		}
		if (scr.type=="BLOCK")
		{
			this.renderChain(this.HMI_EVENTS.EVT_REDRAW_START,scr);
			return;
		}


		for(i=0;i<this.screen_background_color.length;i++)
		{
			var elem_dom=window.document.getElementById("hmi_screen_"+i);
			if (elem_dom!=null)
			{
				switch(this.screen_background_color[i])
				{
					case 0:elem_dom.style.backgroundColor="lightgreen"; break;
					case 1:elem_dom.style.backgroundColor="yellow"; break;
					case 2:elem_dom.style.backgroundColor="red"; break;
				}
			}
			this.screen_background_color[i]=0;
		}


		
		for(i=0;i<this.links.length;i++)
		{
			// only handle links on the active screen
			var elem=this.links[i];
			var link_name=this.getVarValue(elem.list[0],false);
			var link_bg_color=this.getVarValue(elem.list[2],false);
			var elem_dom=window.document.getElementById("link_id_"+elem.elem_id);
			if (elem_dom.innerText!=link_name)
			{
				elem_dom.innerText=link_name;
			}
			var td_elem=window.document.getElementById("td_id_"+elem.elem_id);
			if (td_elem!=null)
			{
				if (td_elem.style.backgroundColor!=link_bg_color)
				{
					td_elem.style.backgroundColor=link_bg_color;
				}
			}
			var jk=1;
		}
		
		
	},
	clickHMI_Link:function(link)
	{
		this.new_screen_request=link;
		this.screen_change=true;
		console.log("Screen chanre requested to "+link);
		//this.screen_change_trigger=true;
		this.timer_func();
	},
	
	renderElement:function(obj,sect,sect_elem)
	{
		var rend=obj.rend;
		var str="";
		var num_cols=this.rend_types[rend].format.length;
		
		
		
		str+="<tr>";
		var elem_html=this.rend_types[rend].render(obj);
		
		if (num_cols==2)
		{
			if ((sect_elem%2)!=0)
			{
				str+="<td style=\"width:50%\" bgcolor=\"#e6e6e6\">"+obj.list[0].name+"</td>";
			}
			else
			{
				str+="<td style=\"width:50%\" bgcolor=\"lightgrey\">"+obj.list[0].name+"</td>";
			}
			str+="<td style=\"width:50%\"><div id=\"elem_id_"+obj.elem_id+"\">"+elem_html+"</div></td>"
		}
		else
		{
			str+="<td colspan=\"2\" style=\"width:100%\"><div id=\"elem_id_"+obj.elem_id+"\">"+elem_html+"</div></td>";
		}
		str+="</tr>";
		return str;	
	},
	onElemEdit:function (elem)
	{
		var val=elem.value;
		var obj=JSON.parse(elem.dataset.elem_obj);
		this.rend_types[obj.rend].handle_inp(elem,obj);
	},
		
	// on initial invocation or on screen change 
/*	drawHMI:function()
	{
		var redraw=true;
		// need to differentiate between draw and redraw
		if (this.screen_change==true)
		{
			this.screen_change=false;
			this.prog_div.innerHTML=this.renderChain(HMI_EVENTS.EVT_INIT_START,this.curr_block);
			this.prog_div.style.overflowX="hidden";
			this.onResize();
		}
		else
		{
			this.renderChain(HMI_EVENTS.EVT_REDRAW_START,this.curr_block);
		}			
		},
	*/
	renderChain:function(evt,elem)
	{
		var out="";
		if (elem.type=="FUNC")
		{
			out+=elem.func_ptr(evt,elem);
		}
		else if (elem.type=="BLOCK")
		{
			var i;
			out+=elem.func.func_ptr(evt,elem.func);
			for(i=0;i<elem.list.length;i++)
			{
				out+=this.renderChain(evt,elem.list[i]);
			}
			out+=elem.func.func_ptr(evt+1,elem.func);
		}
		return out;
	},	
	
	preProcessBlock:function(elem)
	{
		if (elem.type=="BLOCK")
		{
			elem.func.id="hmi_elem_"+this.curr_id;
			elem.func.num_id=this.curr_id;
			elem.func.func_ptr=standalone_hmi_custom_renderers[elem.func.name];
			elem.func.parent=elem;
			this.curr_id++;
			var i;
			for(i=0;i<elem.list.length;i++)
			{
				elem.list[i].parent=elem;
				this.preProcessBlock(elem.list[i]);
			}
		}
		else
		{
			elem.id="hmi_elem_"+this.curr_id;
			elem.num_id=this.curr_id;
			elem.func_ptr=standalone_hmi_custom_renderers[elem.name];
			this.curr_id++;
		}

	},
	
	preProcesBlockObjects:function(elems)
	{
	  var i;
	  this.curr_id=0;
      this.curr_block=null;
	  this.block_change=true;		
      this.active_block=0;
	  this.new_block_request=0;		

		
		for(i=0;i<elems.list.length;i++)
		{
			if (elems.list[i].type=="BLOCK")
			{
				this.preProcessBlock(elems.list[i]);
			}
		}			
	},
	findElemById:function(elem,id_num)
	{
		var res=null;
		var i;
		if (elem.type=="FUNC")
		{
			if (elem.num_id==id_num)
			{
				return elem;
			}
			return null;
		}
		else if (elem.type=="BLOCK")
		{
			if ((res=this.findElemById(elem.func,id_num))!=null)
			{
				return res;
			}
			for(i=0;i<elem.list.length;i++)
			{
				if ((res=this.findElemById(elem.list[i],id_num))!=null)
				{
					return res;
				}
			}
		}
		return res;
	},
	findElemInAllScreens:function(id_num)
	{
		var i;
		for(i=0;i<this.hmi_elems.list.length;i++)
		{
			if (this.hmi_elems.list[i].type=="BLOCK")
			{
				var res=this.findElemById(this.hmi_elems.list[i],id_num);
				if (res!=null)
				{
					return res;
				}
			}
		}
		return null;
	},


};




var standalone_hmi_custom_renderers=
{
	
};

/********************************************************************************
 *
 * Copyright (c) 2013 by TUSA
 *
 ********************************************************************************
 *
 *  Initial Author       : Roman Glistvain
 *  Maintainers          : Roman Glistvain
 *
 *
 ********************************************************************************
 *
 *  DESCRIPTION: Various utility  functions (e.g "check if a string represents a 
 *               variable name", "convert from javascript number to an integer").
 *
 *******************************************************************************/

//from http://javascript.about.com/library/blipconvert.htm
function dot2num(dot) 
{
    var d = dot.split('.');
    return ((((((+d[0])*256)+(+d[1]))*256)+(+d[2]))*256)+(+d[3]);
}

function num2dot(num) 
{
    var d = num%256;
    for (var i = 3; i > 0; i--) 
    { 
        num = Math.floor(num/256);
        d = num%256 + '.' + d;
    }
    return d;
}

function arrayCmp(arr1,arr2,offset,len)
{
	var i;
	for(i=0;i<len;i++)
	{
		if (arr1[i+offset]!=arr2[i+offset])
		{
			return false;
		}
	}
	return true;
	
}

function isVersionString(s)
{
	var i;
	// only acceptible characters are numbers and dots
	i=0;
	if ((s.charCodeAt(i)<0x30)||(s.charCodeAt(i)>0x39))
	{
		return false;
	}
	i++
	for(;i<(s.length-1);i++)
	{
		if (((s.charCodeAt(i)<0x30)||(s.charCodeAt(i)>0x39))&&(s.charCodeAt(i)!=0x2e))
		{
			return false;
		}
	}
	if ((s.charCodeAt(i)<0x30)||(s.charCodeAt(i)>0x39))
	{
		return false;
	}
	return true;
}

function stringCompatibleWithVariables(s) 
{
   
  if (/^[a-z0-9_]+$/i.test(s)==false)
  {
	return false;
  }
  var code=s.charCodeAt(0);
  if (((code >= 65) && (code <= 90)) || ((code >= 97) && (code <= 122)) || (code==95))
  {
	return true;
  }
  else
  {
	return false;
  }
}


function stringCompatibleWithAliasVariables(s) 
{
   
  if (/^[a-z0-9_\.]+[\s]*$/i.test(s)==false)
  {
	return false;
  }
  var code=s.charCodeAt(0);
  if (((code >= 65) && (code <= 90)) || ((code >= 97) && (code <= 122)  || (code==95)) )
  {
	return true;
  }
  else
  {
	return false;
  }
}


function escapeHTML (unsafe_str) 
{
	if (typeof unsafe_str === 'string')
	{
		return unsafe_str
		  .replace(/&/g, '&amp;')
		  .replace(/</g, '&lt;')
		  .replace(/>/g, '&gt;')
		  .replace(/\"/g, '&quot;')
		  .replace(/\'/g, '&#39;'); // '&apos;' is not valid HTML 4
	}
	else
	{
		return unsafe_str;
	}
}		

function ToInteger(x) 
{
        x = Number(x);
        return x < 0 ? Math.ceil(x) : Math.floor(x);
}

function num(el)
{
	if (typeof el === 'string')
	{
		return parseInt(el);
	}
	return el;
}


function modulo(a, b) 
{
   return a - Math.floor(a/b)*b;
}
function ToUint32(x) 
{
   return modulo(ToInteger(x), Math.pow(2, 32));
}


function getVersionString(num)
{
	var str="";
	var i;
	str+=getRev(num,3);
	for(i=2;i>=0;i--)
	{
		str+=".";
		str+=getRev(num,i);
	}
	return str;
}

function getRev(num,byte_num)
{
	var shift=byte_num*8;;
	var rev=(num>>>shift)&0xff;
	return rev;
}

	
	
function convertString(str)
{
	var tmp;
	tmp=str.replace(/-/g,"_");
	tmp=tmp.replace(/\//g,"_");
	tmp=tmp.replace(/ /g,"_");
	tmp=tmp.replace(/\./g,"_");
	tmp=tmp.replace(/\:/g,"_");
	tmp=tmp.replace(/\\/g,"_");
	tmp=tmp.replace(/\(/g,"_");
	tmp=tmp.replace(/\)/g,"_");
	tmp=tmp.replace(/\+/g,"_plus_");
	tmp=tmp.replace(/\%/g,"_");
	return tmp;
}

function clone(src) {
  function mixin(dest, source, copyFunc) {
    var name, s, i, empty = {};
    for(name in source){
      // the (!(name in empty) || empty[name] !== s) condition avoids copying properties in "source"
      // inherited from Object.prototype.   For example, if dest has a custom toString() method,
      // don't overwrite it with the toString() method that source inherited from Object.prototype
      s = source[name];
      if(!(name in dest) || (dest[name] !== s && (!(name in empty) || empty[name] !== s))){
        dest[name] = copyFunc ? copyFunc(s) : s;
      }
    }
    return dest;
  }

  if(!src || typeof src != "object" || Object.prototype.toString.call(src) === "[object Function]"){
    // null, undefined, any non-object, or function
    return src;  // anything
  }
  if(src.nodeType && "cloneNode" in src){
    // DOM Node
    return src.cloneNode(true); // Node
  }
  if(src instanceof Date){
    // Date
    return new Date(src.getTime());  // Date
  }
  if(src instanceof RegExp){
    // RegExp
    return new RegExp(src);   // RegExp
  }
  var r, i, l;
  if(src instanceof Array){
    // array
    r = [];
    for(i = 0, l = src.length; i < l; ++i){
      if(i in src){
        r.push(clone(src[i]));
      }
    }
    // we don't clone functions for performance reasons
    //    }else if(d.isFunction(src)){
    //      // function
    //      r = function(){ return src.apply(this, arguments); };
  }else{
    // generic objects
    r = src.constructor ? new src.constructor() : {};
  }
  return mixin(r, src, clone);

}
	
	
function GetArrValue(dt, offset, len)
{
   var val=0;
   var byte_num=(offset/8) >>> 0;
   var bit_num=offset%8;
   if ((bit_num==0)&&((len==8)||(len==16)||(len==32)))
   {
      switch(len)
      {
         case 8:
            val=dt.getUint8(byte_num,true);
            break;
         case 16:
            val=dt.getUint16(byte_num,true);
            break;
         case 32:
            val=dt.getUint32(byte_num,true);
            break;
      }
      return val;
   }
   else
   {
	  if ((bit_num+len)>8)
	  {
		val=dt.getUint32(byte_num,true);
		return ((val>>>bit_num)&(0xffffffff>>>(32-len)));
	  }
	  else
	  {
		val=dt.getUint8(byte_num);
		return ((val>>>bit_num)&(0xff>>>(8-len)));
	  }
      
   }
}


function SetArrValue(dt,offset,len,val)
{
  var byte_num=(offset/8) >>> 0;
  var bit_num=offset%8;
  if ((bit_num==0)&&((len==8)||(len==16)||(len==32)))
  {
	 switch(len)
	 {
		case 8:
		   dt.setUint8(byte_num,val,true);
		   break;
		case 16:
		   dt.setInt16(byte_num,val,true);	
		   break;
		case 32:
		   dt.setInt32(byte_num,val,true);
		   break;
	 }
  }
  else
  {
	  if ((bit_num+len)>8)
	  {
		 var curr=dt.getUint32(byte_num,true);
		 curr&=~((0xffffffff>>>(32-len))<<bit_num);
		 curr|=(val&(0xffffffff>>>(32-len)))<<bit_num;
		 dt.setUint32(byte_num,curr,true);
	  }
	  else
	  {
		 var curr=dt.getUint8(byte_num,true);
		 curr&=~((0xff>>>(8-len))<<bit_num);
		 curr|=(val&(0xff>>>(8-len)))<<bit_num;
		 dt.setUint8(byte_num,curr,true);
	  }
	  
  }
}

function GetGWArrValue(dt, offset, len)
{
   var val=0;
	val=dt.getUint16(0,true);
   return ((val>>>offset)&(0xff>>(8-len)));
}
	
	
function ToInt32(x) {
    return x | 0;
}
	
	

function toHex(num)
{
	if (num.toString(16).length==1)
	{
		return '0'+num.toString(16).toUpperCase();
	}
	else
	{
		return num.toString(16).toUpperCase();
	}
}
	
	
function copyStringToDt(dt,offset,str)
{
	var i;
	for(i=0;i<str.length;i++)
	{
		dt.setUint8(offset+i,str.charCodeAt(i));
	}
	return 0;
}

var prev_compiler_message=null;

function savePrevCompilerMessage()
{
	if (prev_compiler_message==null)
	{
		var status_div=document.getElementById("status_elem");
		prev_compiler_message=status_div.innerHTML;
	}
}

function restorePrevCompilerMessage()
{
	if (prev_compiler_message!=null)
	{
		var status_div=document.getElementById("status_elem");
		status_div.innerHTML=prev_compiler_message;
		prev_compiler_message=null;
	}
}

function setCompilerMessage(without_upload,error,string)
{
	var status_div=document.getElementById("status_elem");
	if (status_div==null)
	{
		return false;
	}
	var msg="";

	if (without_upload==false)
	{
		if (error==true)
		{
			msg="<font style='font-size:15px;' color=\"#F00000\"><b>"+string+"</b></font>";
		}
		else
		{
			msg=string;
		}
	}
	
	status_div.innerHTML="<table cellspacing='0' cellpadding='0' border='0' style='width:100%;font-size:15px;'><tr><td>"+msg+"</td></tr></table>";
	return true;
	
	
}

function clearCompilerMessage()
{
	
	var status_div=document.getElementById("status_elem");
	if (status_div==null)
	{
		return false;
	}
	var tbl="<table cellspacing='0' cellpadding='0' border='0' style='width:100%'><tr>";
	if (GOM.getObjArr("ARGEE_PROJ_TITLE",0)==undefined)
	{
		tbl+="<td style='text-align:left;font-size:15px;'><div style='padding-left:20px;'>Project Title: </div></td>";
	}
	else
	{
		tbl+="<td style='text-align:left;font-size:15px;'><div style='padding-left:20px;'>Project Title: <b>"+(GOM.arrToString(GOM.getObjArr("ARGEE_PROJ_TITLE",0)))+"</b></div></td>"
	}
	tbl+="<td style='text-align:right;font-size:15px;'><b>"+GOM.arrToString(GOM.getObjArr("ARGEE_DEV_NAME",0))+"</b>&nbsp&nbsp (<b>"+GOM.arrToString(GOM.getObjArr("IP_ADDRESS",0))+"</b>) <b style='padding-right:20px;'>"+GOM.arrToString(GOM.getObjArr("SAPI_APP_VER_STRING",0))+"</b></td>";	
	tbl+="</tr></table>";
	status_div.innerHTML=tbl;
	return true;
	
	
}

function appendNumToArr(arr,val)
{
	arr[arr.length]=(val>>>24)&0xff;
	arr[arr.length]=(val>>>16)&0xff;
	arr[arr.length]=(val>>>8)&0xff;
	arr[arr.length]=(val>>>0)&0xff;
}


function appendNumToArrLE(arr,offset,num,num_bytes)
{
    switch(num_bytes)
    {
        case 4:
           arr[offset+2]=(num>>>16)&0xff;
           arr[offset+3]=(num>>>24)&0xff;
        case 2:
           arr[offset+1]=(num>>>8)&0xff;
        case 1:
           arr[offset]=(num>>>0)&0xff;
    }
}

function fastClone(obj)
{
	if ((obj==undefined)||(obj==null))
	{
		return obj;
	}
	return JSON.parse(JSON.stringify(obj));
}


function arrayBuffertoRegArr(buf)
{
	
	var tmp=[];
	if (buf!=undefined)
	{
		var map=new Uint8Array(buf);
		for(var i=0;i<buf.byteLength;i++)
		{
			tmp[i]=map[i];
		}
	}
	return tmp;
}

function regArrayToArrayBuffer(arr)
{
	var arr_buf=new Uint8Array(arr.length);
	for(var i=0;i<arr.length;i++)
	{
		arr_buf[i]=arr[i];
	}
	return arr_buf.buffer;
}

function boolToInt(a)
{
	if (a==true)
	{
		return 1;
	}
	else
	{
		return 0;
	}
}
		
/**
* JSONfn - javascript (both node.js and browser) plugin to stringify,
*          parse and clone objects with Functions, Regexp and Date.
*
* Version - 1.1.0
* Copyright (c) Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/jsonfn/
*
* Licensed under the MIT license ( http://www.opensource.org/licenses/mit-license.php )
*
*   USAGE:
*     browser:
*         JSONfn.stringify(obj);
*         JSONfn.parse(str[, date2obj]);
*         JSONfn.clone(obj[, date2obj]);
*
*     nodejs:
*       var JSONfn = require('path/to/json-fn');
*       JSONfn.stringify(obj);
*       JSONfn.parse(str[, date2obj]);
*       JSONfn.clone(obj[, date2obj]);
*
*
*     @obj      -  Object;
*     @str      -  String, which is returned by JSONfn.stringify() function;
*     @date2obj - Boolean (optional); if true, date string in ISO8061 format
*                 is converted into a Date object; otherwise, it is left as a String.
*/

(function (exports) {
"use strict";

  exports.stringify = function (obj) {

    return JSON.stringify(obj, function (key, value) {
      var fnBody;
      if (value instanceof Function || typeof value == 'function') {


        fnBody = value.toString();

        if (fnBody.length < 8 || fnBody.substring(0, 8) !== 'function') { //this is ES6 Arrow Function
          return '_NuFrRa_' + fnBody;
        }
        return fnBody;
      }
      if (value instanceof RegExp) {
        return '_PxEgEr_' + value;
      }
      return value;
    });
  };

  exports.parse = function (str, date2obj) {

    var iso8061 = date2obj ? /^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/ : false;

    return JSON.parse(str, function (key, value) {
      var prefix;

      if (typeof value != 'string') {
        return value;
      }
      if (value.length < 8) {
        return value;
      }

      prefix = value.substring(0, 8);

      if (iso8061 && value.match(iso8061)) {
        return new Date(value);
      }
      if (prefix === 'function') {
        return eval('(' + value + ')');
      }
      if (prefix === '_PxEgEr_') {
        return eval(value.slice(8));
      }
      if (prefix === '_NuFrRa_') {
        return eval(value.slice(8));
      }

      return value;
    });
  };

  exports.clone = function (obj, date2obj) {
    return exports.parse(exports.stringify(obj), date2obj);
  };

}(typeof exports === 'undefined' ? (window.JSONfn = {}) : exports));


function objToString(obj)
{
	var str="";
	for(i in obj)
	{
		if (typeof obj[i] === 'object')
		{
			str+=objToString(obj[i]);
		}
		else if (typeof obj[i]=== 'function')
		{
			str+=i+":"+obj[i].toString()+",";
		}
		else if (typeof obj[i]=== 'number')
		{
			str+="var "+i+"="+obj[i].toString()+";";
		}
		else if (typeof obj[i]=== 'string')
		{
			str+="var "+i+"=\""+obj[i].toString()+"\";";
		}
		str+="\r\n";
	}
	return str;
}


function getOffset( el ,confine ) {
    var _x = 0;
    var _y = 0;
    var _w = el.offsetWidth|0;
    var _h = el.offsetHeight|0;
    while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {
        _x += el.offsetLeft - el.scrollLeft;
        _y += el.offsetTop - el.scrollTop;
        el = el.offsetParent;
		  if (el==confine)
		  {
			  break;
		  }
    }
    return { top: _y, left: _x, width: _w, height: _h };
}
/********************************************************************************
 *
 * Copyright (c) 2016 by TUSA
 *
 ********************************************************************************
 *
 *  Initial Author       : Roman Glistvain
 *  Maintainers          : Roman Glistvain
 *
 *
 ********************************************************************************
 *
 *  DESCRIPTION: ARGEE Debugger. Functions in this file poll run-time variable data 
 *               out of the device and update the interface with current values of
 *               variables as well as conditions/ifs/whiles which are active.
 *               Breakpoint functionality is handled in this file.
 * 
 *******************************************************************************/

var ARGEE_nst_debug=(function()
{ 

var globals=null;
var compiled_program_len;
var compiled_program_DataView;



var process=ARGEE_nst_process;
var parse=ARGEE_nst_parse;
var gen=ARGEE_nst_code_gen;
var prog_start_offset;

var findVarElem=ARGEE_nst_process.findVarElem;
var findFunctBlock=ARGEE_nst_process.findFunctBlock;
var stopCompilation=ARGEE_nst_parse.stopCompilation;
var ELEM=ARGEE_nst_parse.ELEM;
var token_types=ARGEE_nst_parse.token_types;
var VAR_REF=process.VAR_REF;
var breakpoints_on_lines=[];


function pad(n, width, z) {
  z = z || '0';
  n = n + '';
  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
}	


function debugGenToString()
{
   var i;
	GOM.setObjNum("GOTO_LINE",0,-1);
	DEB_elem_tree=[];
	curr_prog_trace=[];
	pause_trace=0;
	DEB_elem_tree=DEB_CreateAstGlobMemoryMap(globals.list[0],[],0);
	addStatusDescrToDeb();
	add_AliaseDescrToDeb();
			


	add_OtherDescrToDeb();

	
	DEB_ReorgVarDispTree(DEB_elem_tree);
   var str=renderDebugTree(DEB_elem_tree);
   deleteAstSubElements(DEB_elem_tree);
   return {str:str,tree:DEB_elem_tree};
}

function debugStandalone()
{
	GOM.setObjNum("GOTO_LINE",0,-1);
	DEB_elem_tree=[];
	curr_prog_trace=[];
	pause_trace=0;
	DEB_elem_tree=DEB_CreateAstGlobMemoryMap(globals.list[0],[],0);
	addStatusDescrToDeb();
	add_AliaseDescrToDeb();
   var var_div=window.document.getElementById("vars");
			


	add_OtherDescrToDeb();

	
	DEB_ReorgVarDispTree(DEB_elem_tree);

	var_div.innerHTML="<center><h2> Runtime Status </h2></center><div id=\"exception_info\"></div><div class=\"css-treeview\"><ul><div id=\"vars_inner\"></div></ul></div>"	
	var var_div_inner=window.document.getElementById("vars_inner");

	var_div_inner.innerHTML=renderDebugTree(DEB_elem_tree);
   GOM.autoRefreshStart(downloadProgElements);
}

function debug()
{
	GOM.setObjNum("GOTO_LINE",0,-1);
	DEB_elem_tree=[];
	curr_prog_trace=[];
	DISP_curr=elem_disp_override.DEF;
	pause_trace=0;
	DEB_elem_tree=DEB_CreateAstGlobMemoryMap(globals.list[0],[],0);
	addStatusDescrToDeb();
	add_AliaseDescrToDeb();
			


	add_OtherDescrToDeb();

	
	DEB_ReorgVarDispTree(DEB_elem_tree);
	if (GOM.getObjNum("ARGEE_PROJ_TYPE",0)==ENV.ARGEE)
	{
		ARGEE_elem_descr.renderProg();
	}
	adjustMenuScreen(1);

	var_div.innerHTML="<center><h2> Runtime Status </h2></center><div class=\"css-treeview\"><ul><div id=\"vars_inner\"></div></ul></div>"	
	var var_div_inner=window.document.getElementById("vars_inner");

	var_div_inner.innerHTML=renderDebugTree(DEB_elem_tree);
	

	var tmp=1;
	//DEB_ClearCodeHighlights();
/*	var res_inner=window.document.getElementById("comp_res_id");
	res_inner.innerHTML="Program Size: "+compiled_program_len+" bytes";
	*/
	//showAssemly();
	prog_compiled=true;
}

function getGlobals()
{
	return globals;
}



function prepareDebElems(glob)
{
	globals=glob;
	
	DEB_func_memory_map=[];
	asm_addr_to_ast=[];
	DEB_breakpoints=[];
	new_break_hit=true;
	DEB_Exception=false;
	DEB_prev_vars=null;
	DEB_elem_tree_id_cnt=0;
	DEB_elem_tree=[];
	DEB_auto_update_var_list=[];
	
	//clearCurrHighlights();
	compiled_program_len=ARGEE_nst_code_gen.GetCompiledProgLen();
	compiled_program_DataView=ARGEE_nst_code_gen.GetCompiledDataview();
	fillAsmToAST_Mapping(globals);
	createUniqueLineActionList();
	DEB_ConvertToNST_Breakpoints();
	createUserBreakPointList();
	createPatchedCode(DEB_breakpoints,null,CMD.SET_CLEAR);
	prog_start_offset=process.getProgStartOffset();
}

function RunProg(glob)
{
	prepareDebElems(glob);
	GOM.addAjaxAction(ARGEE_misc_transf_func.UploadProg);
	
}

function TestProg()
{
	
	ARGEE_elem_descr.setDebugMode(true);
	debug();
	if (prog_compiled==true)
	{
		GOM.autoRefreshStart(downloadProgElements);
	}
}

function StopDebug()
{
	prog_compiled=false;
	GOM.setObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0,[]);
	ARGEE_elem_descr.setDebugMode(false);
}
	


var asm_addr_to_ast=[];

function fillAsmToAST_Mapping(ast)
{
	var i;
	if (ast.asm_begin!=undefined)
	{
		asm_addr_to_ast[asm_addr_to_ast.length]=ast;
	}
	if (ast.list==undefined)
	{
	}
	else
	{
		for(i=0;i<ast.list.length;i++)
		{
			fillAsmToAST_Mapping(ast.list[i]);
		}
	}
}

var DEB_patch_list_for_line_actions=[];

function createUniqueLineActionList()
{
	var i,j,curr;
	var tmp_map=asm_addr_to_ast.slice(0);
	DEB_patch_list_for_line_actions=[];
	for(i=0;i<tmp_map.length;i++)
	{
		DEB_patch_list_for_line_actions[DEB_patch_list_for_line_actions.length]=tmp_map[i];
		var found=true;
		while(found)
		{
			found=false;
			for(j=0;j<tmp_map.length;j++)
			{
				if (i!=j)
				{
					if (tmp_map[i].line_num==tmp_map[j].line_num)
					{
						tmp_map.splice(j,1);
						found=true;
						break;
					}
				}
			}
		}
	}
}

function findAstByAddr(addr)
{
	var i;
	for(i=0;i<asm_addr_to_ast.length;i++)
	{
		if ((asm_addr_to_ast[i].asm_begin<=addr)&&(asm_addr_to_ast[i].asm_end>=addr))
		{
			return 	asm_addr_to_ast[i];
		}
	}
}

function findAstByLine(line)
{
	var i;
	for(i=0;i<asm_addr_to_ast.length;i++)
	{
		if (asm_addr_to_ast[i].line_num==line)
		{
			return asm_addr_to_ast[i];
		}
	}
	return null;
}

//var patched_debug_code;
//var debug_restore_elem;


// start_addr==null -> no changes to the patch list
function createPatchedCode(patch_addr_list,start_addr,cmd)
{
	var i,offset;
	var dv_patched_debug_code;
	var curr_position_break=new ArrayBuffer(4);
	var dv_curr_position_break=new DataView(curr_position_break);
	
	GOM.setObjArr("ARGEE_PATCHED_CODE_STORAGE",0,GOM.getObjArr("ARGEE_RUN_CODE",0));
	var dv_patched_debug_code=GOM.getValDataView("ARGEE_PATCHED_CODE_STORAGE",0);
	var dv_curr_code=GOM.getValDataView("ARGEE_RUN_CODE",0);
	var breakpoint_jmp_addr=GEN.getBreakpointJmpAddr();
	var conv_tmp=new ArrayBuffer(4);
	var conv_tmp_dv=new DataView(conv_tmp);


	
	if (start_addr!=null)
	{
		dv_curr_position_break.setUint32(0,dv_patched_debug_code.getUint32(start_addr,true),true);
	}
	
	
	for(i=0;i<patch_addr_list.length;i++)
	{
		var rel_jmp=breakpoint_jmp_addr-patch_addr_list[i].asm_begin;
		rel_jmp-=4;
		conv_tmp_dv.setInt32(0,rel_jmp,true);
		var conv;
		conv=conv_tmp_dv.getUint32(0,true);
		conv>>=1;
		var S=0,tmp;
		if (rel_jmp<0)
		{
			S=1;
		}
		tmp=(conv&0x7ff)|(0x1f<<11)|(((conv>>>11)&0x3ff)<<16)|(S<<26)|(0xf<<28);

		var data=[];
		var pos=patch_addr_list[i].asm_begin;
		data[0]=(tmp>>>0)&0xff;
		data[1]=(tmp>>>8)&0xff;
		data[2]=(tmp>>>16)&0xff;
		data[3]=(tmp>>>24)&0xff;
		if (start_addr!=patch_addr_list[i].asm_begin)
		{
			dv_patched_debug_code.setUint8(pos+2,data[0]);
			dv_patched_debug_code.setUint8(pos+3,data[1]);
			dv_patched_debug_code.setUint8(pos+0,data[2]);
			dv_patched_debug_code.setUint8(pos+1,data[3]);
		}
		else
		{
			dv_curr_position_break.setUint8(2,data[0]);
			dv_curr_position_break.setUint8(3,data[1]);
			dv_curr_position_break.setUint8(0,data[2]);
			dv_curr_position_break.setUint8(1,data[3]);
		}
			
	}
	
	{
		
		debug_restore_elem=new ArrayBuffer(7);
		var debug_restore_elem_dv=new DataView(debug_restore_elem);
		offset=0;
		debug_restore_elem_dv.setUint8(offset,cmd);offset++;
		if (start_addr!=null)
		{
			var replaced_code=dv_curr_position_break.getUint32(0,true);
			debug_restore_elem_dv.setUint16(offset,start_addr,true);offset+=2
			debug_restore_elem_dv.setUint32(offset,replaced_code,true);offset+=4;
		}
		else
		{
			debug_restore_elem_dv.setUint16(offset,0,true);offset+=2;
			debug_restore_elem_dv.setUint32(offset,0,true);offset+=4;
		}
		GOM.setObjArr("ARGEE_BREAKPOINT_UPLOAD_START",0,debug_restore_elem);	
	}
}	

		
function shiftArr(arr,pos_start,pos_end)
{
	var i;
	for(i=pos_start;i<(pos_end-1);i++)
	{
		arr[i]=arr[i+1];
	}
	arr.splice(pos_end-1,1);
}

var invocation = new XMLHttpRequest();
var url_prefix="http://192.168.1.253";


var prog_loaded=false;









var DEB_func_memory_map=[];



function DEB_FindFuncByAddr(addr)
{
	var i;
	for(i=0;i<DEB_func_memory_map.length;i++)
	{
		if (DEB_func_memory_map[i].offset==addr)
		{
			return DEB_func_memory_map[i];
		}
	}
	return null;
}

function DEB_FindFuncGlobAddr(ast)
{
	var i;
	for(i=0;i<DEB_func_memory_map.length;i++)
	{
		if (DEB_func_memory_map[i].list[DEB_func_memory_map[i].list.length-1]==ast)
		{
			return DEB_func_memory_map[i].offset;
		}
	}
}	

var DEB_elem_tree=[];
var DEB_elem_tree_id_cnt=0;	

var DEB_TYPE=
{
	POINTER:0,
	ARRAY:1,
	BLOCK:2,
	REG:3,
	COMB_REG:4,
	ARR_DESCR:5,
	BLOCK_IO:6,
	TRACE:7,
}

function DEB_VarChanged(offset,dv1,dv2,num_bytes)
{
	var i;
	var changed=false;
	for(i=0;i<num_bytes;i++)
	{
		if (dv1.getUint8(offset+i)!=dv2.getUint8(offset+i))
		{
			changed=true;
			break;
		}
	}
	return changed;
}

var elem_disp_type=
{
	INT:0,
	HEX:1,
	FLOAT:2,
};


var elem_disp_override=
{
	DEF:0,
	HEX:1,
	BIN:2,
	DEC_SIGNED:3,
	DEC_UNSIGNED:4,
	MAX_DISP_MODES:5,
};

var DISP_curr=elem_disp_override.DEF;

function DISP_Default()
{
	DISP_curr=elem_disp_override.DEF;
	if (GOM.isAutoRefreshStopped())
		{ 
			GOM.autoRefreshStart(downloadProgElements);
		}
	return false;
}

function DISP_Cycle()
{
	DISP_curr=((DISP_curr+1)%elem_disp_override.MAX_DISP_MODES)|0;	
	if (GOM.isAutoRefreshStopped())
		{ 
			GOM.autoRefreshStart(downloadProgElements);
		}
	return false;
}

function DISP_Hex()
{
	DISP_curr=elem_disp_override.HEX;
	if (GOM.isAutoRefreshStopped())
		{ 
			GOM.autoRefreshStart(downloadProgElements);
		}
	return false;
}

function DISP_Bin()
{
	DISP_curr=elem_disp_override.BIN;
	if (GOM.isAutoRefreshStopped())
		{ 
			GOM.autoRefreshStart(downloadProgElements);
		}
	return false;
}

function DISP_DecSigned()
{
	DISP_curr=elem_disp_override.DEC_SIGNED;
	if (GOM.isAutoRefreshStopped())
		{ 
			GOM.autoRefreshStart(downloadProgElements);
		}
	return false;
}
function DISP_DecUnsigned()
{
	DISP_curr=elem_disp_override.DEC_UNSIGNED;
	if (GOM.isAutoRefreshStopped())
		{ 
			GOM.autoRefreshStart(downloadProgElements);
		}
	return false;
}




function createFormatedDisplayString(elem,dv_curr,elem_start,default_view)
{
	var i;
	var saved_default=DISP_curr;
	var formated_val="";
	if (DISP_curr==elem_disp_override.DEF)
	{
		DISP_curr=default_view;
	}		
	switch(DISP_curr)
	{
		case elem_disp_override.DEC_SIGNED:
		{
			switch(elem.obj_size)
			{
				case 4:
					formated_val=dv_curr.getInt32(elem_start,true);
					break;
				case 2:
					formated_val=dv_curr.getInt16(elem_start,true);
					break;
				case 1:
					formated_val=dv_curr.getInt8(elem_start);
					break;
			}
					
			break;
		}
		case elem_disp_override.DEC_UNSIGNED:
		{
			switch(elem.obj_size)
			{
				case 4:
					formated_val=dv_curr.getUint32(elem_start,true);
					break;
				case 2:
					formated_val=dv_curr.getUint16(elem_start,true);
					break;
				case 1:
					formated_val=dv_curr.getUint8(elem_start);
					break;
			}
			break;
		}
		case elem_disp_override.HEX:
		{
			formated_val+="0x";
			for(i=elem.obj_size-1;i>=0;i--)
			{
				formated_val+=pad((dv_curr.getUint8(elem_start+i)).toString(16),2);
				if (i>0)
				{
					formated_val+=",";
				}
			}
			break;
		}
		case elem_disp_override.BIN:
		{
			formated_val+="0b";
			for(i=elem.obj_size-1;i>=0;i--)
			{
				formated_val+=pad((dv_curr.getUint8(elem_start+i)).toString(2),8);
				if (i>0)
				{
					formated_val+=",";
				}
				
			}
			break;
		}
	}
	if (saved_default==elem_disp_override.DEF)
	{
		DISP_curr=saved_default;
	}
	return formated_val;

}


function renderRegElem(elem,str1)
{
	var tmp_str;
	var i;
	var dv_curr=GOM.getValDataView(elem.obj,elem.inst);
	var dv_prev=GOM.getPrevDataView(elem.obj,elem.inst);
	var editable=false;
	var editable_offset,editable_length,editable_type;
	


	//tmp_str="&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ";
	tmp_str="";
	if (elem.type==DEB_TYPE.ARR_DESCR)
	{
		tmp_str+="<td colspan=\"2\">";
		tmp_str+="Array: length="+dv_curr.getUint16(elem.offset,true)+",elem_size="+dv_curr.getUint16(elem.offset+2,true);
		tmp_str+="</td>"
	}
	else
	{
		tmp_str+="<td width=\"1px\" style=\"white-space: nowrap;\">";
		
		if (elem.bitfield==true)
		{
			if (elem.act_elem_offset==0)
			{
				// header
				tmp_str+="<b>Bit Offset&nbsp&nbsp&nbsp</b></td><td><b>Bit Size&nbsp&nbsp&nbsp&nbsp&nbsp</b></td><td><b>Name&nbsp&nbsp&nbsp</b></td><td><b>Value</b></td></tr><tr><td>";
			}
			tmp_str+=elem.act_elem_offset+"</td><td>"+elem.obj_bit_size+"</td><td>";
		}

		
		if (elem.index!=undefined)
		{
			tmp_str+="<b>["+elem.index+"]</b>";
			//tmp_str+="<u>["+elem.index+"]</u>";
		}
		else
		{
			tmp_str+="<u>"+elem.name+"</u>";
		}
		tmp_str+=" : </td><td>";
		var str_len;
		var elem_start=elem.offset;
		var changed;
		if (elem.sub_type=="CHAR")
		{
			str_len=dv_curr.getUint16(elem.offset,true);
			elem_start=elem.offset+4;
		}
		var str="";
		if (elem.sub_type=="CHAR")
		{
			changed=DEB_VarChanged(elem_start,dv_curr,dv_prev,str_len);
			
			for(i=0;i<str_len;i++)
			{
				if (dv_curr.getUint8(elem_start+i)==0)
				{
					break;
				}
				str+=String.fromCharCode(dv_curr.getUint8(elem_start+i));
			}
		}
		else if ((elem.sub_type=="INT")||(elem.sub_type=="RETAIN_INT"))
		{
			// these could be IO mapped elements
			if (elem.obj_bit_size!=undefined)
			{
				var val_curr=GetArrValue(dv_curr,elem.obj_bit_offset,elem.obj_bit_size);
				var val_prev=GetArrValue(dv_prev,elem.obj_bit_offset,elem.obj_bit_size);
				changed=false;
				if (val_curr!=val_prev)
				{
					changed=true;
				}
				//str+=val_curr;
				editable_offset=elem.obj_bit_offset;
				editable_length=elem.obj_bit_size;
				var buf_tmp=new ArrayBuffer(4);
				var dv_tmp=new DataView(buf_tmp);
				dv_tmp.setUint32(0,val_curr,true);
				
				str+=createFormatedDisplayString(elem,dv_tmp,0,elem_disp_override.DEC_SIGNED);
				
			}
			else
			{
				changed=DEB_VarChanged(elem_start,dv_curr,dv_prev,4);
				str+=createFormatedDisplayString(elem,dv_curr,elem_start,elem_disp_override.DEC_SIGNED);
				editable_offset=elem_start*8;
				editable_length=32;

			}
			editable_type=elem_disp_type.INT;
			editable=true;
		}
		else if ((elem.sub_type=="REAL")||(elem.sub_type=="RETAIN_REAL"))
		{
			changed=DEB_VarChanged(elem_start,dv_curr,dv_prev,4);
			str+=dv_curr.getFloat32(elem_start,true);
			editable=true;
			editable_offset=elem_start*8;
			editable_length=32;
			editable_type=elem_disp_type.FLOAT;
			
		}
		else if (elem.sub_type=="STATE")
		{
			changed=DEB_VarChanged(elem_start,dv_curr,dv_prev,4);
			var val=dv_curr.getInt32(elem_start,true);
			var list=PROCESS.getEnumList();
			str+=list[val];
			editable=false;
		}
		else if (elem.sub_type=="TIMER")
		{
			var ref=dv_curr.getUint32(elem_start,true);
			var ctrl=dv_curr.getUint32(elem_start+4,true);
			var type_offset=26;
			var done_offset=24;
			str+="done: "+((ctrl>>>done_offset)&1);
			if (((ctrl>>>type_offset)&1)==0)
			{
				// timer
				if ((((ctrl>>>done_offset)&1)==0)&&(ctrl&0xffffff)!=0)
				{
					var curr_timer=GOM.getValDataView("ARGEE_CURR_TIMER_TICK",0).getUint32(0,true);
					var curr_val=curr_timer-ref;
					if (curr_val<(ctrl&0xffffff))
					{
						str+=" time:"+curr_val;
						changed=true;
					}
				}
			}
			else
			{
				// counter;
				var ref=dv_curr.getInt32(elem_start,true);
				str+=" count:"+ref;
				changed=true;
			}
			
			
		}
		else
		{
			changed=DEB_VarChanged(elem_start,dv_curr,dv_prev,elem.obj_size);
			str=createFormatedDisplayString(elem,dv_curr,elem_start,elem_disp_override.HEX);
			editable=true;
			editable_offset=elem_start*8;
			editable_length=elem.obj_size*8;
			editable_type=elem_disp_type.HEX;

		}
		
		if ((changed==true))
		{
			tmp_str+="<span style=\"background-color:Gold\">";
		}
		
		if ((editable==true)&&(stopDebRetrieval==true)&&(elem.non_editable!=true)&&
		    (
			  (elem.obj=="ARGEE_GET_PROG_VARS")||
			  ((SIM.getSimMode()==true)&&((elem.obj=="ARGEE_IO_INP")||(elem.obj=="ARGEE_IO_DIAG")||(elem.obj=="SPECIAL_REG")||(elem.obj=="ARGEE_GET_PLC_INP")))
			)
			
		   )
		{
			var str2="<input  type=\"text\" style=\"position:relative;opacity:100;\" value=\""+str+"\" data-elem_obj=\""+elem.obj+"\" data-elem_inst=\""+elem.inst+"\" data-elem_offset=\""+ editable_offset+"\" data-elem_len=\""+editable_length+"\" data-elem_disp_type=\""+editable_type+"\" onblur=\"DEB.MOD_Update(this)\">";
			str=str2;
		}
		tmp_str+=str;
		/*
		if ((changed==true))
		{
			tmp_str+="</span>";
		}
		*/
		tmp_str+="</td>"
	}
	return str1+tmp_str;
}

var DEB_auto_update_var_list=[];

function DEB_ClearVarFuncHighlights()
{
	var i;
	for(i=0;i<DEB_func_memory_map.length;i++)
	{
		var elm=document.getElementById("func_var_id_"+DEB_func_memory_map[i].id);
		if (elm!=undefined)
		{
			elm.style.backgroundColor="inherit";
			elm.innerHTML=elm.dataset.name;
		}
		
	}
}


function DEB_UpdateTraceElems(trace)
{
	var i;
	DEB_ClearVarFuncHighlights();
	for(i=0;i<trace.length;i++)
	{
		var elm=document.getElementById("func_var_id_"+trace[i].func.id);
		elm.style.backgroundColor=trace_autocolors[i];
		elm.innerHTML=elm.dataset.name+" - ["+i+"]";
	}
}

function DEB_UpdateVars(run)
{
	var i,j;
	for(i=0;i<DEB_auto_update_var_list.length;i++)
	{
		var elem=DEB_auto_update_var_list[i];
		var elem_render;
		var str="";
		if (elem.type==DEB_TYPE.COMB_REG)	
		{
			elem_render=window.document.getElementById("auto_update_div_"+elem.sub_arr[0].id);
			str="<table style=\"border-spacing:0px;\">";
			for(j=0;j<elem.sub_arr.length;j++)
			{
				str+="<tr >";
				str=renderRegElem(elem.sub_arr[j],str);
				str+="</tr>";
			}
			str+="</table>";
		}
		else
		{
			elem_render=window.document.getElementById("auto_update_div_"+elem.id);
			//border=\"1\" style=\"border-collapse:collapse;\"
			str="<table style=\"border-spacing:0px;\" ><tr >";
			str=renderRegElem(elem,str);
			str+="</tr></table>";
		}
		elem_render.innerHTML=str;
	}
}

function renderDebugTree(elem)
{
	var str="";
	var i;
	
	
	if (elem.length!=undefined)
	{
		// first call
		for(i=0;i<elem.length;i++)
		{
			str+=renderDebugTree(elem[i]);
		}
	}
	else if ((elem.type==DEB_TYPE.REG)||(elem.type==DEB_TYPE.ARR_DESCR)||(elem.type==DEB_TYPE.ARR_DESCR)||(elem.type==DEB_TYPE.POINTER))
	{
		str+="<li><div id=\"auto_update_div_"+elem.id+"\"></div>";
		DEB_auto_update_var_list[DEB_auto_update_var_list.length]=elem;
		str+="</li>";
	}
	else if (elem.type==DEB_TYPE.COMB_REG)
	{
		
		str+="<li><div id=\"auto_update_div_"+elem.sub_arr[0].id+"\"></div>";
		DEB_auto_update_var_list[DEB_auto_update_var_list.length]=elem;
		str+="</li>";
	}
	else
	{
		if ((elem.type==DEB_TYPE.BLOCK)&&(elem.index!=undefined))
		{
			//str+="<li><input type=\"checkbox\" checked=\"checked\" id=\"item_deb_"+elem.id+"\" /><label for=\"item_deb_"+elem.id+"\"><b>["+elem.index+"]</b></label><ul>"
			str+="<li><input type=\"checkbox\"  id=\"item_deb_"+elem.id+"\" /><label for=\"item_deb_"+elem.id+"\"><b>["+elem.index+"]</b></label><ul>"
		}
		else if (elem.type==DEB_TYPE.BLOCK)
		{
			if ((elem.ast!=undefined)&&(elem.ast.segm_type==PARSE.token_types.VAR_TASK))
			{
				
				if (elem.name.toUpperCase().localeCompare(default_task_name.toUpperCase())==0)
				{
					
					str+="<li><input type=\"checkbox\" checked=\"checked\" id=\"item_deb_"+elem.id+"\" /><label for=\"item_deb_"+elem.id+"\"><b style=\"background-color:"+task_color_in_vars+";\"> - </b><b><a  href='#' onclick='DEB.DEB_ShowFuncPos(event,"+elem.offset+")' data-name=\""+default_task_replace_type+"\" id=\"func_var_id_"+elem.id+"\">"+default_task_replace_type+"</a></b></label><ul>"
				}
				else
				{
					str+="<li><input type=\"checkbox\" id=\"item_deb_"+elem.id+"\" /><label for=\"item_deb_"+elem.id+"\"><b style=\"background-color:"+task_color_in_vars+";\"> - </b><b><a  href='#' onclick='DEB.DEB_ShowFuncPos(event,"+elem.offset+")' data-name=\""+elem.name+"("+elem.sub_type+")"+"\" id=\"func_var_id_"+elem.id+"\">"+elem.name+"("+elem.displaySubtype+")"+"</a></b></label><ul>"
				}
				
			}
			else
			{
				//str+="<li><input type=\"checkbox\" checked=\"checked\" id=\"item_deb_"+elem.id+"\" /><label for=\"item_deb_"+elem.id+"\"><b><a href='#' onclick='DEB.DEB_ShowFuncPos(event,"+elem.offset+")' data-name=\""+elem.name+"("+elem.sub_type+")"+"\" id=\"func_var_id_"+elem.id+"\">"+elem.name+"("+elem.sub_type+")"+"</a></b></label><ul>"
                str+="<li><input type=\"checkbox\"  id=\"item_deb_"+elem.id+"\" /><label for=\"item_deb_"+elem.id+"\"><b><a href='#' onclick='DEB.DEB_ShowFuncPos(event,"+elem.offset+")' data-name=\""+elem.name+"("+elem.sub_type+")"+"\" id=\"func_var_id_"+elem.id+"\">"+elem.name+"("+elem.displaySubtype+")"+"</a></b></label><ul>"
			}
		}
		else if (elem.type==DEB_TYPE.TRACE)
		{
			str+="<li><input type=\"checkbox\" id=\"item_deb_"+elem.id+"\" /><label for=\"item_deb_"+elem.id+"\"><b style=\"color:#FF5733;\">"+elem.name+"</b></label><ul><div id=\"trace_div\"><button onclick=\"DEB.TRACE_PauseResume()\"> Pause/Resume</button><button onclick=\"DEB.TRACE_Clear()\">Clear Trace </button><div id=\"trace_update_div\"></div>  </div>";
		}
		else
		{
			//str+="<li><input type=\"checkbox\" checked=\"checked\" id=\"item_deb_"+elem.id+"\" /><label for=\"item_deb_"+elem.id+"\"><b>"+elem.name+"</b></label><ul>"
			str+="<li><input type=\"checkbox\" id=\"item_deb_"+elem.id+"\" /><label for=\"item_deb_"+elem.id+"\"><b>"+elem.name+"</b></label><ul>"
		}
		if ((elem.sub_arr!=undefined)&&(elem.sub_arr!=null))
		{
			for(i=0;i<elem.sub_arr.length;i++)
			{
				str+=renderDebugTree(elem.sub_arr[i]);
			}
		}
		str+="</ul></li>";
	}
	return str;
}

function handleSubArray(arr)
{
	var i,j;
	for(i=0;i<arr.length;i++)
	{
		if ((arr[i].type==DEB_TYPE.REG)||(arr[i].type==DEB_TYPE.ARR_DESCR)||(arr[i].type==DEB_TYPE.POINTER))
		{
			for(j=i+1;(j<arr.length)&&((arr[j].type==DEB_TYPE.REG)||(arr[j].type==DEB_TYPE.ARR_DESCR)||(arr[j].type==DEB_TYPE.POINTER));j++)
			{
			}
			if (i!=(j-1))
			{
				var_sub_arr=arr.slice(i,j);
				arr[i]={type:DEB_TYPE.COMB_REG,sub_arr:var_sub_arr};
				arr.splice(i+1,j-i-1);
			}
		}
		else
		{
			DEB_ReorgVarDispTree(arr[i]);
		}
	}		
}

function DEB_ReorgVarDispTree(elem)
{
	var i;
	if (elem.length!=undefined)
	{
		// first element
		handleSubArray(elem);
	}
	if (elem.sub_arr!=undefined)
	{
		handleSubArray(elem.sub_arr);
	}
}

function addStatusDescrToDeb()
{
	var obj;
	obj={name:"PLC_CONNECTED",type:DEB_TYPE.REG,sub_type:"INT",obj_bit_size:1,offset:-1,obj_size:4, obj_bit_offset:0,id:DEB_elem_tree_id_cnt,obj:"SPECIAL_REG",inst:0};DEB_elem_tree_id_cnt++;
	DEB_elem_tree.splice(0,0,obj);
	obj={name:"PROG_CYCLE_TIME",type:DEB_TYPE.REG,sub_type:"INT",obj_bit_size:8,offset:-1,obj_size:4, obj_bit_offset:24,id:DEB_elem_tree_id_cnt,obj:"SPECIAL_REG",inst:0,non_editable:true};DEB_elem_tree_id_cnt++;
	DEB_elem_tree.splice(0,0,obj);

}

function add_AliaseDescrToDeb()
{
	var io_list=[]; 
	io_list[0]={name:"<b style=\"color:#FF5733;\">ALIAS VARIABLES</b>",type:DEB_TYPE.BLOCK_IO,id:DEB_elem_tree_id_cnt,offset:-1,obj:"ARGEE_IO_DIAG",inst:0};DEB_elem_tree_id_cnt++;
	var aliases=process.getAliasList();
	var i;
	var MAP_VAR=PROCESS.MAP_VAR;
	var alias_elem_list=[];
	for(i=0;i<aliases.names.length;i++)
	{
		var elem_name=aliases.refs[i].list[0].data;
		var ind=aliases.mapped_names.indexOf(elem_name);
		var jk=1;
		
		if (ind>=0)
		{
			var descr=aliases.mapped_descrs[ind];
			var offset_overrride=0;
			var len_override=-1;
			if (aliases.refs[i].list.length>1)
			{
				offset_overrride=aliases.refs[i].list[1].offset;
				len_override=aliases.refs[i].list[1].len;
			}
			switch(descr.type)
			{
				case MAP_VAR.IO:
				{
					var slot=descr.descr[1];
					var sect=descr.descr[2];
					var offset=descr.descr[3]+offset_overrride;
					var len=descr.descr[4];
					if (len_override!=-1)
					{
						len=len_override;
					}
					alias_elem_list[alias_elem_list.length]=
							{name:aliases.names[i],type:DEB_TYPE.REG,sub_type:"INT",obj_bit_size:len,offset:-1,obj_size:4, obj_bit_offset:offset,id:DEB_elem_tree_id_cnt,obj:ObjSectMap[sect],inst:slot};DEB_elem_tree_id_cnt++;
					break;
				}
				case MAP_VAR.PLC:
				{
					var obj="ARGEE_GET_PLC_OUTP";
					if (descr.descr[1]==1)
					{
						obj="ARGEE_GET_PLC_INP";
					}
					var bit_loc=descr.descr[2]*2*8+offset_overrride;
					var bit_len=2*8;
					if (len_override!=-1)
					{
						bit_len=len_override;
					}
					alias_elem_list[alias_elem_list.length]=
							{name:aliases.names[i],type:DEB_TYPE.REG,sub_type:"INT",obj_bit_size:bit_len,offset:-1,obj_size:4, obj_bit_offset:bit_loc,id:DEB_elem_tree_id_cnt,obj:obj,inst:0};DEB_elem_tree_id_cnt++;
					break;
				}				
			}
		}
		else
		{
			var ref_elem=aliases.refs[i];
			var offset=ref_elem.ref_addr;
			var size=ref_elem.last_type.link.var_size;
			var bit_offset=0;
			var bit_size=size*8;
			if ((ref_elem.offset_list!=undefined)&&(ref_elem.offset_list.length>0))
			{
				offset+=ref_elem.offset_list[0].offset;
			}
			if (ref_elem.list[ref_elem.list.length-1].enum_type==ELEM.EXPR_VAR_OFFSET)
			{
				bit_offset=ref_elem.list[ref_elem.list.length-1].offset;
				bit_size=ref_elem.list[ref_elem.list.length-1].len;
			}
			
			
			alias_elem_list[alias_elem_list.length]=
							{name:aliases.names[i],type:DEB_TYPE.REG,sub_type:"INT",
								obj_size:size,
							obj_bit_size:bit_size,offset:offset, obj_bit_offset:offset*8+bit_offset,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PROG_VARS",inst:0};DEB_elem_tree_id_cnt++;
				
			var jk1=1;
		}
	}
	
	io_list[0].sub_arr=alias_elem_list;
	DEB_elem_tree.splice(2,0,io_list);
}

function add_OtherDescrToDeb()
{
	var i,j,k;
	var io_list=[];
	var block_sub_arr;
	var curr=0;
	
	
	
	for(i=0;i<IO_ids.length;i++)
	{
		var slice_index=findIndex(IO_ids[i]);
		for(j=0;j<slices[slice_index].sections.length;j++)
		{
			block_sub_arr=[];
			
			if ((j==sect_type.param)||(slices[slice_index].sections[j].objects.length==0))
			{
				continue;
			}
	
			if (i==0)
			{
				io_list[curr]={name:"Local IO: "+SIM.getSlotName(0,true),type:DEB_TYPE.BLOCK_IO,id:DEB_elem_tree_id_cnt,offset:-1,obj:"ARGEE_IO_DIAG",inst:i};DEB_elem_tree_id_cnt++;
			}
			else
			{
				io_list[curr]={name:"Local IO: "+SIM.getSlotName(i,true)+"  - "+sect_names[j],offset:-1,type:DEB_TYPE.BLOCK_IO,id:DEB_elem_tree_id_cnt,obj:ObjSectMap[j],inst:i};DEB_elem_tree_id_cnt++;				
			}
			for(k=0;k<slices[slice_index].sections[j].objects.length;k++)
			{
				var obj=slices[slice_index].sections[j].objects[k];
				if (i==0)
				{
					obj_name="ARGEE_IO_DIAG";
				}
				else
				{
					obj_name=ObjSectMap[j];
				}
					
					
				block_sub_arr[k]={name:obj.name,type:DEB_TYPE.REG,sub_type:"INT",obj_bit_size:obj.length,obj_size:4,offset:-1, obj_bit_offset:obj.offset,id:DEB_elem_tree_id_cnt,obj:obj_name,inst:i};DEB_elem_tree_id_cnt++;
			}
			io_list[curr].sub_arr=block_sub_arr;
			curr++;
		}
	}
	io_list[curr]={name:"PLC_TO_ARGEE",type:DEB_TYPE.ARRAY,offset:-1,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PLC_INP",inst:0};DEB_elem_tree_id_cnt++;	
	block_sub_arr=[];
	for(i=0;i<240;i++)
	{
		block_sub_arr[i]={index:i,type:DEB_TYPE.REG,sub_type:"WORD",obj_size:2, offset:2*i,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PLC_INP",inst:0};DEB_elem_tree_id_cnt++;
	}
	io_list[curr].sub_arr=block_sub_arr;
	curr++;
	
	io_list[curr]={name:"ARGEE_TO_PLC",type:DEB_TYPE.ARRAY,offset:-1,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PLC_OUTP",inst:0};DEB_elem_tree_id_cnt++;	
	block_sub_arr=[];
	for(i=0;i<240;i++)
	{
		block_sub_arr[i]={index:i,type:DEB_TYPE.REG,sub_type:"WORD",obj_size:2, offset:2*i,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PLC_OUTP",inst:0};DEB_elem_tree_id_cnt++;
	}
	io_list[curr].sub_arr=block_sub_arr;
	curr++;
	var start=DEB_elem_tree.length;
	for(i=0;i<io_list.length;i++)
	{
		DEB_elem_tree[DEB_elem_tree.length]=io_list[i];
	}
	DEB_elem_tree.splice(0,0,{name:"TRACE",type:DEB_TYPE.TRACE,offset:-1,obj_size:2, id:DEB_elem_tree_id_cnt});DEB_elem_tree_id_cnt++;
}

function deleteAstSubElements(elem)
{
   var i;
   if (elem.length!=undefined)
   {
      for(i=0;i<elem.length;i++)
      {
         deleteAstSubElements(elem[i]);
      }
   }
   else
   {
      if (elem.ast!=undefined)
      {
         delete elem.ast;
      }
      if ((elem.sub_arr!=undefined)&&(elem.sub_arr!=null))
      {
         for(i=0;i<elem.sub_arr.length;i++)
         {
            deleteAstSubElements(elem.sub_arr[i]);
         }
      }
   }
}

// need to create a list of function_blocks/nested block addresses
function DEB_CreateAstGlobMemoryMap(elem,ast_prefix_list,act_offset)
{
	function addToList(list,elem,prefix_list,offset,id)
	{
		var tmp=prefix_list.slice(0);
		tmp.splice(tmp.length,0,elem)
		var i;
		var str="";
		for(i=0;i<tmp.length;i++)
		{
			if (i!=0)
			{
				str+=".";
			}
			if (tmp[i].type==undefined)
			{
				str+=tmp[i];
			}
			else
			{
				var elem_name=tmp[i].name;
				var type_name=tmp[i].type.link.name;
				if (tmp[i].unCapitalizedName!=undefined)
				{
					elem_name=tmp[i].unCapitalizedName;
				}
				if (tmp[i].type.link.unCapitalizedName!=undefined)
				{
					type_name=tmp[i].type.link.unCapitalizedName;
				}
				str+=elem_name+"("+type_name+")";
			}
		}
		list[list.length]={list:tmp,name:str,offset:offset,id:id};
	}
	
	var i;
	var elem_arr=[];

	if (elem.enum_type==ELEM.VAR_SEGM)
	{
		for(i=0;i<elem.list.length;i++)
		{
			var elem1;
			elem1=DEB_CreateAstGlobMemoryMap(elem.list[i],ast_prefix_list,act_offset);
			if (elem1!=null)
			{
				elem_arr[elem_arr.length]=elem1;
			}
		}
		if (elem_arr.length!=0)
		{
			return elem_arr;
		}
		return null;

	}
	
	var pointer,num_elems,simp_type_index;
	var segm_type=elem.segm_link.type;
	var data_type=elem.type.data;
	var data_elem_size=elem.type.link.var_size;
	var elem_name=elem.name;
	var displaySubtype=data_type;
	
	
	if (segm_type==token_types.VAR_INOUT)
	{
		pointer=true;
	}
	else
	{
		pointer=false;
	}
	if (elem.type.type==ELEM.VAR_REG)
	{
		num_elems=1;
	}
	else
	{
		num_elems=elem.type.range_end-elem.type.range_start+1;
	}
	
	if ((elem.debug_hide==true)||(elem.ctrl_elem==true)||(pointer==true)||(elem.type.data=="BIT"))
	{
		return null;
	}
	
	if (elem.unCapitalizedName!=undefined)
	{
		elem_name=elem.unCapitalizedName;
	}
	
	if (elem.type.unCapitalizedName!=undefined)
	{
		displaySubtype=elem.type.unCapitalizedName;
	}
		
	
	if (pointer==true)
	{
		elem_arr[0]={ast:elem,name:elem_name,type:DEB_TYPE.POINTER,obj_size:data_elem_size,displaySubtype:displaySubtype,sub_type:data_type,offset:act_offset+elem.offset,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PROG_VARS",inst:0};DEB_elem_tree_id_cnt++;
		return elem_arr[0]; // address will appear in the actual function location
		//addToList(elem,ast_prefix_list,act_offset+elem.offset);
	}
	simp_type_index=process.isSimpleType(data_type);
	if (data_type=="CHAR") // string
	{
		elem_arr[0]={ast:elem,name:elem_name,type:DEB_TYPE.REG,obj_size:data_elem_size,displaySubtype:displaySubtype,sub_type:data_type,offset:act_offset+elem.offset,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PROG_VARS",inst:0};DEB_elem_tree_id_cnt++;
		return elem_arr[0]; // address will appear in the actual function location
	}


	if (elem.type.type!=ELEM.VAR_REG)
	{
		// array;
		var sub_arr=[];
		var arr_offset=0;
		elem_arr[0]={ast:elem,name:elem_name,type:DEB_TYPE.ARRAY,obj_size:data_elem_size,displaySubtype:displaySubtype,sub_type:data_type,offset:act_offset+elem.offset,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PROG_VARS",inst:0};DEB_elem_tree_id_cnt++;
		
		if (elem.type.no_length!=true)
		{
			arr_offset=4;
			sub_arr[sub_arr.length]={type:DEB_TYPE.ARR_DESCR,obj_size:data_elem_size,offset:act_offset+elem.offset,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PROG_VARS",inst:0};DEB_elem_tree_id_cnt++;
		}
		
		for(i=0;i<num_elems;i++)
		{
			var elem1;
         if (simp_type_index==-1)
			{
				elem1={ast:elem,name:elem_name,index:i,type:DEB_TYPE.BLOCK,obj_size:data_elem_size,displaySubtype:displaySubtype,sub_type:data_type,offset:arr_offset+act_offset+elem.offset+i*elem.type.link.var_size,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PROG_VARS",inst:0};DEB_elem_tree_id_cnt++;
				var tmp_arr=ast_prefix_list.slice(0);
				tmp_arr.splice(tmp_arr.length,0,i);
				addToList(DEB_func_memory_map,elem,tmp_arr,arr_offset+act_offset+elem.offset+i*elem.type.link.var_size,DEB_elem_tree_id_cnt-1);
				tmp_arr.splice(tmp_arr.length,0,elem);
				var sub_sub=DEB_CreateAstGlobMemoryMap(elem.type.link.list[0],tmp_arr,arr_offset+act_offset+elem.offset+i*elem.type.link.var_size);
				elem1.sub_arr=sub_sub;

			}
			else
			{
				elem1={ast:elem,name:elem_name,index:i,type:DEB_TYPE.REG,obj_size:data_elem_size,displaySubtype:displaySubtype,sub_type:data_type,offset:arr_offset+act_offset+elem.offset+i*elem.type.link.var_size,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PROG_VARS",inst:0};DEB_elem_tree_id_cnt++;
			}
			if (elem1!=null)
			{
				sub_arr[sub_arr.length]=elem1;
			}
		}
		elem_arr[0].sub_arr=sub_arr;
		return elem_arr[0];
	}
	else
	{
		var elem1;
		if (simp_type_index==-1)
		{
			elem1={ast:elem,name:elem_name,type:DEB_TYPE.BLOCK,obj_size:data_elem_size,displaySubtype:displaySubtype,sub_type:data_type,offset:act_offset+elem.offset,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PROG_VARS",inst:0};DEB_elem_tree_id_cnt++;
			var tmp_arr=ast_prefix_list.slice(0);
			addToList(DEB_func_memory_map,elem,ast_prefix_list,act_offset+elem.offset,DEB_elem_tree_id_cnt-1);
			tmp_arr.splice(tmp_arr.length,0,elem);
			var sub_sub=DEB_CreateAstGlobMemoryMap(elem.type.link.list[0],tmp_arr,act_offset+elem.offset);
			elem1.sub_arr=sub_sub;
		}
		else
		{
			if (elem.bitfield_element!=undefined)
			{
			elem1={ast:elem,name:/*"(offset: "+elem.bit_offset+" size: "+elem.bit_size+" )  "+*/elem_name,type:DEB_TYPE.REG,bitfield:true,obj_size:data_elem_size,displaySubtype:displaySubtype,sub_type:data_type,obj_bit_size:elem.bit_size,act_elem_offset:(elem.offset-4)*8+elem.bit_offset,obj_bit_offset:elem.bit_offset+(act_offset+elem.offset)*8, offset:-1,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PROG_VARS",inst:0};
			}
			else
			{
				elem1={ast:elem,name:elem_name,type:DEB_TYPE.REG,obj_size:data_elem_size,displaySubtype:displaySubtype,sub_type:data_type,offset:act_offset+elem.offset,id:DEB_elem_tree_id_cnt,obj:"ARGEE_GET_PROG_VARS",inst:0};
			}
			DEB_elem_tree_id_cnt++;
		}
		if (elem1!=null)
		{
			return elem1;
		}
	}
}
var prog_storage_start_addr;
function DEB_getCurrTask()
{
	var dv=GOM.getValDataView("ARGEE_GET_PROG_VARS",0);
	var addr=dv.getUint32(gen.GetCurrTaskFP_Offset(),true);
	addr=addr-prog_storage_start_addr;
	var task=DEB_FindFuncByAddr(addr);
	return task.list[0];
}

function findTraceByAddr(addr,trace)
{
	var i;
	for(i=0;i<trace.length;i++)
	{
		if (trace[i].func.offset==addr)
		{
			return i;
		}
	}
	return -1;
}

function DEB_getLineNumFromPC(addr)
{
	var ast=findAstByAddr(addr);
	if (ast==null)
	{
		ast=GEN.findAddrInAsmElements(addr);
	}
	if (ast==null)
	{
		return -1;
	}
	return ast.line_num;
}


function DEB_getAST_FromAddr(addr)
{
	var ast=findAstByAddr(addr);
	if (ast==null)
	{
		ast=GEN.findAddrInAsmElements(addr);
	}
	return ast;
}

var CMD=
{
	BREAK_ALL:0,
	SET_CLEAR:1,
	CONTINUE:2,
	STEP:3,
}

function DEB_ConvertToNST_Breakpoints()
{
	var i,k;
	breakpoints_on_lines=[];
	var arr=GOM.getObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0);
	for(k in arr)
	{
		i=parseInt(k);
		if (arr[i]==true)
		{
			var nst_line=PARSE.getNST_Prog_Line_From_ARGEE(i);
			breakpoints_on_lines[nst_line+1]=true; // +1 to make it compatible with line ordering in NST view
		}
	}
}

function checkBreakpointLine(line)
{
	if (breakpoints_on_lines[line]==true)
	{
		return true;
	}
	return false;	
}

function setBreakpointLine(line,val)
{
	breakpoints_on_lines[line]=val;
}

function getBreakpointLines()
{
	return breakpoints_on_lines;
}

function createUserBreakPointList()
{
	var i;
	DEB_breakpoints=[];
	for(i=0;i<breakpoints_on_lines.length;i++)
	{
		if (breakpoints_on_lines[i]==true)
		{
			var ast=findAstByLine(i-1);
			if (ast==null)
			{
				//highlightLine(i-1,"inherit");
				breakpoints_on_lines[i]=false;
			}
			else
			{
				DEB_breakpoints[DEB_breakpoints.length]=ast;
			}
		}
	}
}	


function DEB_getTaskWaitLines(list)
{
	var i;
	var dv=GOM.getValDataView("ARGEE_GET_PROG_VARS",0);
	var task_addrs=GEN.getTaskAddrs();
	for(i=0;i<task_addrs.length;i++)
	{
		var ast=DEB_getAST_FromAddr(dv.getUint32(task_addrs[i]+0,true)-prog_storage_start_addr);
		if ((ast==null)||(ast.enum_type!=ELEM.WAIT_UNTIL))
		{
			list[i]=-1;
		}
		else
		{
			list[i]=ast.line_num;
		}
	}
}

function DEB_getStackTraceFromTask(task)
{
	var curr_fp_ret,curr_pc_ret;
	var dv=GOM.getValDataView("ARGEE_GET_PROG_VARS",0);
	var addr=dv.getUint32(task.offset,true);
	var task_fp=task.offset;

	curr_fp_ret=dv.getUint32(task.offset+4,true)-prog_storage_start_addr;
	curr_pc_ret=dv.getUint32(task.offset+0,true)-prog_storage_start_addr;
	var trace=[];
	while(1)
	{
		var func=DEB_FindFuncByAddr(curr_fp_ret);
		trace[trace.length]={func:func,pc:curr_pc_ret};
		if ((func.list.length==1)&&(func.list[0].offset==task.offset))
		{
			break;
		}
		curr_pc_ret=dv.getUint32(curr_fp_ret+0,true)-prog_storage_start_addr-2;
		curr_fp_ret=dv.getUint32(curr_fp_ret+4,true)-prog_storage_start_addr;
		
	}
	return trace;
}

var act_cmd=-1

function* uploadNewBreakpoints_imp()
{
	
	var res=yield* TRANSF.Login();
	if (res==false)
	{
		return;
	}

	
	DEB_curr_trace_level=0;
	console.log("create patched code "+(new Date()).getTime());
	if (act_cmd==CMD.BREAK_ALL)
	{
		createPatchedCode(DEB_patch_list_for_line_actions,null,act_cmd); 
	}
	else if (act_cmd==CMD.SET_CLEAR)
	{
		createUserBreakPointList();
		createPatchedCode(DEB_breakpoints,null,act_cmd); 
	}
	else
	{
		var task=DEB_getCurrTask();
		var dv=GOM.getValDataView("ARGEE_GET_PROG_VARS",0);
		var curr_fp_ret,curr_pc_ret;
		var addr=dv.getUint32(task.offset,true);
		var task_fp=task.offset;
		var start_addr=null;
		curr_fp_ret=dv.getUint32(task.offset+4,true)-prog_storage_start_addr;
		curr_pc_ret=dv.getUint32(task.offset+0,true)-prog_storage_start_addr;

		start_addr=curr_pc_ret;
		start_addr&=0xfffffffe;
		
		createUserBreakPointList();
		if (act_cmd==CMD.STEP)
		{
			createPatchedCode(DEB_patch_list_for_line_actions,start_addr,act_cmd);
		}
		else if (act_cmd==CMD.CONTINUE)
		{
			createPatchedCode(DEB_breakpoints,start_addr,act_cmd);
		}
	}
	
	if ((act_cmd==CMD.CONTINUE)||(act_cmd==CMD.STEP)||(act_cmd==CMD.BREAK_ALL))
	{
		new_break_hit=true;
		GOM.syncObjPrev("ARGEE_GET_PROG_VARS",0);
		GOM.syncObjPrev("ARGEE_IO_INP",0);
		GOM.syncObjPrev("ARGEE_IO_OUTP",0);
		GOM.syncObjPrev("ARGEE_IO_DIAG",0);
		GOM.syncObjPrev("ARGEE_GET_PLC_INP",0);
		GOM.syncObjPrev("ARGEE_GET_PLC_OUTP",0);
		DEB_ClearVarFuncHighlights();
	}
	console.log("upload breakpoints "+(new Date()).getTime() );
	yield* GOM.objectExchange("ARGEE_BREAKPOINT_UPLOAD_START",0,"WRITE",false);	
	var upload_offset_list=[[GOM.getObjNum("ARGEE_CTRL_VAR_SEGM_SIZE",0),GOM.getObjArr("ARGEE_RUN_CODE",0).byteLength-GOM.getObjNum("ARGEE_CTRL_VAR_SEGM_SIZE",0)]];
	yield* GOM.objectExchange("ARGEE_PATCHED_CODE_STORAGE",0,"WRITE_WITH_OFFSET",false,upload_offset_list);
	GOM.setObjArr("ARGEE_BREAKPOINT_UPLOAD_FINILIZE",0,new ArrayBuffer(1));
	yield* GOM.objectExchange("ARGEE_BREAKPOINT_UPLOAD_FINILIZE",0,"WRITE",false);	
	GOM.finAjaxAction();
	console.log("Breakpoints loaded.. starte autorefresh "+(new Date()).getTime());
	setCompilerMessage(false,false,"Exchange	 finished");
	GOM.autoRefreshStart(downloadProgElements);
}

function launchBreakPointCMD(cmd)
{
	console.log("br_l "+GOM.getObjNum("DEV_RUN",0)+" "+cmd);
	if (prog_compiled==true)
	{
		if  (
				((GOM.getObjNum("DEV_RUN",0)!=0)&&
				 ((cmd==CMD.SET_CLEAR)||(cmd==CMD.BREAK_ALL)))
				 ||
				 ((GOM.getObjNum("DEV_RUN",0)==0)&&
				 ((cmd==CMD.STEP)||(cmd==CMD.CONTINUE)))
			)
				 
		{
			GOM.autoRefreshStop();
			act_cmd=cmd;
			GOM.addAjaxAction(uploadNewBreakpoints_imp);	
		}
		else if (GOM.isAutoRefreshStopped())
		{ 
			GOM.autoRefreshStart(downloadProgElements);
		}
	}
}		


function BREAK_setClear() {launchBreakPointCMD(CMD.SET_CLEAR)}
function BREAK_halt() {launchBreakPointCMD(CMD.BREAK_ALL)}
function BREAK_step() {launchBreakPointCMD(CMD.STEP)}
function BREAK_continue() {launchBreakPointCMD(CMD.CONTINUE)}

function TRACE_PauseResume()
{
	pause_trace=(pause_trace+1)%2;
}
var trace_clear=false;
var clear_trace_compare_to=0;
function TRACE_Clear()
{
	clear_trace_compare_to=0;
	if (curr_prog_trace.length>0)
	{
		clear_trace_compare_to=curr_prog_trace[curr_prog_trace.length-1].int_time;
	}
	curr_prog_trace=[];
	trace_clear=true;
}

var curr_prog_trace=[];
var pause_trace=0;
function extractProgTrace()
{
	var dv=GOM.getValDataView("ARGEE_GET_PROG_VARS",0)
	var prog_trace_offset=GOM.getObjNum("PROG_TRACE_TBL_SEG_OFFSET_OBJ",0);
	var i;
	var curr=prog_trace_offset;
	var traces=[];
	
	/*var def_first_timestamp=-1;
	var rollover_addition==((0xffffffff)+1)<<8;
	var compare_timestamp;
	if (curr_prog_trace.length==0)
	{
		compare_timestamp=def_first_timestamp;
	}
	else
	{
		compare_timestamp=curr_prog_trace[curr_prog_trace.length-1].int_time;
	}*/

	var copy_from=0;
	var compare_to=0;
	if (curr_prog_trace.length>0)
	{
		compare_to=curr_prog_trace[curr_prog_trace.length-1].int_time;
	}
	if (trace_clear==true)
	{
		compare_to=clear_trace_compare_to;
	}
	
	
	var prev_ind=max_prog_traces-1;
	var curr_ptr=dv.getUint16(curr,true);curr+=4;
	// linearize based on the write pointer position
	for(i=0;i<max_prog_traces;i++)
	{
		curr=prog_trace_offset+curr_ptr*12+4;
		var ent={};
		ent.time=dv.getUint32(curr,true);curr+=4;
		ent.id=dv.getUint8(curr);curr++;
		ent.int_time=(ent.time<<8)|ent.id;
		var line=0;
		line<<=8;line|=dv.getUint8(curr+2);
		line<<=8;line|=dv.getUint8(curr+1);
		line<<=8;line|=dv.getUint8(curr+0);
		curr+=3;
		ent.line=line;
		ent.data=dv.getUint32(curr,true);curr+=4;
		if (ent.int_time==compare_to)
		{
			copy_from=i+1;
		}
		traces[i]=ent;
		curr_ptr=(curr_ptr+1)%max_prog_traces;
	}
	for(i=copy_from;i<max_prog_traces;i++)
	{
		
		curr_prog_trace[curr_prog_trace.length]=traces[i];
	}
	if (curr_prog_trace.length>0)
	{
		trace_clear=false;
	}
	var tbl="";
	var cnt=0;
	tbl="<table border=\"1\" style=\"-moz-user-select: all;			-webkit-user-select: all;user-select: all;\"><tr><td>Time</td><td>line</td><td>data</td></tr>";

	var mode=GOM.getObjNum("ARGEE_PROJ_TYPE",0);

	
	for(cnt=0,i=curr_prog_trace.length-1;i>=0;i--,cnt++)
	{
		if (cnt==100)
		{
			break;
		}
		var line=curr_prog_trace[i].line;
		var str=GEN.findTraceStr(line);
		if (mode==ENV.ARGEE)
		{
			line=PARSE.getARGEE_Prog_Line_From_NST(line);
		}
		
		tbl+="<tr style=\"background-color:"+trace_autocolors[line%trace_autocolors.length]+";\"><td>"+curr_prog_trace[i].time+"</td><td>"+line+"</td><td>"+str+":"+curr_prog_trace[i].data+"</td></tr>";	
	}
	tbl+="</table>";
	var elem_id=window.document.getElementById("trace_update_div");
	if (pause_trace==0)
	{
		elem_id.innerHTML=tbl;
	}

}

var stopDebRetrieval=false;

function* downloadProgElements()
{
	// extract OIDs
   //console.log("download start"); 
	yield* GOM.objectExchange("ARGEE_GET_PROG_VARS",0,"UID_TO_OID",true);
	yield* GOM.objectExchange("ARGEE_IO_INP",0,"UID_TO_OID",true);
	yield* GOM.objectExchange("ARGEE_IO_OUTP",0,"UID_TO_OID",true);
	yield* GOM.objectExchange("ARGEE_IO_DIAG",0,"UID_TO_OID",true);
	yield* GOM.objectExchange("ARGEE_GET_PLC_INP",0,"UID_TO_OID",true);
	yield* GOM.objectExchange("ARGEE_GET_PLC_OUTP",0,"UID_TO_OID",true);
	yield* GOM.objectExchange("ARGEE_BASE_MEM_ADDR",0,"UID_TO_OID",true);
	yield* GOM.objectExchange("ARGEE_CURR_TIMER_TICK",0,"UID_TO_OID",true);
	
	var mode=GOM.getObjNum("ARGEE_PROJ_TYPE",0);
	
	
	// read out appropriate vars/IO/PLC objects
	var obj_list=["ARGEE_GET_PROG_VARS","ARGEE_IO_INP","ARGEE_IO_OUTP","ARGEE_IO_DIAG","ARGEE_GET_PLC_INP","ARGEE_GET_PLC_OUTP","ARGEE_BASE_MEM_ADDR","ARGEE_CURR_TIMER_TICK"];
	yield* GOM.objectExchange(obj_list,0,"MULT_INST_READ",true);
	//GOM.setObjNum("ARGEE_CLEAR_INSTR_TRACE",0,1);
	//yield* GOM.objectExchange("ARGEE_CLEAR_INSTR_TRACE",0,"WRITE",false);	

	if (GOM.getValDataView("ARGEE_GET_PROG_VARS",0).buffer.byteLength==0)
	{
		setCompilerMessage(false,true,"Project not running!");
		return;
	}
	else
	{
		//setCompilerMessage(false,true,"");
	}
	
	
	prog_storage_start_addr=GOM.getObjNum("ARGEE_BASE_MEM_ADDR",0);
	var special_seg_addr=PROCESS.getSpecialSegAddr();
	var prog_status_info=GOM.getValDataView("ARGEE_GET_PROG_VARS",0).getUint32(special_seg_addr,true);
	var special_reg_buf=new ArrayBuffer(4);
	var special_reg_dv=new DataView(special_reg_buf);
	special_reg_dv.setUint32(0,prog_status_info,true);
	GOM.setObjArr("SPECIAL_REG",0,special_reg_buf);
	GOM.syncObjPrev("SPECIAL_REG",0);
	var run=((((prog_status_info>>>1)&1)==1)?0:1);
	var exception=((((prog_status_info>>>2)&1)==1)?1:0);
	var exception_num=((prog_status_info>>>8)&0xffff);
	var task_trace=DEB_getStackTraceFromTask(DEB_getCurrTask());
	var task_trace_level=Math.min(DEB_curr_trace_level,task_trace.length-1);
	var inst_trace_offset=GEN.getInstrTraceOffset().offset;
	var val_dv=GOM.getValDataView("ARGEE_GET_PROG_VARS",0);
	var num_trace_elems=(val_dv.getUint16(inst_trace_offset+0,true))/4;
	var i,j;
	var inst_trace_buf=[];
	var line_num;
	for(i=0;i<num_trace_elems;i++)
	{
		var lg=val_dv.getUint32(inst_trace_offset+4+i*4,true);
		if (lg!=0)
		{
			var jk=1;
		}
		for(j=0;j<32;j++)
		{
			
			if ((lg&(1<<j))!=0)
			{
				line_num=i*32+j;
				if (mode==ENV.ARGEE)
				{
					var argee_line=PARSE.getARGEE_Prog_Line_From_NST(line_num);
					if (argee_line!=-1)
					{
						inst_trace_buf[inst_trace_buf.length]=argee_line;
					}
				}
			}
		}
	}
	GOM.setObjArr("INSTR_TRACE",0,inst_trace_buf);
	var wait_lines=[];
	if (run==1)
	{
		DEB_getTaskWaitLines(wait_lines);
		if (mode==ENV.ARGEE)
		{
			for(i=0;i<wait_lines.length;i++)
			{
				var argee_line=PARSE.getARGEE_Prog_Line_From_NST(wait_lines[i]);
				if (argee_line!=-1)
				{
					wait_lines[i]=argee_line;
				}
				else
				{
					wait_lines[i]=-1;
				}
			}
		}
	}
	GOM.setObjArr("WAIT_TRACE",0,wait_lines);
	
	GOM.setObjNum("DEV_RUN",0,run);
	GOM.setObjNum("DEV_EXCEPTION",0,exception);
	GOM.setObjNum("DEV_EXCEPTION_NUM",0,exception_num);
	
	GOM.setObjNum("DBG_TASK_TRACE_LEVEL",0,task_trace_level);
	GOM.setObjNum("DBG_TASK_TRACE",0,task_trace);
	
	if (mode==ENV.ARGEE)
	{
		DESCR.refreshCodeInDebug();
	}
	else if (mode==ENV.NST)
	{
		NST.refreshCodeInDebug();
	}
	
	if ((run==false)&&(new_break_hit==true))
	{
		new_break_hit=false;
		DEB_UpdateTraceElems(task_trace);
      if (command_line_compiler==1)
      {
         if (exception==1)
         {
            var pc=task_trace[task_trace_level].pc;
            var nst_line=DEB.DEB_getLineNumFromPC(pc);
            var remap=PARSE.getStandaloneCompilerRemappingInfo(nst_line);

            var exception_div=window.document.getElementById("exception_info");         
            exception_div.innerHTML="<center><h2><font color=\"red\">Exception Detected "+DESCR.exception_descr[exception_num]+" in \""+ remap.file_name+"\" line_num: "+remap.line_num+" </font></h2></center>";
         }
      }
		//var pc=trace[task_trace_level].pc;
		//var nst_line=DEB_getLineNumFromPC(pc);
		//var argee_line=PARSE.getARGEE_Prog_Line_From_NST(nst_line);
		// call editor specific highlight function
		//DESCR.highlightLine(argee_line);
		//redrawCodeAreaWithBreakpoints(DEB_getLineNumFromPC(pc));
	}
	//console.log("update vars");
	DEB_UpdateVars(true);
	extractProgTrace();
	if (run==true)
	{
		GOM.syncObjPrev("ARGEE_GET_PROG_VARS",0);
		GOM.syncObjPrev("ARGEE_IO_INP",0);
		GOM.syncObjPrev("ARGEE_IO_OUTP",0);
		GOM.syncObjPrev("ARGEE_IO_DIAG",0);
		GOM.syncObjPrev("ARGEE_GET_PLC_INP",0);
		GOM.syncObjPrev("ARGEE_GET_PLC_OUTP",0);
		GOM.syncObjPrev("SPECIAL_REG",0);
	}
	if (stopDebRetrieval==true)
	{
		    abort_ajax=true;
			GOM.autoRefreshStop();
			GOM.setObjArr("ARGEE_ARGEE_STORAGE",0,GOM.getObjArr("ARGEE_GET_PROG_VARS",0));
			if (SIM.getSimMode()==true)
			{
				GOM.setObjArr("SPECIAL_REG_SUBM_MIRR",0,GOM.getObjArr("SPECIAL_REG",0));
				GOM.setObjArr("ARGEE_GET_PLC_INP_SUBM_MIRR",0,GOM.getObjArr("ARGEE_GET_PLC_INP",0));
				for(i=0;i<IO_ids.length;i++)
				{
					GOM.setObjArr("ARGEE_IO_INP_SUBM_MIRR",i,GOM.getObjArr("ARGEE_IO_INP",i));
					GOM.setObjArr("ARGEE_IO_DIAG_SUBM_MIRR",i,GOM.getObjArr("ARGEE_IO_DIAG",i));
				}
			}
			
			console.log("stop debug extraction");
	}
}


	
	
	




var DEB_last_trace;
var DEB_curr_trace_level=0;
var DEB_Exception=false;
var DEB_prev_vars_dv;


var prog_running=false;
var prog_compiled=false;


var DEB_prev_vars;


var var_disp_html;



var trace_autocolors=
[
	//"#66FF00", // bright green,
	"#D1D0CE", // plainer green
	"Aqua",
	"Aquamarine",
	"Gold",
	"DarkTurquoise",
	"DarkSeaGreen",
	"#CC6600",
	"LimeGreen",
	"Lime",
	"LightSeaGreen",
];



var new_break_hit=false;




var DEB_breakpoints=[];
var DEB_breakpoints_added=false;




			
function DEB_ShowFuncPos(event,func_offset)
{
	var elem=event.target;
	var str;
	var argee_line;
	if (elem.innerText==undefined)
	{
		str=elem.textContent;
	}
	else
	{
		str=elem.innerText;
	}
	var substr=str.split(" - [");
	var func=DEB_FindFuncByAddr(func_offset);
	var act_line=func.list[func.list.length-1].type.link.line_num;
	GOM.setObjNum("GOTO_LINE",0,act_line);
	
	if (substr.length!=1)
	{
		DEB_curr_trace_level=parseInt(substr[1]);
		new_break_hit=true;
		GOM.setObjNum("GOTO_LINE",0,-2);
		return;
	}
	
	//var func=DEB_FindFuncByAddr(func_offset);
	//var act_line=func.list[func.list.length-1].type.link.line_num;
	
}



function MOD_Vars()
{
	submit_obj_list=[];
	stopDebRetrieval=true;
	GOM.addAjaxAction(downloadProgElements);	
}

var subm_meta_list=[];

function getSubmMeta()
{
	return subm_meta_list;
}

function* submitVarMods()
{
	var i,inst;
	
	var res=yield* TRANSF.Login();
	if (res==false)
	{
		return;
	}
	
	for(i=0;i<subm_meta_list.length;i++)
	{
		var obj=subm_meta_list[i].obj;
		for(inst in subm_meta_list[i].element_lists)
		{
			var jk=1;
			var num_inst=num(inst);
			yield* GOM.objectExchange(obj,num_inst,"WRITE_WITH_OFFSET",false,subm_meta_list[i].element_lists[num_inst]);
		}
	}
	GOM.finAjaxAction();
	GOM.autoRefreshStart(downloadProgElements);	
}

function getSubmMetaList(lists,name,inst)
{
	var i;
	var obj_list=null;
	for(i=0;i<lists.length;i++)
	{
		if (lists[i].obj==name)
		{
			obj_list=lists[i];
			break;
		}
	}
	if (obj_list==null)
	{
		lists[lists.length]={obj:name,element_lists:[]};
		obj_list=lists[lists.length-1];
	}
	if (obj_list.element_lists[inst]==undefined)
	{
		obj_list.element_lists[inst]=[];
	}
	return obj_list.element_lists[inst];
}	

function MOD_Finish()
{
	var dv;
	stopDebRetrieval=false;
	var i;
	var list_num;
	for(i=0;i<submit_obj_list.length;i++)
	{
		var obj=submit_obj_list[i].obj_name;
		switch(submit_obj_list[i].obj_name)
		{
			case "ARGEE_GET_PROG_VARS": obj="ARGEE_ARGEE_STORAGE";  break;
			case "SPECIAL_REG"        : obj="SPECIAL_REG_SUBM_MIRR"; break;
			case "ARGEE_GET_PLC_INP"  : obj="ARGEE_GET_PLC_INP_SUBM_MIRR"; break;
			case "ARGEE_IO_INP"       : obj="ARGEE_IO_INP_SUBM_MIRR"; break;
			case "ARGEE_IO_DIAG"      : obj="ARGEE_IO_DIAG_SUBM_MIRR"; break;
		}
		submit_obj_list[i].redir_obj=obj;
		dv=GOM.getValDataView(obj,submit_obj_list[i].obj_inst);
		switch(submit_obj_list[i].obj_disp_type)
		{
			case elem_disp_type.INT:
					SetArrValue(dv,submit_obj_list[i].obj_offset,submit_obj_list[i].obj_len,parseInt(submit_obj_list[i].obj_new_val));
					break;
			case elem_disp_type.HEX:
					switch(submit_obj_list[i].obj_len)
					{
						case 8:dv.setUint8(submit_obj_list[i].obj_offset/8,parseInt(submit_obj_list[i].obj_new_val,16)); break;
						case 16:dv.setUint16(submit_obj_list[i].obj_offset/8,parseInt(submit_obj_list[i].obj_new_val,16),true); break;
						case 32:dv.setUint32(submit_obj_list[i].obj_offset/8,parseInt(submit_obj_list[i].obj_new_val,16),true); break;
					}
					break;
			case elem_disp_type.FLOAT:
					dv.setFloat32(submit_obj_list[i].obj_offset/8,parseFloat(submit_obj_list[i].obj_new_val,16),true); break;
		}
	}
	subm_meta_list=[];
	// for now only "ARGEE_ARGEE_STORAGE" is used -> to be extended with simulation
	for(i=0;i<submit_obj_list.length;i++)
	{
		var bit_offset_in_byte=(submit_obj_list[i].obj_offset%8)|0;
		var bit_span=bit_offset_in_byte+submit_obj_list[i].obj_len;
		var byte_span=(bit_span/8)|0;
		if ((byte_span*8)!=bit_span)
		{
			byte_span++;
		}
		submit_obj_list[i].obj_len=byte_span*8;
		
		var list=getSubmMetaList(subm_meta_list,submit_obj_list[i].redir_obj,submit_obj_list[i].obj_inst);
		list[list.length]=[(submit_obj_list[i].obj_offset/8)|0,(submit_obj_list[i].obj_len/8)|0];		
	}
	GOM.addAjaxAction(submitVarMods);	
}

var submit_obj_list=[];

function MOD_Update(elem)
{
	var obj_name=elem.dataset.elem_obj;
	var obj_inst=parseInt(elem.dataset.elem_inst);
	var obj_offset=parseInt(elem.dataset.elem_offset);
	var obj_len=parseInt(elem.dataset.elem_len);
	var obj_disp_type=parseInt(elem.dataset.elem_disp_type);
	elem.style.background="lightgreen";
	submit_obj_list[submit_obj_list.length]=
	{
		obj_name:obj_name,
		obj_inst:obj_inst,
		obj_offset:obj_offset,
		obj_len:obj_len,
		obj_new_val:elem.value,
		obj_disp_type:obj_disp_type,	
	}
}

return {
	RunProg:RunProg,
	TestProg:TestProg,
	StopDebug:StopDebug,
	getGlobals:getGlobals,
	DEB_getLineNumFromPC:DEB_getLineNumFromPC,
	DEB_ConvertToNST_Breakpoints:DEB_ConvertToNST_Breakpoints,
	BREAK_setClear:BREAK_setClear,
	BREAK_halt:BREAK_halt,
	BREAK_step:BREAK_step,
	BREAK_continue:BREAK_continue,
	DEB_ShowFuncPos:DEB_ShowFuncPos,
	checkBreakpointLine:checkBreakpointLine,
	setBreakpointLine:setBreakpointLine,
	prepareDebElems:prepareDebElems,
	getBreakpointLines:getBreakpointLines,
	MOD_Vars:MOD_Vars,
	MOD_Finish:MOD_Finish,
	MOD_Update:MOD_Update,
	getSubmMeta:getSubmMeta,
	TRACE_Clear:TRACE_Clear,
	TRACE_PauseResume:TRACE_PauseResume,
    debugGenToString:debugGenToString,
    debugStandalone:debugStandalone,
    DISP_Default:DISP_Default,
    DISP_Hex:DISP_Hex,
    DISP_DecSigned:DISP_DecSigned,
	DISP_DecUnsigned:DISP_DecUnsigned,
    DISP_Bin:DISP_Bin,	
	DISP_Cycle:DISP_Cycle,	
}
}());
var DEB=ARGEE_nst_debug;

var ObjSectMap=["ARGEE_IO_INP","ARGEE_IO_OUTP","ARGEE_IO_DIAG","ARGEE_IO_PARAM",];
/********************************************************************************
 *
 * Copyright (c) 2013 by TUSA
 *
 ********************************************************************************
 *
 *  Initial Author       : Roman Glistvain
 *  Maintainers          : Roman Glistvain
 *
 *
 ********************************************************************************
 *
 *  DESCRIPTION: ARGEE Pro Editor. This file contains functions that render the 
 *               Variables panel as well as Code panel. It also renders Print Preview 
 *               and initial Debug display.
 *
 *******************************************************************************/

 
 
var default_task_type="Default_Task_1" 
var default_task_name="default__task__1"
var default_task_replace_type="MainTask"

var task_color_in_code="#d9d9d9";
var function_block_color="#fafafa"
var function_color_in_code="#c8e5d8";
var procedure_color_in_code="#fffbee";
var task_color_in_debug="Chartreuse";
var task_color_in_vars="Chartreuse";



//
var hide_str="<i><font style=\"color:inherit;\">(hidden)</font></i>"
var hide_str="<i><font style=\"color:inherit;\">(hidden)</font></i>"
 
var ARGEE_elem_descr=(function()
{ 


var event=
{
	ADD_ABOVE:0,
	ADD_BELOW:1,
	DEL:2,
	CHANGE:3,
	CUT:4,
	COPY:5,
	PASTE_ABOVE:6,
	PASTE_BELOW:7,
	DBL_CLICK:8,
	ADD_INIT:9,
	EDIT_INIT:10,
	REMOVE_MODULE:11,
	PASTE_BLOCK:12,
	CUT_BLOCK:13,
	COMMENT_OUT:14,
	UNCOMMENT:15,
	COMMENT_VAR:16,
	FORCE_NON_ZERO_RENDER_ABOVE:17,
	EXPORT_MODULE:18,
	IMPORT_MODULE:19,
    PASTE_INTO:20,
    ADD_INTO:21,
	TOGGLE_BUTTON_BELOW:22,
};

var prog_var_types_enum=["Number","Floating","String","Byte","WORD","Timer/Counter","State/Enum","Retain Number", "Retain Float","DefaultTask"];


function getStringTypeInd()
{
	return 2;
}

//var prog_var_types_enum=["INT","REAL","CHAR","BYTE","WORD","DWORD","TIMER","STATE","RETAIN_INT","RETAIN_REAL","MainTask"];

//var prog_type_colors=["#FFF8DC","Aqua","#FFFC28"/*"#ededed"*/,"#8FBC8F","Aquamarine","Chartreuse", "#E9967A","Gold"];

/*function getVarTypesEnum()
{
	return prog_var_types_enum;
}
*/
function isTypeEnum(field)
{
	if (field.enum_elems==prog_var_types_enum)
	{
		return true;
	}
	return false;
}

var mask_indexes_in_func=[7,8]; // don't allow selection of retain variables in functions

var mask_indexes_in_func_without_float=[1,7,8]; 
var mask_indexes_in_globals_without_float=[1,8];

//var module_color="#00bfff"
var module_color="fff2ff"

var prog_type_colors=["#FFF8DC","#FFEEAC","#F2DB7E","#F8C783","#E1b268","#F29136", "#E9967A","#E9968A","#E9969A","Gold"];
// color-less types (For Nick)
//var prog_type_colors=["inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","Gold"];


//var alias_var_types=["Alias","Remap Byte","Remap Word","Remap DWord"];

function getProgTypeInd(type_str)
{
	return prog_var_types_enum.indexOf(type_str);
}

var func_block_type=["Procedure","Structure","Function","Task","Bitfield","Function Block","HMI Block","HMI Control"];
//var func_block_type_colors=["#FFF8DC","Chartreuse"];
var func_block_type_colors=["#C2C27E","#F2DB7E","#F8C783", task_color_in_debug,"#E5E5E5","white","#fff2f4","#ffecef"];
var func_block_type_num=
{
   
   PROCEDURE:0,
   STRUCT:1,
   FUNCTION:2,
   TASK:3,
   BITFIELD:4,
   REG:5,
   HMI_BLOCK:6,
   HMI_CONTROL:7,
};

var fixed_var_types_enum=prog_var_types_enum.length-1;

//var complex_var_types_enum=["MainTask"];

var plc_dir_enum=["ARGEE->PLC","PLC->ARGEE"];
var signed_enum= ["Unsigned","Signed"];

var m2m_dir_enum=["Read","Write"];

var arr_num_elems=
[
	"-------",
	"Array 2 elem","Array 3 elem","Array 4 elem","Array 5 elem",
	"Array 6 elem","Array 7 elem","Array 8 elem","Array 9 elem",
	"Array 10 elem","Array 11 elem","Array 12 elem","Array 13 elem","Array 14 elem",
	"Array 15 elem","Array 16 elem","Array 17 elem","Array 18 elem","Array 19 elem",
	"Array 20 elem","Array 21 elem","Array 22 elem","Array 23 elem","Array 24 elem",
	"Array 25 elem","Array 26 elem","Array 27 elem","Array 28 elem","Array 29 elem",
	"Array 30 elem","Array 31 elem","Array 32 elem","Array 33 elem","Array 34 elem",
	"Array 35 elem","Array 36 elem","Array 37 elem","Array 38 elem","Array 39 elem",
	
];


var arr_num_elems_colors=
[
	"inherit",
	"lightgreen","lightgreen","lightgreen","lightgreen",
	"lightgreen","lightgreen","lightgreen","lightgreen",
	"lightgreen","lightgreen","lightgreen","lightgreen","lightgreen",
	"lightgreen","lightgreen","lightgreen","lightgreen","lightgreen",
	"lightgreen","lightgreen","lightgreen","lightgreen","lightgreen",
	"lightgreen","lightgreen","lightgreen","lightgreen","lightgreen",
	"lightgreen","lightgreen","lightgreen","lightgreen","lightgreen",
	"lightgreen","lightgreen","lightgreen","lightgreen","lightgreen",
	
];

var func_block_var_segm=["VARIABLE","ARGUMENT"];
var func_block_var_segm_color=["inherit","lightgreen"];

var fanc_block_var_segm_bitfield=[
"&nbsp&nbsp&nbsp&nbsp&nbsp1 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp&nbsp&nbsp2 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp&nbsp&nbsp3 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp&nbsp&nbsp4 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp&nbsp&nbsp5 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp&nbsp&nbsp6 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp&nbsp&nbsp7 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp&nbsp&nbsp8 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp&nbsp&nbsp9 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp10 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp11 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp12 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp13 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp14 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp15 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp16 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp17 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp18 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp19 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp20 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp21 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp22 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp23 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp24 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp25 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp26 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp27 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp28 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp29 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp30 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp31 bit&nbsp&nbsp&nbsp",
"&nbsp&nbsp&nbsp32 bit&nbsp&nbsp&nbsp"];


var block_types=
{
	assign:0,
	do_while:1,
	if_then:2,
	else_if:3,		
	else_done:4,
	func_call:5,
	func_block_call:6,
	// comment can be added on top of any element
	ladder_condition:7,
	wait_until:8,
	ladder_assign:9,
	ladder_coil:10,
	ladder_timer_on:11,
	ladder_count_up:12,
	ladder_count_down:13,
	ladder_timer_start:14,
	ladder_timer_off:15,
	ladder_reset_counter:16,
	trace:17,
	add_block:18,
	funct_block_def:19,
	funct_def:20,
	funct_if_then:21,
	funct_else_if:22,
	funct_else_done:23,
	comment:24,
	// variable elements
	device:25,
	module:26,
	reg_var:27,
	alias_var:28,
	funct_block_var:29,
	funct_block_elem_var:30,
	funct_var:31,
	funct_elem_var:32,
	enum_var:33,
	enum_var_elem:34,
	mbudp_var:35,
	root:36,
	prog_vars:37,
	alias_vars:38,
	init_elem_var:39,
	func_block_assign:40,
	ladder_trace:42,
	for_loop:43,
	ladder_func_block_call:44,
	module_def:45,
	module_def_inner:45,
	// HMI elements
	hmi_screen:70,
	hmi_section:71,
	hmi_disp_num:72,
	hmi_disp_range:73,
	//hmi_disp_string:74,
	//hmi_disp_hex:75,
	hmi_enter_num:76,
	hmi_enter_state:77,
	hmi_button:78,
	hmi_screens:79,
	hmi:80,
	hmi_special:81,
	function_block_group:82,
	function_block_group_def:83,
	ladder_comment:84,
	comment_var:85,
	hmi_screen_color:86,
	hmi_screen_list:87,
	hmi_grid_screen:88,
	//hmi_grid:89,
	hmi_grid_row:90, // if the row properties are the same and the number of columns (including colspans) is the same as previous rows -> create a single table
	hmi_grid_section:91,
	hmi_grid_elem:92,
	hmi_block:93,
	hmi_control:94,
	hmi_block_screen:95,

	
	
	
	local_io_var:100,
	local_io_slot:101,
	local_io_sect:102, 
	local_io_elem:103, 
	
	comb_glob_vars:120,
	comb_hmi_image_vars:121,
	comb_state_vars:130,

	
	
	
	hmi_image:135,
	hmi_image_group:136,
	module_variables:137,
	
	
	func_group:200,
	func_group_elem:201,
	
	conv_if:537,
	conv_if_then:538,
	conv_else_if:539,
	conv_else:540,
	conv_func_block_assign_first:541,
	conv_func_block_assign_others:542,
	conv_func_block_var:543,
	conv_func_block_var_in_out:544,
	conv_enum_first_elem:545,
	conv_enum_other_elem:546,
	conv_task_func_block:547,
	conv_reg_func_block:548,
	conv_func_block_var_in:549,
	init_block:600,
	init_block_first_elem_simp:601,	
	init_block_first_elem:602,
	init_block_other_elem:603,
	conv_enum_first_elem_with_const:604,
	conv_enum_other_elem_with_const:605,
	init_block_simp:606,
	conv_hmi_block_func_block:607,
	conv_hmi_control_func_block:608,
	conv_bitfield_func_block:609,
	conv_struct_func_block:610,
	conv_function_func_block:611,
	conv_procedure_func_block:612,

};

var block_types_with_breakspoints=
[
    block_types.assign,
	block_types.func_block_call,
	block_types.ladder_func_block_call,
	block_types.wait_until,
	block_types.ladder_assign,
	block_types.ladder_coil,
	block_types.ladder_timer_on,
	block_types.ladder_count_up,
	block_types.ladder_count_down,
	block_types.ladder_timer_start,
	block_types.ladder_timer_off,
	block_types.ladder_reset_counter,
	block_types.trace,
];
	
	
	
	

var screens=
{
	var_scr:0,
	prog_scr:1,
};
	
	
	
	var reg_func_actions=
	[
		block_types.assign,
		block_types.funct_if_then,
		block_types.funct_else_if,
		block_types.funct_else_done,
		block_types.comment,
		block_types.trace,
	];

	var reg_block_actions_with_cond=
	[
		block_types.ladder_condition,
		block_types.assign,
		block_types.do_while,
		block_types.for_loop,
		block_types.if_then,
		block_types.else_if,
		block_types.else_done,
		block_types.func_block_call,
		block_types.comment,
		block_types.trace,
		block_types.wait_until,
	];



	var reg_block_actions=
	[
		block_types.assign,
		block_types.do_while,
		block_types.for_loop,
		block_types.if_then,
		block_types.else_if,
		block_types.else_done,
		block_types.func_block_call,
		block_types.comment,
		block_types.trace,
		block_types.wait_until,
	];
	var cond_block_actions=
	[	
		block_types.ladder_assign,
		block_types.ladder_timer_start,
		block_types.ladder_coil,
		block_types.ladder_timer_on,
		block_types.ladder_timer_off,
		block_types.ladder_trace,
		block_types.ladder_comment,
		block_types.ladder_count_up,
		block_types.ladder_count_down,
		block_types.ladder_reset_counter,
		block_types.ladder_func_block_call,
		
		
		/*block_types.ladder_count_up,
		block_types.ladder_count_down,
		block_types.ladder_timer_start,
		block_types.ladder_timer_off,
		block_types.ladder_reset_counter,
		*/
		
	];


	var var_blocks=
	[
		block_types.reg_var,
		block_types.alias_var,
	];	
	
	var prog_elem_blocks=
	[
		block_types.funct_block_var,
		block_types.enum_var,
		//block_types.function_block_group,
	];



	var hmi_sect_elem_blocks=
	[
		
		block_types.hmi_disp_num,  // displays number,hex, string, array
		block_types.hmi_disp_range,
		//block_types.hmi_disp_hex, // displays numbers and arrays
		block_types.hmi_enter_num,  // accepts arrays, number decimal,hex
		block_types.hmi_enter_state,
		block_types.hmi_button,
		block_types.comment,
	];

	
	var module_blocks=
	[
		block_types.funct_block_var,
	];

	var root_blocks=
	[
		block_types.device,
		block_types.module,
	];
	

var block_descr=
[		
    // Variable blocks
	{
		title:"Program Variables",
		type:block_types.prog_vars,
		color:"#f2f2f2",
		collapsable:true,
		//centered_title:true,
		screens:[screens.var_scr], 
		extra_creation:[block_types.reg_var],
		refresh_screens:[screens.var_scr], 
		AddButtonText:"Add Variable",
		nested_blocks:[block_types.reg_var],
		hidden_blocks:[block_types.comment_var],
	},
	
	
	{ 
		title:"VarInit", 
		type:block_types.init_elem_var,
		color:"Aqua",
		screens:[], 
		refresh_screens:[screens.var_scr], 
		fields:
		[
				{field_name:"Name",type:field_types.str_num},
				{field_name:"Value",type:field_types.str_num},
		],
	},

	{ 
		title:"Comment Var", 
		type:block_types.comment_var,
		color:"Aqua",
		screens:[screens.var_scr], 
		refresh_screens:[screens.var_scr], 
		fields:
		[
				{field_name:"Value",type:field_types.str_num,width:99,render_textarea:true},
		],
	},

	
	
	{ 
		title:"Program Variable", 
		type:block_types.reg_var,
		color:"Aqua",
		render_init:true,
		screens:[screens.var_scr], 
		refresh_screens:[screens.var_scr], 
		fields:
		[
				{field_name:"Name",width:15,type:field_types.str_num,init_inject:true},
				{field_name:"Type",type:field_types.enumeration_special,enum_elems:prog_var_types_enum,refresh_on_change:true},
				{field_name:"# of Array Elements",width:3,type:field_types.str_num,empty_on_zero:true,enum_value_display:true,render_above:true,help_string:"<I>(Clear field to disable array)</i>"},
		],
	},


	{
		title:"Additional Global Variables",
		type:block_types.module_variables,
		color:"#f2f2f2",
		collapsable:true,
		//centered_title:true,
		screens:[screens.var_scr], 
		extra_creation:[block_types.reg_var],
		refresh_screens:[screens.var_scr], 
		AddButtonText:"Add Variable",
		nested_blocks:[block_types.reg_var],
		hidden_blocks:[block_types.comment_var],
	},


	{
		title:"Alias Variables",
		type:block_types.alias_vars,
		color:"#d9d9d9",
		collapsable:true,
		//centered_title:true,
		screens:[screens.var_scr], 
		refresh_screens:[screens.var_scr], 
		extra_creation:[block_types.alias_var],
		AddButtonText:"Add Variable",
		nested_blocks:[block_types.alias_var],
		hidden_blocks:[block_types.comment_var],
	},	
	{
		title:"Alias Variable", 
		type:block_types.alias_var,
		color:"Gold",
		screens:[screens.var_scr], 
		refresh_screens:[screens.var_scr], 
	 	fields:
    	[
						{field_name:"Name",type:field_types.str_num},
						{field_name:"IO Point",type:field_types.str_num,width:30,glob_and_io_point_display:true},
						//{field_name:"Type",type:field_types.enumeration,enum_elems:alias_var_types},
						//{field_name:"Elements",type:field_types.enumeration,enum_elems:arr_num_elems},
						//{field_name:"Signed",type:field_types.enumeration,enum_elems:signed_enum},
		],
					
	},
	
	
	{
		title:"HMI", 
		type:block_types.hmi,
		color:"#FF8DC",
		screens:[], 
		refresh_screens:[], 
		extra_creation:[block_types.hmi_screens],
		nested_blocks:[block_types.hmi_screens],
	},	
	
	{
		title:"HMI Screens", 
		type:block_types.hmi_screens,
		color:"#FF8DC",
		collapsable:true,
		default_collapse:true,
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		nested_blocks:[block_types.hmi_screen,block_types.hmi_grid_screen,block_types.hmi_block_screen,block_types.hmi_image_group,block_types.comment,],
		AddButtonText:"Add Screen",
	},

	{
		title:"HMI Block<br> Screen", 
		type:block_types.hmi_block_screen,
		color:"#F0D1C",
		screens:[screens.prog_scr], 
		collapsable:true,
		default_collapse:true,
		refresh_screens:[screens.prog_scr], 
		refresh_on_change_prefix:true,
		AddButtonText:"Add HMI Elem",
		
		fields:
    	[
			{field_name:"Function",type:field_types.str_num,default_val:""},
		],
	 	nested_blocks:[block_types.hmi_block,block_types.comment]
	},


	{
		title:"HMI Block", 
		type:block_types.hmi_block,
		color:"#FFDFC",
		screens:[screens.prog_scr], 
		collapsable:true,
		//default_collapse:true,
		refresh_screens:[screens.prog_scr], 
		refresh_on_change_prefix:true,
		
		AddButtonText:"Add HMI Elem",
		
		fields:
    	[
			{field_name:"Function",type:field_types.str_num,default_val:""},
		],
	 	nested_blocks:[block_types.hmi_block,block_types.hmi_control,block_types.comment]
	},


	
	{
		title:"HMI Control", 
		type:block_types.hmi_control,
		color:"#dd99dd",//"FC0FFD",
		render_text_area:true,
		dont_render_border:true,
		refresh_on_change_prefix:true,
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
    	[
			{field_name:"Function",type:field_types.str_num,default_val:""},
		],
	},

	{
		title:"HMI Image <br> Group", 
		type:block_types.hmi_image_group,
		color:"#FF9DC",
		screens:[screens.prog_scr], 
		collapsable:true,
		default_collapse:true,
		refresh_screens:[screens.prog_scr], 
		AddButtonText:"Add Image",
	 	nested_blocks:[block_types.hmi_image,block_types.comment]
	},
	
	
	{
		title:"HMI Image", 
		type:block_types.hmi_image,
		color:"#FF9DC",
		image_handler:true,
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
	},

	
	
	{
		title:"HMI Screen", 
		type:block_types.hmi_screen,
		color:"#FF9DC",
		screens:[screens.prog_scr], 
		collapsable:true,
		default_collapse:true,
		refresh_screens:[screens.prog_scr], 
		fields:
    	[
			{field_name:"Name",type:field_types.str_num,automatic_var_replacement:false},
		],
		AddButtonText:"Add Section",
	 	nested_blocks:[block_types.hmi_section,block_types.comment,]
	},
	
	{
		title:"HMI Grid <br> Screen", 
		type:block_types.hmi_grid_screen,
		color:"e4f7e4",//"#FF8ee",
		screens:[screens.prog_scr], 
		//dont_render_border:true,
		collapsable:true,
		default_collapse:true,
		refresh_screens:[screens.prog_scr], 
		refresh_on_change_prefix:true,
		hmi_func_array:"hmi_grid_screen_funcs",
		fields:
    	[
			// such as "name,rounded edges, background color,"
			// arguments: title, width, rounded_corners,background_color
			{field_name:"Properties",type:field_types.str_num,default_val:"SCREEN_PROP(\"Screen Title\",90,false,\"transparent\")"},
		],
		AddButtonText:"Add Row",
	 	nested_blocks:[block_types.hmi_grid_row,block_types.comment,]
	},

	{
		title:"Grid Row", 
		type:block_types.hmi_grid_row,
		color:"FFDFC",
		//small_height:true,
		collapsable:true,
		hmi_func_array:"hmi_grid_row_funcs",
		fields:
    	[
			// such as "name,rounded edges, background color,"
			// arguments: title, width, rounded_corners,background_color
			{field_name:"Properties",type:field_types.str_num,default_val:"ROW_PROP(\"transparent\")"},
		],
		screens:[screens.prog_scr], 
		//dont_render_border:true,
		refresh_screens:[screens.prog_scr], 
		AddButtonText:"Add Section",
		nested_blocks:[block_types.hmi_grid_section,block_types.comment,]
	},
	
	{
		title:"Grid Cell", 
		type:block_types.hmi_grid_section,
		color:"fbf1fe",//"FCFD0F",
		screens:[screens.prog_scr], 
		refresh_on_change_prefix:true,
		collapsable:true,
		refresh_screens:[screens.prog_scr], 
		//dont_render_border:true,
		hmi_func_array:"hmi_grid_sect_funcs",
		fields:
    	[
			{field_name:"Properties",type:field_types.str_num,default_val:"CELL_PROP(1,1)"},
		],
		nested_blocks:[block_types.hmi_grid_elem,block_types.comment,],
		AddButtonText:"Add Element",
	},
	
	{
		title:"Grid Element", 
		type:block_types.hmi_grid_elem,
		color:"#dd92dd",//"FC0FFD",
		render_text_area:true,
		dont_render_border:true,
		refresh_on_change_prefix:true,
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		hmi_func_array:"hmi_grid_elem_funcs",
		fields:
    	[
			{field_name:"Properties",type:field_types.str_num,default_val:""},
		],
	},

	{
		title:"Section", 
		type:block_types.hmi_section,
		color:"FFfDC",
		screens:[screens.prog_scr], 
		collapsable:true,
		refresh_screens:[screens.prog_scr], 
		fields:
    	[
			{field_name:"Name",type:field_types.str_num,automatic_var_replacement:false},
		],
		AddButtonText:"Add Section Element",
		nested_blocks:hmi_sect_elem_blocks
	},
	{
		title:"Display Number/<br>State/String", 
		type:block_types.hmi_disp_num,
		color:"#e1a268",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		hmi_func_array:"hmi_disp_num_funcs",
		fields:
    	[
			{field_name:"Title",type:field_types.str_num,automatic_var_replacement:false},
			{field_name:"Variable",type:field_types.str_num},
			{field_name:"Units",type:field_types.str_num,automatic_var_replacement:false},
		],
	},
	{
		title:"Display Number<br> With Valid Range", 
		type:block_types.hmi_disp_range,
		color:"aFfDC",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		hmi_func_array:"hmi_finc_disp_val_range",
		fields:
    	[
			{field_name:"Title",type:field_types.str_num,automatic_var_replacement:false},
			{field_name:"Variable",type:field_types.str_num},
			{field_name:"Units",type:field_types.str_num,automatic_var_replacement:false},
			{field_name:"Min Valid Value",type:field_types.str_num},
			{field_name:"Max Valid Value",type:field_types.str_num},
/*			{field_name:"Min Value",type:field_types.str_num},
			{field_name:"Max Value",type:field_types.str_num},
			{field_name:"Min Green",type:field_types.str_num},
			{field_name:"Max Green",type:field_types.str_num},
			{field_name:"Min Yellow",type:field_types.str_num},
			{field_name:"Max Yellow",type:field_types.str_num},
			{field_name:"Min Red",type:field_types.str_num},
			{field_name:"Max Red",type:field_types.str_num},*/
		],
	},
	{
		title:"Screen List", 
		type:block_types.hmi_screen_list,
		color:"#a2e168",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		hmi_func_array:"hmi_disp_screens",
		fields:
    	[
			{field_name:"HTML Prefix",type:field_types.str_num,automatic_var_replacement:false},
			{field_name:"HTML Suffix",type:field_types.str_num,automatic_var_replacement:false},
		],
	},
	
	
	{
		title:"Enter Number/String", 
		type:block_types.hmi_enter_num,
		color:"aFaaC",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		hmi_func_array:"hmi_disp_num_funcs",
		fields:
    	[
			{field_name:"Title",type:field_types.str_num,automatic_var_replacement:false},
			{field_name:"Variable",type:field_types.str_num},
			{field_name:"Units",type:field_types.str_num,automatic_var_replacement:false},
		],
	},
	{
		title:"Enter State", 
		type:block_types.hmi_enter_state,
		color:"aFaaC",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr],
		fields:
    	[
			{field_name:"Title",type:field_types.str_num,automatic_var_replacement:false},
			{field_name:"Variable",type:field_types.str_num},
			{field_name:"Start State",type:field_types.str_num},
			{field_name:"End State",type:field_types.str_num},
		],
	},
	
	{
		title:"Submit Action", 
		type:block_types.hmi_button,
		color:"#a1a268",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
    	[
			{field_name:"Title",type:field_types.str_num,automatic_var_replacement:false},
			{field_name:"Variable",type:field_types.str_num},
		],
	},
	
	{
		title:"Function Block Elements",  
		type:block_types.funct_block_elem_var,
		color:"Tan",
		screens:[screens.var_scr], 
		refresh_screens:[screens.var_scr,screens.prog_scr], 
		fields:
		[
			{field_name:"Name",type:field_types.str_num,width:15,
  				alt_prop_if:[{parent_val_index:1,parent_val:func_block_type_num.BITFIELD,width:"25"},
				         //{parent_val_index:1,parent_val:func_block_type_num.BITFIELD_BE,width:"25"},
						],
			},
			{field_name:"Type",
			    alt_prop_if:[{parent_val_index:1,parent_val:func_block_type_num.BITFIELD,hide:true},
				         //{parent_val_index:1,parent_val:func_block_type_num.BITFIELD_BE,hide:true},
						],
				type:field_types.enumeration_special,enum_elems:prog_var_types_enum,refresh_on_change:true,mask:mask_indexes_in_func},
			{field_name:"Segment",
   				alt_prop_if:[{parent_val_index:1,parent_val:func_block_type_num.BITFIELD,width:"100%",field_name:"size",enum_list:fanc_block_var_segm_bitfield},
				         //{parent_val_index:1,parent_val:func_block_type_num.BITFIELD_BE,width:"100%",field_name:"size",enum_list:fanc_block_var_segm_bitfield},
						],

			    type:field_types.enumeration,enum_elems:func_block_var_segm,refresh_on_change:true,},
			{field_name:"# of Array Elements",
			    /*hide_if:[{parent_val_index:1,parent_val:func_block_type_num.BITFIELD_LE},
				         {parent_val_index:1,parent_val:func_block_type_num.BITFIELD_BE},
						],
			*/	width:3,type:field_types.str_num,enum_value_display:true,refresh_on_change:true,empty_on_zero:true,render_above:true,help_string:"<I>(Clear field to disable array)</i>",funct_arg_test:true},
		],
	},					 
	{
		//title:"Program Element", 
		title:"Function Block", 
		type:block_types.funct_block_var, 
		color:function_block_color,		
		collapsable:true,
		screens:[screens.var_scr], 
		refresh_screens:[screens.var_scr,screens.prog_scr], 
		extra_creation:[block_types.funct_block_def,block_types.funct_block_elem_var],
		custom_event_handle:functBlockMod,
		fields:
		[
			{field_name:"Name",type:field_types.str_num,refresh_on_change:true,default_val:"Function_Block_Name"},
			{field_name:"Type",type:field_types.enumeration,enum_elems:func_block_type,refresh_on_change:true,},
		],
		AddButtonText:"Add Element",
		// if only one is available - no need to provide a select element next to "add" button
		// this way we can unify program renderer and var renderer
		nested_blocks:[block_types.funct_block_elem_var],
		hidden_blocks:[block_types.comment_var],
	},

	{
		title:"Function Block Group", 
		type:block_types.function_block_group, 
		color:module_color,		
		collapsable:true,
		draw_plus_minus:false,
		no_add_button:true,
		screens:[screens.var_scr], 
		refresh_screens:[screens.var_scr,screens.prog_scr], 
		extra_creation:[block_types.function_block_group_def],
		fields:
		[
			{field_name:"Name",type:field_types.str_num,refresh_on_change:true,default_val:"Function Group",width:20,},
		],
		nested_blocks:[block_types.comment],// dummy element -> not really used for rendering
	},
	
	{
		title:"Function Block Def",
		type:block_types.function_block_group_def,
		color:module_color,
		collapsable:true,
		screens:[screens.prog_scr], 
		refresh_screens:[/*screens.var_scr,*/screens.prog_scr], 
		nested_blocks:[block_types.comment]
	},
	
	
	
	
	{
		title:"States", 
		type:block_types.enum_var, 
		color:"#d6d6d6",
		collapsable:true,
		//centered_title:true,
		screens:[screens.var_scr], 
		refresh_screens:[screens.var_scr], 
		extra_creation:[block_types.enum_var_elem],
		AddButtonText:"Add Element",
		nested_blocks:[block_types.enum_var_elem],
		hidden_blocks:[block_types.comment_var],
	},

	{
		title:"Elements", 
		type:block_types.enum_var_elem, 
		color:"Azure",		
		screens:[screens.var_scr], 
		refresh_screens:[screens.var_scr], 
		fields:
		[
			{field_name:"Name",type:field_types.str_num},
			{field_name:"Const",width:5,type:field_types.str_num,green_on_non_empty:true,render_above:true,help_string:"<I>(Clear field to disable a constant)</i>"},
		],
	},
	
	// Program blocks
	{
		title:"Comment",
		type:block_types.comment,
		font_color:"#F50000",
		render_text_area:true,
		//color:"Azure",
		//color:"#f9f906",
		color:"yellow",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		// for elements containing a single field - don't display "field name" in front of it 
		fields:
		[
			{type:field_types.str_num,automatic_var_replacement:false},
		],
	},
	
	{
		title:"Comment",
		type:block_types.ladder_comment,
		font_color:"#F50000",
		render_text_area:true,
		//color:"Azure",
		//color:"#f9f906",
		color:"yellow",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		// for elements containing a single field - don't display "field name" in front of it 
		fields:
		[
			{type:field_types.str_num,automatic_var_replacement:false},
		],
	},
	
	{
		title:"Assignment",
		type:block_types.assign,
		color:"Aqua",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Destination",default_val:""},
			{type:field_types.str_num,field_name:"Expression",default_val:""}
		],
	},
	
	{
		title:"Trace",
		type:block_types.trace,
		color:"#FFA07A",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Prefix String",default_val:"",automatic_var_replacement:false},
			{type:field_types.str_num,field_name:"Expression",default_val:""}
		],
	},
	{
		title:"Trace",
		type:block_types.ladder_trace,
		color:"#FFA07A",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Prefix String",default_val:"",automatic_var_replacement:false},
			{type:field_types.str_num,field_name:"Expression",default_val:""}
		],
	},

	
	{
		title:"Wait Until",
		type:block_types.wait_until,
		//color:"#FFFC28",
		color:"#ecec13",
		render_text_area:true,
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num},
		],
	},



	{
		title:"While",
		type:block_types.do_while,
		//color:"#9966FF",
		color: "#e0ccff",
		collapsable:true,
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num},
		],
		nested_blocks:reg_block_actions,
	},

	{
		title:"For",
		type:block_types.for_loop,
		//color:"#9966EE",
		color: "#e0cddd",
		collapsable:true,
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Iterator Variable"},
			{type:field_types.str_num,field_name:"Start Value",default_val:"0"},
			{type:field_types.str_num,field_name:"To Value",default_val:"0"}
		],
		nested_blocks:reg_block_actions,
	},


	{
		title:"If",
		type:block_types.if_then,
		color:"#7FFFD4",
		collapsable:true,
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num},
		],
		nested_blocks:reg_block_actions,
	},	
	{
		title:"Else If",
		type:block_types.else_if,
		color:"#bfff80",
		collapsable:true,
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num},
		],
		nested_blocks:reg_block_actions,
	},	
	
	{
		title:"Else",
		type:block_types.else_done,
		//color:"Aquamarine",
		color:"#dfff80",
		collapsable:true,
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		nested_blocks:reg_block_actions,
	},	
	
	
	{
		title:"Condition",
		type:block_types.ladder_condition,
		color:"Tan",
		collapsable:true,
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num},
		],
		nested_blocks:cond_block_actions,
	},
	{
		type:block_types.ladder_assign,
		title:"Assignment",
		color:"Aqua",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Destination",default_val:""},
			{type:field_types.str_num,field_name:"Expression",default_val:""}
		],
	},
	{
		type:block_types.ladder_coil,
		title:"Coil",
		color:"Gold",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Coil",default_val:""},
		],
	},
	{
		type:block_types.ladder_timer_on,
		title:"Timer On",
		color:"DarkTurquoise",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Timer",default_val:""},
			{type:field_types.str_num,field_name:"Expires(ms)",default_val:"1000"}
		],
	},
	{
		type:block_types.ladder_count_up,
		title:"Count Up",
		color:"LimeGreen",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Counter",default_val:""},
			{type:field_types.str_num,field_name:"Preset",default_val:"1000"}
		],
	},
	
	{
		type:block_types.ladder_count_down,
		title:"Count Down",
		color:"Lime",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Counter",default_val:""},
			{type:field_types.str_num,field_name:"Preset",default_val:"1000"}
		],
	},
	{
		type:block_types.ladder_timer_off,
		title:"Timer Off",
		color:"DarkSeaGreen",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Timer",default_val:""},
			{type:field_types.str_num,field_name:"Expires(ms)",default_val:"1000"}
		],
	},
	{
		type:block_types.ladder_timer_start,
		title:"Timer Start",
		color:"Aquamarine",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Timer",default_val:""},
			{type:field_types.str_num,field_name:"Expires(ms)",default_val:"1000"}
		],
	},
	
	{
		type:block_types.ladder_reset_counter,
		title:"Reset Counter",
		color:"LightSeaGreen",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		fields:
		[
			{type:field_types.str_num,field_name:"Counter",default_val:""},
		],
	},
	
	
	{
		title:"Call",
		type:block_types.func_block_call,
		//color:"#ffbf00",
		color:"#fff8dc",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		refresh_on_change_prefix:true,
		fields:
		[
			{type:field_types.str_num},
		],
	},

	{
		title:"Call",
		type:block_types.ladder_func_block_call,
		//color:"#ffbf00",
		color:"#fff8dc",
		screens:[screens.prog_scr], 
		refresh_screens:[screens.prog_scr], 
		refresh_on_change_prefix:true,
		fields:
		[
			{type:field_types.str_num},
		],
	},


	{
		//title:"",
		heading:"Device Variables",
		type:block_types.device,
		screens:[screens.var_scr], 
		no_add_button:true,
		refresh_screens:[screens.var_scr], 
		extra_creation:[block_types.prog_vars,block_types.alias_vars],
		nested_blocks:var_blocks,
		AddButtonText:"Add",
	},

	{
		//title:"",
		heading:"HMI Variables",
		type:block_types.hmi_special,
		screens:[], 
		no_add_button:true,
		refresh_screens:[], 
		extra_creation:[block_types.hmi],
		nested_blocks:[block_types.hmi],
		AddButtonText:"Add",
	},

	
	
	{
		//title:"",
		type:block_types.root,
		screens:[screens.var_scr], 
		extra_creation:[block_types.device,block_types.module,block_types.hmi_special],
		refresh_screens:[screens.var_scr], 
		nested_blocks:root_blocks,
		AddButtonText:"Add Library",
		AddButtonBlockType:block_types.module,
	},
	{
		//title:"",
		type:block_types.module,
		collapsable:true,
		color:"#FFBFFF",
		heading:"Program Elements",
		title:"Library",
		screens:[screens.var_scr], 
		extra_creation:[block_types.module_def],
		refresh_screens:[screens.var_scr,screens.prog_scr], 
		fields:
		[
				{field_name:"",type:field_types.str_num,width:20,refresh_on_change:true,default_val:"New_Library"},
				{field_name:"<b>Version :&nbsp&nbsp</b>",type:field_types.str_num,width:5,default_val:"1.0"},
		],
		custom_event_handle:moduleMod,
		displayFieldNames:true,
		nested_blocks:[block_types.funct_block_var,	block_types.enum_var,block_types.module_variables],
		AddButtonText:"Add",
		delete_from_clipboard_after_paste:true,
	},

	{
		title:"Module Def",
		type:block_types.module_def,
		collapsable:true,
		color:"#FFBFFF",
		extra_creation:[block_types.module_def_inner],
		screens:[screens.prog_scr], 
		refresh_screens:[/*screens.var_scr,*/screens.prog_scr], 
		//nested_blocks:[]
	},



	{
		title:"",
		screens:[screens.var_scr,screens.prog_scr], 
		refresh_screens:[screens.var_scr,screens.prog_scr], 
		type:block_types.add_block
	},
	{
		title:"Function Block",
		type:block_types.funct_block_def,
		color:"Gold",
		screens:[screens.prog_scr], 
		refresh_screens:[/*screens.var_scr,*/screens.prog_scr], 
		nested_blocks:reg_block_actions_with_cond
	},

	{
		title:"conv_func_block_var",
		type:block_types.conv_func_block_var,
		color:"",
		no_add_button:true,
		screens:[], 
		refresh_screens:[], 
		nested_blocks:[block_types.funct_block_elem_var]
	},
	
	// Local IO representation
	{
		//title:"",
		type:block_types.local_io_var,
		heading:"",
		screens:[], 
		refresh_screens:[], 
		nested_blocks:[block_types.local_io_slot],
		AddButtonText:"",
	},
	{
		//title:"",
		type:block_types.local_io_slot,
		heading:"",
		screens:[], 
		refresh_screens:[], 
		fields:
		[
			{num:field_types.str_num},
			{mod_name:field_types.str_num},
			{mod_id:field_types.str_num},
		],
		nested_blocks:[block_types.local_io_sect],
		AddButtonText:"",
	},

	{
		//title:"",
		type:block_types.local_io_sect,
		heading:"",
		screens:[], 
		refresh_screens:[], 
		fields:
		[
			{name:field_types.str_num},
		],
		nested_blocks:[block_types.local_io_elem],
		AddButtonText:"",
	},

	{
		//title:"",
		type:block_types.local_io_elem,
		heading:"",
		screens:[], 
		refresh_screens:[], 
		fields:
		[
			{name:field_types.str_num},
			{bit_offset:field_types.str_num},
			{bit_len:field_types.str_num},
		],
	},
	
	// Combined global/PLC vars
	{
		//title:"",
		type:block_types.comb_glob_vars,
		heading:"",
		screens:[], 
		refresh_screens:[], 
		nested_blocks:[block_types.reg_var,block_types.alias_var],
		AddButtonText:"",
	},
	
	// Combined enumerations
	{
		//title:"",
		type:block_types.comb_state_vars,
		heading:"",
		screens:[], 
		refresh_screens:[], 
		nested_blocks:[block_types.enum_var_elem],
		AddButtonText:"",
	},

	
];


	var proj_elems=[];

	var descr_lookup=[];
	
	function createFunctionBlockHelpString(name,ind,add_names)
	{
		var ptr=findFunctBlock(name);
		func_block_pointers[ind]=ptr;
		return createFunctionBlockHelpString_imp(ptr,add_names,-1);
	}
	
	function createFunctionBlockHelpString_imp(ptr,add_names,multi_string)
	{
		var i,j;
		var str="";
		if (add_names==true)
		{
			str+=ptr.values[0];
		}
		str+="(";
		
		for(i=0,j=0;i<ptr.sub_elems.length;i++)
		{
			if (
			     (ptr.sub_elems[i].type==block_types.funct_block_elem_var)&&
				  (parseInt(ptr.sub_elems[i].values[2])>0)
			    )
			{
				if (j>0)
				{
					str+=",";
				}
				j++;
				/*if (((j%4)|0)==0)
				{
					if (multi_string==1)
					{
						str+="<br>"
					}
					else if (multi_string==2)
					{
						str+="\r\n";
					}
				}*/
				if (add_names==true)
				{
					str+=ptr.sub_elems[i].values[0];
				}
			}
		}
		str+=")";
		return str;
		
	}
	
	var func_block_help_strings=[];
	var func_block_barebone_strings=[];
	var func_block_pointers=[];
	var glob_var_ptrs;
	var func_blocks_with_hmi_helpers=[];


	function createFuncBlockHelpStringCache()
	{
		var i;
		func_block_help_strings=[];
		func_block_barebone_strings=[];
		func_blocks_with_hmi_helpers=[];
		
		
		glob_var_ptr=getElemFromIndex(glob_var_index);
		for(i=fixed_var_types_enum;i<prog_var_types_enum.length;i++)
		{
			func_block_help_strings[i]=createFunctionBlockHelpString(prog_var_types_enum[i],i,true);
			func_block_barebone_strings[i]=createFunctionBlockHelpString(prog_var_types_enum[i],i,false);
		}
		func_blocks_with_hmi_helpers=listAllFuncBlocks();
		for(i=0;i<func_blocks_with_hmi_helpers.length;i++)
		{
			if ((func_blocks_with_hmi_helpers[i].ptr.values[1]==func_block_type_num.HMI_BLOCK)||
				(func_blocks_with_hmi_helpers[i].ptr.values[1]==func_block_type_num.HMI_CONTROL)||
				(func_blocks_with_hmi_helpers[i].ptr.values[1]==func_block_type_num.PROCEDURE)||
				(func_blocks_with_hmi_helpers[i].ptr.values[1]==func_block_type_num.FUNCTION)
				)
			{
				func_blocks_with_hmi_helpers[i].help_string=createFunctionBlockHelpString_imp(func_blocks_with_hmi_helpers[i].ptr,true,1);				
				func_blocks_with_hmi_helpers[i].barebone_string=func_blocks_with_hmi_helpers[i].ptr.values[0]+createFunctionBlockHelpString_imp(func_blocks_with_hmi_helpers[i].ptr,false,2);				
			}
		}
	}
	function find_HMI_HelpDescr(name)
	{
		var i;
		for(i=0;i<func_blocks_with_hmi_helpers.length;i++)
		{
			if (func_blocks_with_hmi_helpers[i].ptr.values[0].toUpperCase()==name.toUpperCase())
			{
				return func_blocks_with_hmi_helpers[i];
			}
		}
		return null;
	}
	
	function getFunctBlockBareboneString(ind)
	{
		return func_block_barebone_strings[ind];
	}
		
	
	// precaching uppercase of all the fields of all function blocks shoudl help
	// reduce computational streign
	function findLastType(elem_list,parent_func_blk_ptr,ind)
	{
		var i,j;
		for(i=0;i<parent_func_blk_ptr.sub_elems.length;i++)
		{
			if ((parent_func_blk_ptr.sub_elems[i].type==block_types.funct_block_elem_var)&&
			     parent_func_blk_ptr.sub_elems[i].values[0].toUpperCase()==elem_list[ind].toUpperCase())
			{
				if (elem_list.length==(ind+1))
				{
					return parent_func_blk_ptr.sub_elems[i].values[1];
				}
				else
				{
					if (prog_var_types_enum.indexOf(parent_func_blk_ptr.sub_elems[i].values[1])==-1)
					{
						return null;
					}
					return findLastType(elem_list,func_block_pointers[prog_var_types_enum.indexOf(parent_func_blk_ptr.sub_elems[i].values[1])],ind+1);
				}
			}
		}
		// not a local element.
		if (ind==0)
		{
			for(i=0;i<glob_var_ptr.sub_elems.length;i++)
			{
				if ((prog_var_types_enum.indexOf(glob_var_ptr.sub_elems[i].values[1])>=fixed_var_types_enum)&&
					 glob_var_ptr.sub_elems[i].values[0].toUpperCase()==elem_list[ind].toUpperCase())
				{
					if (elem_list.length==(ind+1))
					{
						return glob_var_ptr.sub_elems[i].values[1];
					}
					else
					{
						if (prog_var_types_enum.indexOf(prog_var_types_enum.indexOf(glob_var_ptr.sub_elems[i].values[1]))==-1)
						{
							return null;
						}
						return findLastType(elem_list,func_block_pointers[prog_var_types_enum.indexOf(glob_var_ptr.sub_elems[i].values[1])],ind+1);
					}
				}
			}		
		}
		return	null;	
	}
	
	function findFunctBlock(name)
	{
		var i;
		for(i=0;i<proj_elems.sub_elems.length;i++)
		{
			if (proj_elems.sub_elems[i].type==block_types.module)
			{
				var funct=findFunctBlockInModule(proj_elems.sub_elems[i],name);
				if (funct!=null)
				{
					return funct;
				}
			}
		}
		return null;
	}
	
	function getFunctionBlockIndex(name)
	{
		var i,j
		for(i=0;i<proj_elems.sub_elems.length;i++)
		{
			if (proj_elems.sub_elems[i].type==block_types.module)
			{
				for(j=0;j<proj_elems.sub_elems[i].sub_elems.length;j++)
				{
					if (proj_elems.sub_elems[i].sub_elems[j].values[0]==name)
					{
						return [i,j];
					}
				}
			}
		}
		return null;
	}
	
	function findFunctBlockInModule(mod,name)
	{
		var i;
		for(i=0;i<mod.sub_elems.length;i++)
		{
			if ((mod.sub_elems[i].type==block_types.funct_block_var)&&(mod.sub_elems[i].values[0].localeCompare(name)==0))
			{
				return mod.sub_elems[i];
			}
		}
	}
	
	
	function listAllFuncBlocks()
	{
		var i,j
		var list=[];
		for(i=0;i<proj_elems.sub_elems.length;i++)
		{
			if (proj_elems.sub_elems[i].type==block_types.module)
			{
				for(j=0;j<proj_elems.sub_elems[i].sub_elems.length;j++)
				{
					if (proj_elems.sub_elems[i].sub_elems[j].type==block_types.funct_block_var)
					{
						list[list.length]={ptr:proj_elems.sub_elems[i].sub_elems[j]};
					}
				}
			}
		}	
		return list;	
	}
	
	function findSubElem(elem,sub_elem_name)
	{
		var i;
		for(i=0;i<elem.sub_elems.length;i++)
		{
			if ((elem.sub_elems[i].type==block_types.reg_var)||(elem.sub_elems[i].type==block_types.funct_block_elem_var))
			{
				if (elem.sub_elems[i].values[0].localeCompare(sub_elem_name)==0)
				{
					return findFunctBlock(elem.sub_elems[i].values[1]);
				}
			}
		}
		return null;
	}
	
	var SYM_A=0x41
	var SYM_Z=0x5a
	var SYM_a=0x61
	var SYM_z=0x7a
	var SYM_UNDERSCORE=0x5f
	var SYM_0=0x30
	var SYM_9=0x39
	var SYM_DBL_QUOTE=0x22
	var SYM_DOT=0x2e
	
	
	function performReplacementsInString(str,toSearch,toReplace)
	{
		var i,pos;
		var new_str="";
		var new_str_pos;
		pos=0;
		new_str_pos=0;
		while(pos<str.length)
		{
			var ch=str.charCodeAt(pos);
			// variable always starts with alphanumeric character
			if (((ch>=SYM_A)&&(ch<=SYM_Z))||
			    ((ch>=SYM_a)&&(ch<=SYM_z))
				)
			{
				var str_start=pos;
				pos++;
				for(;pos<str.length;)
				{
					var ch=str.charCodeAt(pos);
					if (((ch>=SYM_A)&&(ch<=SYM_Z))||// capitals
						((ch>=SYM_a)&&(ch<=SYM_z))||// low case
						((ch>=SYM_0)&&(ch<=SYM_9))|| //numbers
						(ch==SYM_UNDERSCORE))// underscore
						{
							pos++;
						}
						else
						{
							break;
						}
				}
				var substr=str.slice(str_start,pos);
				if (((str_start>0)&&(str.charCodeAt(str_start-1)==SYM_DOT))||(substr!=toSearch))
				{
					// element of a structure or not a match
					new_str+=substr;
					new_str_pos+=substr.length;
				}
				else
				{
					// replace
					new_str+=toReplace;
					new_str_pos+=toReplace.length;
				}
			}
			else if (ch==SYM_DBL_QUOTE) //"
			{
				var str_start=pos;
				// skip until the next "\"" character
				pos++;
				for(;pos<str.length;pos++)
				{
					if (str.charCodeAt(pos)==SYM_DBL_QUOTE) //"
					{
						pos++;
						break;
					}
				}
				var substr=str.slice(str_start,pos);
				new_str+=substr;
				new_str_pos+=substr.length;
			}
			else
			{
				new_str+=str.charAt(pos);
				new_str_pos++;
				pos++;
			}
		}
		return new_str;
	}
	
	function replaceProgVars(elem,toSearch,toReplace)
	{
		var i,j;
		var descr=findBlockDescr(elem.type);
		for (i=0;i<elem.values.length;i++)
		{
			if ((descr.fields==undefined)||((descr.fields[i].automatic_var_replacement!=undefined)&&(descr.fields[i].automatic_var_replacement==false)))
			{
				continue;
			}
				
			if (typeof elem.values[i] === 'string')
			{
				var pos=0;
				var res=1;
				var str=elem.values[i];
				var new_str=performReplacementsInString(str,toSearch,toReplace);
				elem.values[i]=new_str;
			}
		}
		if (elem.sub_elems!=undefined)
		{
			for(i=0;i<elem.sub_elems.length;i++)
			{
				
				replaceProgVars(elem.sub_elems[i],toSearch,toReplace);
			}
		}
	}
	
	function setCommentedState_inner(elem,val)
	{
		var i;
		
		elem.commented=val;
		if (elem.sub_elems!=undefined)
		{
			for (i=0;i<elem.sub_elems.length;i++)
			{
				setCommentedState_inner(elem.sub_elems[i],val);
			}
		}
	}
	
	function eliminateDuplicateAddButtons(elem)
	{
		var i,j;
		var updated_list;
		
		if (elem.sub_elems!=undefined)
		{
			updated_list=[];
			for (i=0;i<elem.sub_elems.length;i++)
			{
				if (elem.sub_elems[i].sub_elems!=undefined)
				{
					eliminateDuplicateAddButtons(elem.sub_elems[i]);
					updated_list[updated_list.length]=elem.sub_elems[i];
				}
				
				else if (elem.sub_elems[i].type==block_types.add_block)
				{
					updated_list[updated_list.length]=elem.sub_elems[i];
					while (((i+1)<(elem.sub_elems.length))&&(elem.sub_elems[i+1].type==block_types.add_block))
					{
						i=i+1;
					}
					if (((i+1)<(elem.sub_elems.length))&&(elem.sub_elems[i+1].type==block_types.reg_var)&&(elem.sub_elems[i+1].values[0]==default_task_name))
					{
						updated_list.splice(updated_list.length-1,1);
					}
				}
				else
				{
					updated_list[updated_list.length]=elem.sub_elems[i];
				}
			}
			elem.sub_elems=updated_list;
		}
	}
	
	/*function eliminateAddButtons(elem)
	{
		var i;
		var updated_list;
		
		if (elem.sub_elems!=undefined)
		{
			updated_list=[];
			for (i=0;i<elem.sub_elems.length;i++)
			{
				if (elem.sub_elems[i].sub_elems!=undefined)
				{
					eliminateAddButtons(elem.sub_elems[i]);
					updated_list[updated_list.length]=elem.sub_elems[i];
				}
				
				else if (elem.sub_elems[i].type==block_types.add_block)
				{
					i++;
				}
				else
				{
					updated_list[updated_list.length]=elem.sub_elems[i];
				}
			}
			elem.sub_elems=updated_list;
		}
	}*/
	
	
	function setCommentedState(elem,val)
	{
		var i;
		if ((elem.type==block_types.if_then)||(elem.type==block_types.else_if)||(elem.type==block_types.else_done)||(elem.type==block_types.add_block))
		{
			elem.commented=0;
			if (elem.sub_elems!=undefined)
			{
				for (i=0;i<elem.sub_elems.length;i++)
				{
					setCommentedState(elem.sub_elems[i],val);
				}
			}
		}
		else
		{
			elem.commented=val;
			if (elem.sub_elems!=undefined)
			{
				for (i=0;i<elem.sub_elems.length;i++)
				{
					if (val==1)
					{
						setCommentedState_inner(elem.sub_elems[i],2); // all inner elements are set to "commented+1"
					}
					else
					{
						setCommentedState_inner(elem.sub_elems[i],0); 
					}
				}
			}
		}
	}


	function checkVarNameAgainstGlobals(new_val)
	{
		var i,j
		var unique_names=getEnumAndGlobals();
		if (unique_names.indexOf(new_val.toUpperCase())!=-1)
		{
			alert("Duplicate variable/enum name");
			return false;
		}
		return true;
	}
	
	function checkIfVarChangeValid(parent,act_elem,new_val)
	{
		var i,j;
		if (act_elem.values[0].toUpperCase()==new_val.toUpperCase())
		{
			return true;
		}
		if (stringCompatibleWithVariables(new_val)==false)
		{
			return -1;
		}
		// check if new_val doesn't conflict with any built-in functions
		if (PROCESS.findBuiltInFunc(new_val.toUpperCase())!=null)
		{
			alert("Conflict between a variable name and a built-in function name");			
			return false;
		}
		if (act_elem.type==block_types.funct_block_var)
		{
			for(i=0;i<prog_var_types_enum.length;i++)
			{
				if (prog_var_types_enum[i].toUpperCase()==new_val.toUpperCase())
				{
					alert("Function block with the same name already exists");
					return false;
				}
			}
		}
		else if (act_elem.type==block_types.funct_block_elem_var)
		{
			for(i=0;i<parent.sub_elems.length;i++)
			{
				if ((parent.sub_elems[i].type==block_types.funct_block_elem_var)&&
				    (parent.sub_elems[i].values[0].toUpperCase()==new_val.toUpperCase()))
					{
						alert("Duplicate variable name within the function block");
						return false;
					}
			}
			if (checkVarNameAgainstGlobals(new_val)==false)
			{
				return false;
			}
		}
		else 
		{
			if (checkVarNameAgainstGlobals(new_val)==false)
			{
				return false;
			}
			// check against all function blocks to see if no member variables 
			// have the same name
			for(i=0;i<proj_elems.sub_elems.length;i++)
			{
				if (proj_elems.sub_elems[i].type==block_types.module)
				{
					var mod=proj_elems.sub_elems[i];
					for(j=0;j<mod.sub_elems.length;j++)
					{
						if (mod.sub_elems[j].type==block_types.funct_block_var)
						{
							var k;
							var elem_list=mod.sub_elems[j].sub_elems;
							for(k=0;k<elem_list.length;k++)
							{
								if  (elem_list[k].type==block_types.funct_block_elem_var)
								{
									if (elem_list[k].values[0].toUpperCase()==new_val.toUpperCase())
									{
										alert(" Same variable name found in function block "+mod.sub_elems[j].values[0]);	
										return false;
									}
								}
							}
						}
					}
				}
			}

			
			for(i=0;i<parent.sub_elems.length;i++)
			{
				if ((parent.sub_elems[i].type==block_types.funct_block_elem_var)&&
				    (parent.sub_elems[i].values[0].toUpperCase()==new_val.toUpperCase()))
					{
						alert("Duplicate variable name within the function block");
						return false;
					}
			}
			
			if (checkVarNameAgainstGlobals(new_val)==false)
			{
				return false;
			}
		}
		return true;
	}
	
	function changeVarName(parent,act_elem,new_val)
	{
		if (act_elem.type==block_types.funct_block_elem_var)
		{
			// don't relace inner text of HMI FBs (this doesn't apply to Procedures and Functions)	
			if (
			    (parseInt(parent.values[1])==func_block_type_num.HMI_BLOCK)||
				(parseInt(parent.values[1])==func_block_type_num.HMI_CONTROL)
			   )
			{
				return;
			}
			//var func_block_name=parent.values[0];
			replaceProgVars(parent.sub_elems[0],act_elem.values[0],new_val);	
		}
		if ((act_elem.type==block_types.reg_var)||(act_elem.type==block_types.alias_var)||
		    (act_elem.type==block_types.enum_var_elem))
		{
			var i,j,k;
			// go through all function blocks. Check if a variable with the same name exists -> skip this function block, otherwise - perform replacements in that function block
			for(i=0;i<proj_elems.sub_elems.length;i++)
			{
				if (proj_elems.sub_elems[i].type==block_types.module)
				{
					for(j=0;j<proj_elems.sub_elems[i].sub_elems.length;j++)
					{
						
						if (proj_elems.sub_elems[i].sub_elems[j].type==block_types.funct_block_var)
						{
							var func=proj_elems.sub_elems[i].sub_elems[j];
							var variable_overlap=false;
							for(k=0;k<func.sub_elems.length;k++)
							{
								if ((func.sub_elems[k].type==block_types.funct_block_elem_var)&&
								    (func.sub_elems[k].values[0]==act_elem.values[0]))
								{
									variable_overlap=true;
									break;
								}
							}
							if (variable_overlap==false)
							{
								replaceProgVars(func.sub_elems[0],act_elem.values[0],new_val);	
							}
						}
					}
				}
			}
			// perform replacements in HMI screens			
         if (proj_elems.sub_elems[proj_elems.sub_elems.length-2].type==block_types.hmi_special)
         {
            replaceProgVars(proj_elems.sub_elems[proj_elems.sub_elems.length-2],act_elem.values[0],new_val);	
         }
		}
	}
	
	
	function getFuncBlockType(index,name)
	{
		var i;
		var name_arr=name.split(".");
		for(i=0;i<name_arr.length;i++)
		{
			var pos;
			if ((pos=name_arr[i].indexOf('['))>=0)
			{
				name_arr[i]=name_arr[i].substr(0,pos);
			}
		}
		var loc_block=getElemFromIndex(index);
		var curr_ind=0;
		var curr=findSubElem(loc_block,name_arr[curr_ind]);
		if (curr==null)
		{
			loc_block=getElemFromIndex([0,0]);
			curr=findSubElem(loc_block,name_arr[curr_ind]);
			if (curr==null)
			{
				return null;
			}
		}
		for(i=1;i<name_arr.length;i++)
		{
			curr=findSubElem(curr,name_arr[curr_ind]);
			if (curr==null)
			{
				return null;
			}
		}
		return curr;
	}
	
		
	
	var glob_var_index=[0,0];
	
	function indexToDotString(index)
	{
		var i;
		var str="";
		str+=index[0];
		for(i=1;i<index.length;i++)
		{
			str+="."+index[i];
		}
		return str;
	}
	
	function getVarElemAndLineFromIndex(index)
	{
		var elem_name="";
		var elem_num="";
		if (index.length<2)
		{
			return [elem_name,index[0]];
		}
		if (index[0]==0)
		{
			var elm_descr=findBlockDescr(getElemFromIndex(index.slice(0,2)).type);
			elem_name=elm_descr.title;
			if (index.length>2)
			{
				elem_num=indexToDotString(index.slice(2));
			}
			else
			{
				elem_num+=index[1];
			}
		}
		else
		{
			var real_elem=getElemFromIndex(index.slice(0,2));
			var elm_descr=findBlockDescr(real_elem.type);
			elem_num+=(index[1]);
			elem_name=elm_descr.title+" "+elem_num;
			var type=getElemFromIndex(index).type;
			if ((type==block_types.reg_var)&&(real_elem.type==block_types.module_variables))
			{
				return [elem_name,(index[2])+""];
			}
			else if (type==block_types.comment_var)
			{
				if (real_elem.type==block_types.funct_block_var)
				{
					elem_name+=" - "+real_elem.values[0]; 
					elem_num=(index[2]-1)+"";
				}
				else
				{    // enum
					elem_num=index[2]+"";
				}
			}
			else
			{
				switch(type)
				{
					case block_types.function_block_group: break;
					case block_types.funct_block_var: elem_name+=" - "+real_elem.values[0]; break;
					case block_types.funct_block_elem_var:  elem_name+=" - "+real_elem.values[0]; elem_num=(index[2]-1)+""; break;
					
					case block_types.enum_var: break;
					case block_types.enum_var_elem: elem_num=index[2]+""; break;
				}
			}
		}			 
		return [elem_name,elem_num];		
		
	}
			
	
    
	function preProcessBlockSeqDescr()
	{
		var i,j,k;
		for(i=0;i<block_descr.length;i++)
		{
			if (block_descr[i].nested_blocks!=undefined)
			{
				block_descr[i].nested_blocks_exp=[];
				for(j=0;j<block_descr[i].nested_blocks.length;j++)
				{
					block_descr[i].nested_blocks_exp[j]=findBlockDescr_slow(block_descr[i].nested_blocks[j]);
				}
			}
		}
		for(i=0;i<block_descr.length;i++)
		{
			descr_lookup[block_descr[i].type]=block_descr[i];
		}
	}

	function getParentArr(index)
	{
		var i;
		var elem=proj_elems;
		for(i=0;i<(index.length-1);i++)
		{
			elem=elem.sub_elems[index[i]];
		}
		return elem;
	}

	function getElemFromIndex(index)
	{
		var i;
		var elem=proj_elems;
		for(i=0;i<(index.length);i++)
		{
			elem=elem.sub_elems[index[i]];
		}
		return elem;
	}

	function getID_FromIndex(index)
	{
		var i;
		var id=""+(index[0]);
		for(i=1;i<index.length;i++)
		{
			id+="_"+(index[i]);
		}
		return id;
	}

	function findBlockDescr_slow(type)
	{
		var i;
		for(i=0;i<block_descr.length;i++)
		{
			if (block_descr[i].type==type)
			{
				return block_descr[i];
			}
		}
		return null;
	}

	function findBlockDescr(type)
	{
		return descr_lookup[type];
	}
	
	
	function createNewElem(descr)
	{
		var obj={};
		var i;
		obj.values=[];
		obj.type=descr.type;
		if (descr.type==block_types.root)
		{
			// any import or recreation of the object tree -> clear breakpoint list.
			if (print_mode==false)
			{
				GOM.setObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0,[]);
			}
		}
		if (descr.fields!=undefined)
		{
			for(i=0;i<descr.fields.length;i++)
			{
				if (descr.fields[i].type==field_types.str_num)
				{
					if (descr.fields[i].default_val!=undefined)
					{
						obj.values[i]=descr.fields[i].default_val;
					}
					else
					{
						obj.values[i]="";
					}
				}
				if (descr.fields[i].type==field_types.enumeration)
				{
					obj.values[i]=0;
				}
				if (descr.fields[i].type==field_types.enumeration_special)
				{
					obj.values[i]=prog_var_types_enum[0];
				}
			}
		}
		if (obj.type==block_types.init_elem_var)
		{
			obj.editable=true;
		}
		if ((descr.nested_blocks!=undefined))
		{
			obj.sub_elems=[];
			if (descr.extra_creation!=undefined)
			{
				for(i=0;i<descr.extra_creation.length;i++)
				{
					obj.sub_elems[obj.sub_elems.length]=createNewElem(findBlockDescr(descr.extra_creation[i]));
				}
			}
			if (descr.no_add_button==undefined)
			{
				obj.sub_elems[obj.sub_elems.length]=createNewElem(findBlockDescr(block_types.add_block));
			}
		}
		return obj;
	}
	
	var basic_mode=false;
	
	
	function generateAddButtonBlock(elem,index)
	{
		var str=""
		var selected="";
		var i,j;
		var parent=getParentArr(index);
		var type_in_select="0";
		var func_block_task=false;
		var is_func_block=false;
		var func_block_function=false;
		
		if ((parent.type==block_types.root)&&(index[0]==(parent.sub_elems.length-1)))
		{
			// add Last button to "add module" preceeded with  horizontal line
			str+="<hr>";
		}
		
		if (index.length>3)
		{
			var func_block_test=getParentArr(index.slice(0,3));
			if (func_block_test.type==block_types.funct_block_var)
			{
				is_func_block=true;
				if (num(func_block_test.values[1])==func_block_type_num.TASK)
				{
					func_block_task=true;
				}
				if (num(func_block_test.values[1])==func_block_type_num.FUNCTION)
				{
					func_block_function=true;
				}
				
			}
		}
		var button_text="";
		if ((descr_lookup[parent.type].nested_blocks.length>1)&&(descr_lookup[parent.type].AddButtonBlockType==undefined))
		{
			var num_elems_to_show=descr_lookup[parent.type].nested_blocks_exp.length;
			/*if ((is_func_block==true)&&(func_block_task==true)&&(basic_mode==true))
			{
				if (descr_lookup[parent.type].nested_blocks==reg_block_actions_with_cond)
				{
					num_elems_to_show=1; // only show condition element;
					button_text="Add Condition";
				}
			}
			else if ((is_func_block==true)&&(basic_mode==true))
			{
				if (descr_lookup[parent.type].nested_blocks==reg_block_actions_with_cond)
				{
					num_elems_to_show=reg_block_actions_with_cond.length-1; // exclude wait_until
				}
				else if (descr_lookup[parent.type].nested_blocks==reg_block_actions)
				{
					num_elems_to_show=reg_block_actions.length-1; // exclude wait_until
				}
			}
			else */
			/*if ((is_func_block==true)&&(func_block_function!=true))
			{
				if (descr_lookup[parent.type].nested_blocks==reg_block_actions_with_cond)
				{
					num_elems_to_show=reg_block_actions_with_cond.length-1; // exclude func_result_assign
				}
			}*/
			
			if (num_elems_to_show>1)
			{
				str+="<select id=\"add_block_select_"+getID_FromIndex(index)+"\">";
				var prev_block_type=descr_lookup[parent.type].nested_blocks[0];
				var add_btn_pos=index[index.length-1];
				if (add_btn_pos>0)
				{
					prev_block_type=parent.sub_elems[add_btn_pos-1].type;
				}
				
				
				for(i=0;i<num_elems_to_show;i++)
				{
					if (prev_block_type==descr_lookup[parent.type].nested_blocks[i])
					{
						selected="selected";
					}
					else
					{
						selected="";
					}
					str+="<option "+selected+" value=\""+descr_lookup[parent.type].nested_blocks_exp[i].type+"\">"+descr_lookup[parent.type].nested_blocks_exp[i].title+"</option>";
				}
				str+="</select>";
				type_in_select="1";
			}
		}
		if (button_text!="")
		{
			str+="<button data-type_in_select=\""+type_in_select+"\" data-elem_index=\""+JSON.stringify(index)+"\" onclick=\"ARGEE_elem_descr.handleEvent("+event.ADD_ABOVE+",this);\">"+button_text+"</Button>";			
		}
		else
		{
			if (descr_lookup[parent.type].AddButtonText!=undefined)
			{
				str+="<button data-type_in_select=\""+type_in_select+"\" data-elem_index=\""+JSON.stringify(index)+"\" onclick=\"ARGEE_elem_descr.handleEvent("+event.ADD_ABOVE+",this);\">"+descr_lookup[parent.type].AddButtonText+"</Button>";			
			}
			else
			{
				str+="<button data-type_in_select=\""+type_in_select+"\" data-elem_index=\""+JSON.stringify(index)+"\" onclick=\"ARGEE_elem_descr.handleEvent("+event.ADD_ABOVE+",this);\">Add Block</Button>";
			}
		}
		
		
		if ((parent.type==block_types.root)&&(index[0]==(parent.sub_elems.length-1)))
		{
			// add "import library" after the last "add Library" button
			str+="<br><br><h3>Import Library:</h3><input type=\"file\" accept=\".st\" id=\"files\"  onchange=\"handleFileSelect(this);return false;\" name=\"files[]\" multiple />";


			//str+="<br><br><h3>HMI Preview</h3><button id=\"argee_preview_hmi\"  onclick=\"argee_hmi_preview(this);return false;\" >HMI Preview </button><div style=\"transform:scale(0.5);width:1920px;\" id=\"HMI_Preview_div\"></div>";
			str+="<br><br><h3>HMI Preview</h3><button id=\"argee_preview_hmi\"  onclick=\"argee_hmi_preview(this);return false;\" >HMI Preview </button>&nbsp;&nbsp;&nbsp;&nbsp;"+
				 "<button  onclick=\"DESCR.VAR_FrameChangeSize(true);return false;\" ><b>+</b></button>&nbsp;"+
				 "<button  onclick=\"DESCR.VAR_FrameChangeSize(false);return false;\" ><b>-</b></button>&nbsp;"+
			     "<div id=\"HMI_Preview_div\"></div>";
		}
		return str;
	}
	
	function VAR_FrameChangeSize(increase)
	{
		if (prog_view==false)
		{
			return false;
		}
		if (increase==true)
		{
			// increase variable section
			if (left_col_width<70)
			{
				left_col_width++;
				localStorage.ARGEE3_var_width=left_col_width;
				adjustMenuScreen(1);
			}
		}
		else
		{
			// decrease variable section
			if (left_col_width>30)
			{
				left_col_width--;
				localStorage.ARGEE3_var_width=left_col_width;
				adjustMenuScreen(1);
			}
		}

	}


	function VarRenderElemField(elem,field_num,index,fixed,special_background,after_render_above,parent)
	{
		var str="";
		var i;
		var descr=descr_lookup[elem.type]
		var fields=descr.fields;
		var disabled="";
		
		if (elem.fixed_special==true)
		{
			disabled=" disabled ";
		}
		
		if 	((fields[field_num].type==field_types.enumeration)&&(fields[field_num].enum_elems==func_block_type)&&(basic_mode==true))
		{
			// in basic mode function block type is not rendered
			return str;
		}
		
		if (print_mode==true)
		{
			if (fields[field_num].type==field_types.enumeration)
			{
				str=fields[field_num].enum_elems[elem.values[field_num]];
			}
			else
			{
				if ((fields[field_num].empty_on_zero==true)&&(elem.values[field_num]==0))
				{
					str="";
				}
				if ((parent.type==block_types.funct_block_var)&&
				    (
					  (parseInt(parent.values[1])==func_block_type_num.BITFIELD)
					))
				{
					str=elem.values[field_num];
				}
				else if ((fields[field_num].render_above==true)&&(fields[field_num].funct_arg_test==true)
					&&(num(elem.values[2])==1))
				{
					str="arr_arg";	
				}
				else
				{
					str=elem.values[field_num];
				}
			}
			return str;
		}
		
		if (fields[field_num].type==field_types.str_num)
		{
			
			var color="inherit"
			var font_weight="inherit";
			if (special_background==true)
			{
				color="Blue";
				font_weight="bold";
			}

			var key_down_event="";
			if (fields[field_num].glob_and_io_point_display==true)
			{
				key_down_event="data-elem_force_glob_and_io_disp=\"true\" onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\"";
			}
			if (fields[field_num].enum_value_display==true)
			{
				key_down_event="data-elem_force_enum_value_disp=\"true\" onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\"";
			}
			if (fields[field_num].init_inject==true)
			{
				key_down_event="data-elem_init_inject=\"true\" onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\"";
			}
			
			
			if (fixed==false)
			{
				var val=elem.values[field_num];
				var bg_color=""
				if (fields[field_num].empty_on_zero==true)
				{
					if (elem.values[field_num]==0)
					{
						val=""
					}
					else
					{
						bg_color="background-color :lightgreen;"
						val=elem.values[field_num];	
					}
				}
				if (fields[field_num].green_on_non_empty==true)
				{
					var bg_color=""
					if (elem.values[field_num].length>0)
					{
						bg_color="background-color :lightgreen;"
					}
				}
				
				

				if ((fields[field_num].render_above==true)&&(fields[field_num].funct_arg_test==true)
					&&(num(elem.values[2])==1))
				{
					if ((parent.type==block_types.funct_block_var)&&
				    (
					  (parseInt(parent.values[1])==func_block_type_num.BITFIELD)
					))
					{
					}
					else
					{
						val="arr_arg";	
						disabled=" disabled ";
					}
						
				}
				


				var focus_designator="";
				
				
				if ((elem.focus==true)&&(elem.focus_field_num==undefined)&&(field_num==0))
				{
					delete elem.focus;
					focus_designator=" data-elem_focus=\"true\" ";
				}
					
				if (fields[field_num].render_textarea!=undefined)
				{
					var rows=(val.split(/\r\n|\r|\n/).length);
					color="red";
					str+="<textarea  onkeyup=\"ARGEE_elem_descr.textAreaAdjust(this)\" rows=\""+rows+"\" "+key_down_event+focus_designator+"  style=\""+bg_color+"font-weight:"+font_weight+";color:"+color+";width:"+fields[field_num].width+"%\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this)\" type=\"text\" data-elem_type=\"str\" data-elem_index=\""+JSON.stringify(index)+"\" data-elem_field=\""+field_num+"\">"+escapeHTML(val)+"</textarea>";
				}
				else
				{
					if ((after_render_above==true)&&(field_num==0))
					{
						//bg_color="background-color :chartreuse;";
						bg_color="background-color :#D8D8D8;"; 
						//font_weight="bold";
					}
					if (fields[field_num].width!=undefined)
					{
						var alt_descr=getAltDescrField(descr,field_num,parent);
						var width=fields[field_num].width;
						if ((alt_descr!=null)&&(alt_descr.width!=undefined))
						{
							width=alt_descr.width;
						}

						
						str+="<input "+disabled+key_down_event+focus_designator+"  style=\""+bg_color+"font-weight:"+font_weight+";color:"+color+";width:"+width+"em\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this)\" type=\"text\" data-elem_type=\"str\" data-elem_index=\""+JSON.stringify(index)+"\" data-elem_field=\""+field_num+"\" value=\""+escapeHTML(val)+"\">";
					}
					else
					{
						str+="<input "+disabled+key_down_event+focus_designator+" style=\""+bg_color+"font-weight:"+font_weight+";color:"+color+";\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this)\" type=\"text\" data-elem_type=\"str\" data-elem_index=\""+JSON.stringify(index)+"\" data-elem_field=\""+field_num+"\" value=\""+escapeHTML(val)+"\">";									
					}
				}
			}
			else
			{
				str+=elem.values[field_num];
			}
		}
		else if (fields[field_num].type==field_types.enumeration_special)
		{
			var color;
			var forced_redraw=false;
			disabled="";

			/*if (elem.values[0]=="connect")
			{
				var jk=1;
			}*/
			
			var focus_designator="";
			
			if ((elem.focus==true)&&(elem.focus_field_num!=undefined)&&(field_num==elem.focus_field_num))
			{
				delete elem.focus;
				delete elem.focus_field_num;
				focus_designator=" data-elem_focus=\"true\" data-elem_focus_field=\""+elem.focus_field_num+"\" ";
			}

			
			if (fixed==true)
			{
				disabled="disabled";
			}
			//style=\"background-color:red;\"
			var sel_index=fields[field_num].enum_elems.indexOf(elem.values[field_num]);
			if (sel_index==-1)
			{
				color="red";
			}
			else
			{
				if (fields[field_num].enum_elems==prog_var_types_enum)
				{
					// determine the color
					if (sel_index<fixed_var_types_enum)
					{
						color=prog_type_colors[sel_index];
					}
					else
					{
						color=prog_type_colors[fixed_var_types_enum];
					}
					forced_redraw=true;
				}
			}
			str+="<select "+disabled+" style=\"background-color:"+color+";\"   onchange=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this)\" data-enum_forced_redraw=\""+forced_redraw+"\" data-elem_type=\"enum\" data-elem_index=\""+JSON.stringify(index)+"\" data-elem_field=\""+field_num+"\""+focus_designator+">";
			for(i=0;i<fields[field_num].enum_elems.length;i++)
			{
				var selected="";
				var opt_disabled="";
				var opt_name=fields[field_num].enum_elems[i];
				
				if (((fields[field_num].type==field_types.enumeration_special)&&(opt_name.localeCompare(default_task_type)==0))
					||
				    ((fields[field_num].type==field_types.enumeration_special)&&(GEN.getARM7_Mode()==true)&&((i==1)||(i==9)))
					||
				   ((fields[field_num].mask!=undefined)&&(fields[field_num].mask.indexOf(i)!=-1)))
				{
					opt_disabled=" disabled ";
					opt_name="-----";
				}
				if (i==sel_index)
				{
					selected="selected";
				}
				str+="<option style=\"background-color:white;\"  value=\""+i+"\" "+selected+opt_disabled+" >"+opt_name+"</option>";
			}
			str+="</select>";
			
		}
		else if (fields[field_num].type==field_types.enumeration)
		{
			var color;
			var forced_redraw=false;
			disabled="";


			var enum_list=fields[field_num].enum_elems;
			
			var alt_descr=getAltDescrField(descr,field_num,parent);
			if ((alt_descr!=null)&&(alt_descr.enum_list!=undefined))
			{
				enum_list=alt_descr.enum_list;
			}

			
			if (fixed==true)
			{
				disabled="disabled";
			}
			if (enum_list==func_block_type)
			{
				// determine the color
				var sel_index=elem.values[field_num];
				color=func_block_type_colors[sel_index];
				forced_redraw=true;
			}
			else if (enum_list==arr_num_elems)
			{
				var sel_index=elem.values[field_num];
				color=arr_num_elems_colors[sel_index];
				forced_redraw=true;
			}
			else if (enum_list==func_block_var_segm)
			{
				var sel_index=elem.values[field_num];
				color=func_block_var_segm_color[sel_index];
				forced_redraw=true;
			}		
			else
			{
				color="inherit";
			}
			

			var focus_designator="";
			
			if ((elem.focus==true)&&(elem.focus_field_num!=undefined)&&(field_num==elem.focus_field_num))
			{
				delete elem.focus;
				delete elem.focus_field_num;
				focus_designator=" data-elem_focus=\"true\" data-elem_focus_field=\""+elem.focus_field_num+"\" ";
			}
			
			
			//onclick=\"ARGEE_elem_descr.exp_enum(this);\"
			str+="<select "+disabled+" style=\"background-color:"+color+";\"   onchange=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this)\" data-enum_forced_redraw=\""+forced_redraw+"\" data-elem_type=\"enum\" data-elem_index=\""+JSON.stringify(index)+"\" data-elem_field=\""+field_num+"\""+focus_designator+">";
			for(i=0;i<enum_list.length;i++)
			{
				var selected="";
				var opt_disabled="";
				var opt_name=enum_list[i];
				if (((fields[field_num].type==field_types.enumeration_special)&&(opt_name.localeCompare(default_task_type)==0))
					||
				   ((fields[field_num].mask!=undefined)&&(fields[field_num].mask.indexOf(i)!=-1)))
				{
					opt_disabled=" disabled ";
					opt_name="-----";
				}
				if (i==elem.values[field_num])
				{
					selected="selected";
				}
				str+="<option style=\"background-color:white;\"  value=\""+i+"\" "+selected+opt_disabled+" >"+opt_name+"</option>";
			}
			str+="</select>";
			
		}
		/*
		else if (fields[field_num].type==field_types.actions_add_delete)
		{
			str+="<button data-elem_index=\""+JSON.stringify(index)+"\"  onclick=\"addAboveElem(this)\">Add Above</button>"
			str+="<button data-elem_index=\""+JSON.stringify(index)+"\"  onclick=\"ARGEE_var_edit.onDeleteElem(this)\">Delete</button>"			
		}
		else if (fields[field_num].type==field_types.actions_add_delete_init)
		{
			str+="<button data-elem_index=\""+JSON.stringify(index)+"\"  onclick=\"addAboveElem(this)\">Add Above</button>"
			str+="<button data-elem_index=\""+JSON.stringify(index)+"\"  onclick=\"ARGEE_var_edit.onDeleteElem(this)\">Delete</button>";
			if (elem.values[1]>3)
			{
				str+="<button data-elem_index=\""+JSON.stringify(index)+"\"  onclick=\"InitElem(this)\">Init</button>";
			}	
		}*/
		return str;
	}

	var pre_render_buf=[];
	var first_elem_render=true;
	
	
	function getAltDescrField(descr,field,parent)
	{
		if (descr.fields[field].alt_prop_if!=undefined)
		{
			var j;
			var found=false;
			for(j=0;j<descr.fields[field].alt_prop_if.length;j++)
			{
				if (parseInt(parent.values[descr.fields[field].alt_prop_if[j].parent_val_index])==descr.fields[field].alt_prop_if[j].parent_val)
				{
					return descr.fields[field].alt_prop_if[j];
				}
			}
		}
		return null;
	}
	
	function renderEditVars_imp(elem,index,parent)
	{
		var str="";
		var i,found; 
		var first_module=false;
		var descr=descr_lookup[elem.type];
		if (elem==parent)
		{
			first_elem_render=true;
		}
		found=false;
		
		if (elem.type==block_types.module_variables)
		{
			var jk=1;
		}
		

			
		if (descr.screens.indexOf(screens.var_scr)!=-1)
		{
			if (elem.type==block_types.function_block_group)
			{
				elem.hidden_sub=false;
			}
			
			
			if ((elem.type==block_types.add_block)&&(descr_lookup[parent.type].screens.indexOf(screens.var_scr)!=-1))
			{
				if ((print_mode==false)&&(hide_add_buttons==false))
				{
					if (parent.type==block_types.module)
					{
						str+="<br>"+generateAddButtonBlock(elem,index)+"<br>";
					}
					else
					{
						str+="<tr><td colspan=\"100%\">"+generateAddButtonBlock(elem,index)+"</td></tr>";
					}
				}
			}
			else if ((elem.type==block_types.module)||((descr.render_init!=true)&&(elem.sub_elems!=undefined)&&(descr.nested_blocks.length==1)))
			{
				if ((elem.type==block_types.module)&&(index[0]==1))
				{
					str+="<br><hr align=\"left\" style=\"width:80%\"><br>";
					/*elem.fixed_special=true;
					elem.values[0]="Local Program";
					elem.values[1]="1";*/
					elem.hidden_sub=true;
					found=false;
				}
				
				else if ((elem.type==block_types.funct_block_var)&&(elem.values[0].localeCompare(default_task_type)==0))
				{
					// don't render default task function block definition
				}
				else
				{
					
					

					if (elem.type==block_types.alias_vars)
					{
						str+="<br><hr align=\"left\" style=\"width:80%\"><br>";
						// horizontal line before the alias section		
						//str+="<tr><td style=\"border-top: 1px solid transparent;border-left: 1px solid transparent;border-right: 1px solid transparent;\" colspan=\"100%\"><br><hr><br></td></tr>";
					}	
					
					// if the first visible element (1) of the module is not function block group -> draw horizontal line
					/*if ((index.length==2)&&(index[0]==1)&&(index[1]==1)&&(elem.type!=block_types.function_block_group))
					{
						str+="<br><hr align=\"left\" style=\"width:80%\"><br>";
						//str+="<tr><td style=\"border-top: 1px solid transparent;border-left: 1px solid transparent;border-right: 1px solid transparent;\" colspan=\"100%\"><br><hr><br></td></tr>";
					}*/
					if (elem.type==block_types.module)
					{
						if (index[0]==1)
						{
							// first module is handled in the following way:
							// 1) non clickable "number" element
							// 2) always expanded
							// 3) non editable fixed name and version
							elem.fixed_special=true;
							elem.values[0]="Local Program";
							elem.values[1]="1";
							elem.hidden_sub=true;
						}
						str+="<br><hr align=\"left\" style=\"width:80%\"><br>";
					}

					

					
							
					
					
				
					/*if (elem.type==block_types.function_block_group)
					{
						str+="<br><hr align=\"left\" style=\"width:80%\"><br>";
						//str+="<tr><td style=\"border-top: 1px solid transparent;border-left: 1px solid transparent;border-right: 1px solid transparent;\" colspan=\"100%\"><br><hr><br></td></tr>";
					}*/
					
					str+="<table border=\"1\" style=\"border-collapse:collapse;\">";
					
					str+="<tr>";
					
					show_hide_str="&nbsp&nbsp&nbsp&nbsp";
					if ((descr.collapsable!=undefined)&&
					   (descr.draw_plus_minus!=false)&& // undefined is OK
					   (elem.fixed_special!=true)) // undefined is OK
					{
						var ind1=index.slice(0);
						show_hide_str="&nbsp&nbsp<a href='#' data-elem_index='"+JSON.stringify(ind1)+"' onclick=\"ARGEE_elem_descr.showHideElem(this)\">+</a>";
					}
						

					var elem_var_vis_descr=getVarElemAndLineFromIndex(index);

					
					if (elem.fixed_special==true)
					{
						str+="<td style=\"white-space: nowrap;border: 1px solid black; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</td>";
					}
					else
					{
						str+="<td data-elem_index='"+JSON.stringify(index)+"' ondblclick=\"ARGEE_elem_descr.handleEvent("+event.DBL_CLICK+",this,event);\"  style=\"white-space: nowrap;border: 1px solid black; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\"><a id=\"elem_line_id_"+getID_FromIndex(index)+"\" href='#' data-elem_index='"+JSON.stringify(index)+"' onclick=\"ARGEE_elem_descr.blockMenu(this)\"><b>"+(elem_var_vis_descr[1])+"</b></a>"+show_hide_str+"</td>";
					}
					elem.vis_elem_type=0;
					elem.index=clone(index);
					elem.vis_elem_item=curr_var_elem_cnt;
					
					curr_var_elem_cnt++;
					str+="<td bgcolor=\""+descr.color+"\" colspan=\"100%\">"
					if (descr.centered_title==true)
					{
						str+="<center>";
					}
					else
					{
						str+="&nbsp";
					}						
						
					/*if ((elem.type==block_types.function_block_group)||
					    (elem.type==block_types.funct_block_var)||
						(elem.type==block_types.enum_var))
					{
						str+="&nbsp&nbsp&nbsp&nbsp";
					}
					*/

					
						
						if (descr.fields!=undefined)
						{
							if (elem.hidden_sub==false)
							{
								str+="<font size=\"2\"><a href='#' data-elem_index='"+JSON.stringify(index)+"' onclick=\"ARGEE_elem_descr.gotoFuncBlock(this)\"><b>"+descr.title+"</b></a><b>&nbsp:&nbsp&nbsp</b></font>"
							}
							else
							{
								str+="<font size=\"2\"><a href='#' data-elem_index='"+JSON.stringify(index)+"' onclick=\"ARGEE_elem_descr.gotoFuncBlock(this)\"><b>"+descr.title+"</b></a><b>&nbsp:&nbsp&nbsp</b></font>"								
								//str+="<font size=\"4\"><a href='#' data-elem_index='"+JSON.stringify(index)+"' onclick=\"ARGEE_elem_descr.gotoFuncBlock(this)\"><b>"+descr.title+"</b></a><b>&nbsp:&nbsp&nbsp</b></font>"
							}
							//str+="</tr><tr><td></td><td bgcolor=\"yellow\" colspan=\"100%\">"
							//str+="<font size=\"4\"><b> : </b></font>"
							//str+="<center>"
							for(i=0;i<descr.fields.length;i++)
							{
								if (descr.displayFieldNames==true)
								{
									str+=descr.fields[i].field_name;
								}

								str+=VarRenderElemField(elem,i,index,false,true,false,parent)+"&nbsp&nbsp&nbsp";
							}
							if ((elem.hidden_sub==false)&&(elem.type!=block_types.function_block_group))
							{
								str+=hide_str;
							}
							
							//str+="</center>"
						}
						else
						{
							if (elem.hidden_sub==false)
							{
								if (elem.type==block_types.enum_var)
								{
									// find the first enum element
									var j;
									var found=false;
									for(j=0;j<elem.sub_elems.length;j++)
									{
										if (elem.sub_elems[j].type==block_types.enum_var_elem)
										{
											found=true;
											break;
										}
									}
									if (found==true)
									{										
										str+="<font size=\"2\"><b>"+descr.title+" </b> ..."+elem.sub_elems[j].values[0]+"... "+hide_str+"</font>"
									}
									else
									{
										str+="<font size=\"2\"><b>"+descr.title+" </b> "+hide_str+"</font>";
									}
								}
								else
								{
									str+="<font size=\"2\"><b>"+descr.title+" </b> "+hide_str+"</font>"
								}
							}
							else
							{
								//str+="<font size=\"4\"><b>"+descr.title+"</b></font>"
								str+="<font size=\"2\"><b>"+descr.title+"</b></font>"
							}
						}
					if (descr.centered_title==true)
					{
						str+="</center>";
					}
					str+="</td></tr>";
					//if ((descr.fields!=undefined)&&(elem.hidden_sub==true))
					if ((elem.hidden_sub==true)&&(elem.type!=block_types.module))
					{
						str+="<tr><td colspan=\"100%\"><font size=\"1\">&nbsp</font></td></tr>";
					}
					if (elem.type!=block_types.function_block_group)
					{
						var descr_nested=descr_lookup[descr.nested_blocks[0]];
						var tmp_str="";
						if (elem.type!=block_types.module)
						{
							tmp_str+="<tr><th></th>"
							for(i=0;i<descr_nested.fields.length;i++)
							{
								var alt_descr=getAltDescrField(descr_nested,i,elem);
								if ((alt_descr!=null)&&(alt_descr.hide!=undefined)&&(alt_descr.hide==true))
								{
									continue;
								}

								if (descr_nested.fields[i].render_above!=true)
								{
									var field_title=descr_nested.fields[i].field_name;
									if ((alt_descr!=null)&&(alt_descr.field_name!=undefined))
									{
										field_title=alt_descr.field_name;
									}
									tmp_str+="<th>"+field_title+"</th>";
								}
							}
							tmp_str+="</tr>";
						}
						if (elem.type==block_types.module)
						{
							tmp_str+="<tr><td colspan=\"100%\" style=\"padding-left:10px;border-color:transparent;\">";
							tmp_str+="<hr align=\"left\" style=\"width:80%\">";

						}
						for(i=0;i<elem.sub_elems.length;i++)
						{
							var tmp=index.slice(0);
							tmp.splice(tmp.length,0,i);
							tmp_str+=renderEditVars_imp(elem.sub_elems[i],tmp,elem);
						}
						if (elem.type==block_types.module)
						{
							tmp_str+="</td></tr>";
						}

						if (elem.hidden_sub!=false)
						{
							str+=tmp_str;
						}
					}
					str+="</table>";
				}
				if (!((elem.type==block_types.module)&&(index[0]==1)))
				{
					found=true;
				}
			}
			
			else if ((elem.sub_elems==undefined)||(descr.render_init==true))
			{
				if (elem.sub_elems!=undefined)
				{
					var num_elems=1;
					var compl_data_type=false;
					
					/*if (elem.hidden_sub==true)
					{
						var tmp=index.slice(0);
						tmp.splice(tmp.length,0,0);
						str+="<tr>";
						//str+="<td style=\"font-size:95%;\" data-elem_index='"+JSON.stringify(tmp)+"' style=\"white-space: nowrap;border: 1px solid black; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\"><a id=\"elem_line_id_"+getID_FromIndex(tmp)+"\" href='#' data-elem_index='"+JSON.stringify(tmp)+"' onclick=\"ARGEE_elem_descr.showHideElem(this)\">+</a></td>"
						str+="<td colspan=\"100%\"> hidden </td>"
						//str+="<td> hidden </td>"
						str+="</tr>";
					}
					else*/
					{
						if (elem.type==block_types.reg_var)
						{
							num_elems=num(elem.values[2])+1;
							if (num(getProgTypeInd(elem.values[1]))>(fixed_var_types_enum-1))
							{
								compl_data_type=true;
							}
						}
						
						
						if ((compl_data_type==true)||((num_elems>1)&&(num(getProgTypeInd(elem.values[1]))!=getStringTypeInd())))
						{
							// render init elements
							for(i=0;i<elem.sub_elems.length;i++)
							{
								var tmp=index.slice(0);
								tmp.splice(tmp.length,0,i);
								
								var elem_var_vis_descr=getVarElemAndLineFromIndex(tmp);
								
								str+="<tr>";
								str+="<td style=\"font-size:95%;border-bottom: 1px solid transparent;\" data-elem_index='"+JSON.stringify(tmp)+"' ondblclick=\"ARGEE_elem_descr.handleEvent("+event.DBL_CLICK+",this,event);\"  style=\"white-space: nowrap;border: 1px solid black; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\">&nbsp&nbsp<a id=\"elem_line_id_"+getID_FromIndex(tmp)+"\" href='#' data-elem_index='"+JSON.stringify(tmp)+"' onclick=\"ARGEE_elem_descr.blockMenu(this)\">"+(elem_var_vis_descr[1])+"</a></td>"
								elem.sub_elems[i].vis_elem_type=0;
								elem.sub_elems[i].index=clone(tmp);
								elem.sub_elems[i].vis_elem_item=curr_var_elem_cnt;
								
								curr_var_elem_cnt++;
								field_num=0;
								var field1;

								var focus_designator="";
								if ((elem.sub_elems[i].focus==true)&&(field_num==0))
								{
									delete elem.sub_elems[i].focus;
									focus_designator=" data-elem_focus=\"true\" ";
								}
				
								if (compl_data_type==true)
								{
								   field1="<input "+focus_designator+" style=\"font-size:95%;\" onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" data-glob_index=\""+JSON.stringify(index)+"\" data-loc_index=\""+JSON.stringify(index)+"\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this)\" type=\"text\" data-elem_type=\"str\" data-elem_index=\""+JSON.stringify(tmp)+"\" data-elem_field=\""+field_num+"\" value=\""+escapeHTML(elem.sub_elems[i].values[field_num])+"\">";																
								}
								else
								{
									if (elem.sub_elems[i].values[field_num].length==0)
									{
										elem.sub_elems[i].values[field_num]="[]";
									}
									field1="<input "+focus_designator+" style=\"font-size:95%;\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this)\" type=\"text\" data-elem_type=\"str\" data-elem_index=\""+JSON.stringify(tmp)+"\" data-elem_field=\""+field_num+"\" value=\""+escapeHTML(elem.sub_elems[i].values[field_num])+"\">";																
								}
									
								field_num=1;	
								if (elem.sub_elems[i].editable==true)
								{
									if ((elem.values[1].toUpperCase()=="STRING")&&(elem.sub_elems[i].values[field_num].length==0))
									{
										elem.sub_elems[i].values[field_num]="\"\"";
									}
								}								
								var field2="<input style=\"font-size:95%;\" onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this)\" type=\"text\" data-elem_type=\"str\" data-elem_index=\""+JSON.stringify(tmp)+"\" data-elem_field=\""+field_num+"\" value=\""+escapeHTML(elem.sub_elems[i].values[field_num])+"\">";																
								
								if (elem.sub_elems[i].editable==true)
								{
									str+="<td style=\"font-size:95%;border-bottom: 1px solid transparent;\" colspan=\"100%\"><b> INIT "/*+elem.values[0]*/+" </b>:  "+field1+"="+field2+" </td>";
								}
								else
								{
									str+="<td data-elem_edit_index=\""+JSON.stringify(tmp)+"\" style=\"font-size:95%;border-bottom: 1px solid transparent;\" colspan=\"100%\"><b> INIT "/*+elem.values[0]*/+" </b>:  "+elem.sub_elems[i].values[0]+"="+elem.sub_elems[i].values[1]+" </td>";
								}
									
								str+="</tr>"
							}
						}
						else if (elem.sub_elems.length>0)
						{
							var tmp=index.slice(0);
							tmp.splice(tmp.length,0,0);
							
							var elem_var_vis_descr=getVarElemAndLineFromIndex(tmp);
							
							str+="<tr>";
							str+="<td  style=\"font-size:95%;border-bottom: 1px solid transparent;\" data-elem_init_ind='"+1+"' data-elem_index='"+JSON.stringify(tmp)+"' style=\"white-space: nowrap;border: 1px solid black; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\">&nbsp&nbsp<a id=\"elem_line_id_"+getID_FromIndex(tmp)+"\" href='#' data-elem_index='"+JSON.stringify(tmp)+"' onclick=\"ARGEE_elem_descr.blockMenu(this)\">"+(elem_var_vis_descr[1])+"</a></td>"
							elem.sub_elems[0].vis_elem_type=0;
							elem.sub_elems[0].index=clone(tmp);
							elem.sub_elems[0].vis_elem_item=curr_var_elem_cnt;
							
							curr_var_elem_cnt++;
							field_num=1;
							
							var focus_designator="";
							if ((elem.sub_elems[0].focus==true)&&(field_num==1))
							{
								delete elem.sub_elems[0].focus;
								focus_designator=" data-elem_focus=\"true\" ";
							}
							
							i=0;
							if (elem.sub_elems[0].editable==true)
							{
								if ((elem.values[1].toUpperCase()=="STRING")&&(elem.sub_elems[0].values[field_num].length==0))
								{
									elem.sub_elems[0].values[field_num]="\"\"";
								}
							}
							
							var field2="<input "+focus_designator+" style=\"font-size:95%;\" onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this)\" type=\"text\" data-elem_type=\"str\" data-elem_index=\""+JSON.stringify(tmp)+"\" data-elem_field=\""+field_num+"\" value=\""+escapeHTML(elem.sub_elems[0].values[field_num])+"\">";
							if (elem.sub_elems[0].editable==true)
							{
								
								str+="<td style=\"font-size:95%;border-bottom: 1px solid transparent;\" colspan=\"100%\"> <b>INIT  "/*+elem.values[0]*/+" </b>:  "+field2+" </td>";
							}
							else
							{
								str+="<td data-elem_edit_index=\""+JSON.stringify(tmp)+"\" style=\"font-size:95%;border-bottom: 1px solid transparent;\" colspan=\"100%\"> <b>INIT  "/*+elem.values[0]*/+" </b>:  "+elem.sub_elems[0].values[field_num]+" </td>";
							}
							str+="</tr>"
						}
					}
						
				}
				
				if (descr.fields!=undefined)
				{
					var color="white";
					if (elem.values[0].localeCompare(default_task_name)!=0)
					{
						var render_above_criteria_met=false;
						// check all fields which are rendered above
						for(i=0;i<descr.fields.length;i++)
						{
							if (descr.fields[i].render_above==true)
							{
								if (((descr.fields[i].green_on_non_empty==true)&&(elem.values[i]!=""))||
								   ((descr.fields[i].empty_on_zero==true)&&((num(elem.values[i])!=0)&&(elem.values[i]!=""))))
								   {
										str+="<tr><td style=\"border-bottom: 1px solid transparent;\" ></td><td style=\"border-bottom: 1px solid transparent;\" colspan=\"100%\">"+descr.fields[i].field_name+":&nbsp&nbsp"+VarRenderElemField(elem,i,index,false,false,false,parent)+"&nbsp&nbsp"+descr.fields[i].help_string+"</td></tr>"
										render_above_criteria_met=true;
								   }
							}
						}
						// regular field rendering
						
						
						str+="<tr>";
						if ((descr.fields.length>1)&&(descr.fields[1].type==field_types.enumeration_special)&&(descr.fields[1].enum_elems==prog_var_types_enum))
						{
							block=findFunctBlock(elem.values[1]);
							if ((block!=null)&&(num(block.values[1])==func_block_type_num.TASK))
							{
								color=task_color_in_vars;
							}
						}
						
						var show_hide_str="";
						var elem_var_vis_descr=getVarElemAndLineFromIndex(index);
						
						var type_designator="";
						if ((elem.type==block_types.reg_var)||(elem.type==block_types.alias_var)||
						    (elem.type==block_types.funct_block_elem_var)||(elem.type==block_types.enum_var_elem)
						   )
						{
							type_designator=" data-elem_type=\""+(elem.type)+"\" ";
						}
							
						
						//str+="<td style=\"background-color:"+color+";\" data-elem_index='"+JSON.stringify(index)+"' ondblclick=\"ARGEE_elem_descr.handleEvent("+event.DBL_CLICK+",this);\"  style=\"white-space: nowrap;border: 1px solid black; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\"><a id=\"elem_line_id_"+getID_FromIndex(index)+"\" href='#' data-elem_index='"+JSON.stringify(index)+"' onclick=\"ARGEE_elem_descr.blockMenu(this)\">"+(curr_var_elem_cnt)+"</a>"+show_hide_str+"</td>"
						str+="<td bgcolor=\""+color+"\" "+type_designator+" data-elem_index='"+JSON.stringify(index)+"' ondblclick=\"ARGEE_elem_descr.handleEvent("+event.DBL_CLICK+",this,event);\"  style=\"white-space: nowrap;border: 1px solid black; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\">&nbsp&nbsp<a id=\"elem_line_id_"+getID_FromIndex(index)+"\" href='#' data-elem_index='"+JSON.stringify(index)+"' onclick=\"ARGEE_elem_descr.blockMenu(this)\">"+(elem_var_vis_descr[1])+"</a>"+show_hide_str+"</td>"					
						elem.vis_elem_type=0;
						elem.index=clone(index);
						elem.vis_elem_item=curr_var_elem_cnt;
						
						curr_var_elem_cnt++;
						for(i=0;i<descr.fields.length;i++)
						{
							if (elem.type==block_types.comment_var)
							{
								str+="<td style=\"background-color:yellow;\" colspan=\"100%\"><table style=\"width:100%;\"><tr style=\"width:100%;\"><td>Comment:</td><td style=\"width:100%;\">"+VarRenderElemField(elem,i,index,false,false,false,parent)+"</td></tr></table></td>"
							}
							else
							{
								if (descr.fields[i].render_above!=true)
								{
									var alt_descr=getAltDescrField(descr,i,parent);
									if ((alt_descr!=null)&&(alt_descr.hide!=undefined)&&(alt_descr.hide==true))
									{
										continue;
									}
									str+="<td>"+VarRenderElemField(elem,i,index,false,false,render_above_criteria_met,parent)+"</td>"

								}
									
							}
						}
						str+="</tr>";
					}
				}
			}
		}
		
		if ((found==false)&&(elem.sub_elems!=undefined))
		{
			for(i=0;i<elem.sub_elems.length;i++)
			{
				var tmp=index.slice(0);
				tmp.splice(tmp.length,0,i);
				
				str+=renderEditVars_imp(elem.sub_elems[i],tmp,elem);
				/*
				// All members of the function block group are expanded/contracted together. A member is an element which appears between 2 function block groups
				if ((elem.sub_elems[i].type==block_types.function_block_group)
					&&(elem.sub_elems[i].hidden_sub==false)
					)
				{
					var jk1=1;
					i++;
					for(;i<elem.sub_elems.length;i++)	
					{
						// hide all except for function block groups
						if (elem.sub_elems[i].type==block_types.function_block_group)
						{
							str+=renderEditVars_imp(elem.sub_elems[i],tmp,elem);
							if (elem.sub_elems[i].hidden_sub!=false)
							{
								// if function block group is expanded - stop hiding
								break;
							}
						}
					}
					
				}*/

				
			}
		}
		
		return str;
	}
	
	
	var trigger_glob_refresh=false;

	function handleElemOp(parent,type,index,op,val,elem_field)
	{
		//var elem_descr=descr_lookup[type];
		var last_index_elem=index[index.length-1];
		var new_index=fastClone(index);	

		var elem;
		if (op==event.ADD_ABOVE)
		{
			if ((type==block_types.module)&&(parent.sub_elems[last_index_elem-1].type==block_types.hmi_special))
			{
				elem=createNewElem(descr_lookup[type]);
				parent.sub_elems.splice(last_index_elem-1,0,elem);
				new_index[new_index.length-1]=last_index_elem-1;
			}
			else
			{
				elem=createNewElem(descr_lookup[type]);
				parent.sub_elems.splice(last_index_elem,0,elem);
				new_index[new_index.length-1]=last_index_elem;
			}
				
			if (descr_lookup[type].custom_event_handle!=undefined){descr_lookup[type].custom_event_handle(op,null,elem,null,null);}
			elem.index=new_index;	
		}
		if (op==event.ADD_BELOW)
		{
			elem=createNewElem(descr_lookup[type]);
			parent.sub_elems.splice(last_index_elem+1,0,elem);
			new_index[new_index.length-1]=last_index_elem+1;
			if (descr_lookup[type].custom_event_handle!=undefined){descr_lookup[type].custom_event_handle(op,null,elem,null,null);}
			elem.index=new_index;			
		}
		if (op==event.ADD_INTO)
		{
			var curr_elem=parent.sub_elems[last_index_elem];
			var elem_pos_offset=0;
			if ((curr_elem.sub_elems.length>0)&&(curr_elem.sub_elems[curr_elem.sub_elems.length-1].type==block_types.add_block))
			{
				elem_pos_offset=-1;
			}
			elem=createNewElem(descr_lookup[type]);
			curr_elem.sub_elems.splice(curr_elem.sub_elems.length+elem_pos_offset,0,elem);
			new_index[new_index.length]=curr_elem.sub_elems.length-1+elem_pos_offset;
			if (descr_lookup[type].custom_event_handle!=undefined){descr_lookup[type].custom_event_handle(op,null,elem,null,null);}
			elem.index=new_index;			
		}

		if (op==event.DEL)
		{
			elem=parent.sub_elems[last_index_elem];
			parent.sub_elems.splice(last_index_elem,1);
			if (descr_lookup[elem.type].custom_event_handle!=undefined){descr_lookup[elem.type].custom_event_handle(op,null,elem,null,null);}
			
		}
		if (op==event.CHANGE)
		{
			elem=parent.sub_elems[last_index_elem];
			
         
         
			if (((elem.values[elem_field]!=val)&&(elem_field==0)&&
			    ((elem.type==block_types.funct_block_elem_var)||
				 (elem.type==block_types.funct_block_var)||
				 (elem.type==block_types.function_block_group)||
				 (elem.type==block_types.reg_var)||
				 (elem.type==block_types.alias_var)||
				 (elem.type==block_types.module)||
				 (elem.type==block_types.enum_var_elem)
				 ))||
				 ((elem.values[elem_field]!=val)&&(elem_field==1)&&(elem.type==block_types.module))
				 )
				 
			{
				trigger_glob_refresh=true;
				if (val.length==0)
				{
					alert("Empty variables are not allowed");
					return elem;
				}
				var res;
				if ((elem_field==1)&&(elem.type==block_types.module))
				{
					if (isVersionString(val)==false)
					{
						return elem;
					}
				}
				else if ((res=checkIfVarChangeValid(parent,elem,val))==-1)
				{
					if ((elem_field==1)&&(elem.type==block_types.alias_var))
					{
						/*if (stringCompatibleWithAliasVariables(val)==false)
						{
							alert("Invalid alias name");
							return elem;
						}*/
					}
					else
					{
						return elem;
					}
				}
				else if (res==false)
				{
					return elem;
				}
			}
         
         // when a new field is added and the name is recorded, the global refresh is unnessesary since there are no such variables to be renamed
         if ((elem_field==0)&&(elem.values[elem_field]!=val)&&(elem.values[elem_field].length==0)&&
		 ((elem.type==block_types.reg_var)||(elem.type==block_types.funct_block_elem_var)||
		   (elem.type==block_types.alias_var)||(elem.type==block_types.enum_var_elem)))
         {
            trigger_glob_refresh=false;
         }
		 
		 // When the change in the state constant changes and it is not completely deleted -> no need to 
		 // refresh the screen
		 if ((elem_field==1)&&(elem.values[elem_field]!=val)&&(val.length==0)&&
		 (elem.type==block_types.enum_var_elem))
         {
            trigger_glob_refresh=true;
         }
		 
		 // When the change in the array element counts changes and it is not completely deleted -> no need to 
		 // refresh the screen
		 if ((elem_field==2)&&(elem.values[elem_field]!=val)&&(val.length==0)&&
		 (elem.type==block_types.reg_var))
         {
            trigger_glob_refresh=true;
         }
		 
		 // When the change in the array element counts changes and it is not completely deleted -> no need to 
		 // refresh the screen
		 if ((elem_field==3)&&(elem.values[elem_field]!=val)&&(val.length==0)&&
		 (elem.type==block_types.funct_block_elem_var))
         {
            trigger_glob_refresh=true;
         }
			
			
			
			// XOR function - easier this way
			if (((op==event.CHANGE)&&(elem.values[elem_field]!=val))||((op!=event.CHANGE)))
			{
				
				if (descr_lookup[elem.type].custom_event_handle!=undefined){descr_lookup[elem.type].custom_event_handle(op,parseInt(elem_field),elem,val,elem.values[elem_field]);}
			}
			
			if ((elem.values[elem_field]!=val)&&(descr_lookup[elem.type].fields[elem_field].refresh_on_change==true))
			{
				forced_refresh=true;
			}
			if ((elem.values[elem_field]!=val)&&(elem_field==0)&&
			    ((elem.type==block_types.funct_block_elem_var)||
				 (elem.type==block_types.funct_block_var)||
				 (elem.type==block_types.function_block_group)||
				 (elem.type==block_types.reg_var)||
				 (elem.type==block_types.alias_var)||
				 (elem.type==block_types.enum_var_elem)
				 ))
			{
				changeVarName(parent,elem,val);
			}
			
			if ((descr_lookup[elem.type].fields[elem_field].type==field_types.enumeration)&&(forced_refresh==true))
			{
				elem.focus=true;
				elem.focus_field_num=elem_field;
			}
			
			if (descr_lookup[elem.type].fields[elem_field].type==field_types.enumeration_special)
			{
				var prev_type=elem.values[elem_field];
					elem.values[elem_field]=descr_lookup[elem.type].fields[elem_field].enum_elems[num(val)];
				
				if ((elem.values[0]==prev_type)||(elem.values[0]==(prev_type+"_global_fb")))
				{
				   elem.values[0]="";
				}
				
				if ((elem_field==1)&&(elem.values[0].length==0)&&(num(val)>=fixed_var_types_enum))
				{
				   
				   
				   var suffix="";
				   var new_var_name="";
				   
				   if (parent.type==block_types.prog_vars)
				   {
					  suffix+="_global_fb";
				   }
				   new_var_name=elem.values[1]+suffix;
				   while (findNameInParent(parent,new_var_name)==true)
				   {
					  new_var_name=new_var_name+"_1";
					  
				   }
				   elem.values[0]=new_var_name;
				   forced_refresh=true;
				   
				   
				}
				elem.focus=true;
				elem.focus_field_num=1;
            
			}
			else
			{
				elem.values[elem_field]=val;
			}
		}
		
		return elem;
	}
	

	var redraw_list=[{scr:screens.var_scr,func:renderEditVars},{scr:screens.prog_scr,func:renderProg}];
	
	var clipboard_buffer=[];	
	var last_clip_element_type=-1;
	var forced_refresh=false;
	
	
	
	function autoAdjustTypesAfterOp(elem,new_val_arr,old_val_arr,change)
	{
		var i;
		if (descr_lookup[elem.type].fields!=undefined)
		{
			for(i=0;i<descr_lookup[elem.type].fields.length;i++)
			{
				if ((descr_lookup[elem.type].fields[i].type==field_types.enumeration_special)&&
				    (descr_lookup[elem.type].fields[i].enum_elems==prog_var_types_enum))
				{
					if (change==true)
					{
						var old_ind=old_val_arr.indexOf(elem.values[i]);
						elem.values[i]=new_val_arr[old_ind];
					}
					else
					{
						// TODO
					}
				}
			}
		}
		if (elem.sub_elems!=undefined)
		{
			for(i=0;i<elem.sub_elems.length;i++)
			{
				autoAdjustTypesAfterOp(elem.sub_elems[i],new_val_arr,old_val_arr,change)
			}
		}
	}

	// when cutting/pasting modules -> we need to propagate operations to individual function blocks contained in this module
	function moduleMod(act_event,field,elem,new_val,old_value)
	{
		for(var i=0;i<elem.sub_elems.length;i++)
		{
			if (elem.sub_elems[i].type==block_types.funct_block_var)
			{
				if ((act_event==event.PASTE_ABOVE)||
				    (act_event==event.PASTE_BELOW)||
					(act_event==event.DEL)||
					(act_event==event.CUT)
				   )
				{
					functBlockMod(act_event,0,elem.sub_elems[i],0,0);
				}
			}
		}
	}	
	
	var fb_types_that_are_NOT_in_types_enum=
	[
		func_block_type_num.HMI_BLOCK,
		func_block_type_num.HMI_CONTROL,
		func_block_type_num.PROCEDURE,
		func_block_type_num.FUNCTION,
	];
	
	function isPartOfRegularFB_List(fb_type)
	{
		if (fb_types_that_are_NOT_in_types_enum.indexOf(fb_type)==-1)
		{
			return true;
		}
		return false;
	}
	
	function functBlockMod(act_event,field,elem,new_val,old_value)
	{
		
		var new_prog_type_enums=clone(prog_var_types_enum);
		
		if ((field==1)&&(isPartOfRegularFB_List(parseInt(new_val))==false)&&(isPartOfRegularFB_List(parseInt(old_value))==true))
		{
			// modify from new value doesn't appear in  TYPE dropdown
			//same as cut
			var ind=new_prog_type_enums.indexOf(elem.values[0]);
			// move the last one into the place of the current element and delete the last element
			if (ind!=(new_prog_type_enums.length-1))
			{
				new_prog_type_enums[ind]=new_prog_type_enums[new_prog_type_enums.length-1]
			}
			new_prog_type_enums.splice(new_prog_type_enums.length-1,1);
			forced_refresh=true;
			setNewTypeEnum(new_prog_type_enums,true);
			proj_elems.prog_var_types_enum=prog_var_types_enum;
		}
		// modify from FB_List to non-FB_List
		else if ((field==1)&&(isPartOfRegularFB_List(parseInt(old_value))==false)&&(isPartOfRegularFB_List(parseInt(new_val))==true))
		{
			// same as add at the end
			new_prog_type_enums[new_prog_type_enums.length]=elem.values[0];
			forced_refresh=true;
			setNewTypeEnum(new_prog_type_enums,true);
			proj_elems.prog_var_types_enum=prog_var_types_enum;
		}
		else if (isPartOfRegularFB_List(parseInt(elem.values[1]))==true) // not HMI
		{
			
			if ((act_event==event.ADD_ABOVE)||(act_event==event.ADD_ABOVE)||
				(act_event==event.PASTE_ABOVE)||(act_event==event.PASTE_BELOW))
			{
				new_prog_type_enums[new_prog_type_enums.length]=elem.values[0];
			}
			if ((act_event==event.DEL)||(act_event==event.CUT))
			{
				// find element with this name
				var ind=new_prog_type_enums.indexOf(elem.values[0]);
				if (ind!=(new_prog_type_enums.length-1))
				{
					new_prog_type_enums[ind]=new_prog_type_enums[new_prog_type_enums.length-1]
				}
				new_prog_type_enums.splice(new_prog_type_enums.length-1,1);
			}
			if (act_event==event.CHANGE)
			{
				var ind=new_prog_type_enums.indexOf(old_value);
				new_prog_type_enums[ind]=new_val;
			}
			if (act_event!=event.CHANGE)
			{
				autoAdjustTypesAfterOp(proj_elems,new_prog_type_enums,prog_var_types_enum,false);
			}
			else
			{
				autoAdjustTypesAfterOp(proj_elems,new_prog_type_enums,prog_var_types_enum,true);
			}
			forced_refresh=true;
			setNewTypeEnum(new_prog_type_enums,true);
			proj_elems.prog_var_types_enum=prog_var_types_enum;
		}
	}
	
	var undo_restore_point=null;
	var MAX_UNDO_POINTS=32;
	
	function refillArray(arr_old,arr_new)
	{
		var i;
		arr_old.length=0;
		for(i in arr_new)
		{
			arr_old[i]=arr_new[i];
		}
		
	}
	
	function performUndo()
	{
		if ((curr_undo_pos>0)&&(undo_points[curr_undo_pos-1]!=undefined))
		{
			curr_undo_pos--;
			var elem=undo_points[curr_undo_pos];
			proj_elems.sub_elems=fastClone(elem[0]);
			refillArray(func_block_help_strings,fastClone(elem[1]));
			refillArray(func_block_barebone_strings,fastClone(elem[2]));
			refillArray(func_block_pointers,fastClone(elem[3]));
			refillArray(prog_var_types_enum,fastClone(elem[4]));
			refillArray(hmi_image_variables,fastClone(elem[5]));
			refillArray(proj_elems.prog_var_types_enum,fastClone(elem[6]));
			setLocalStorage("prog_code",JSON.stringify(proj_elems));
			renderCombined(true);
		}
	}
	
	var undo_points=[];
	var curr_undo_pos;
	var last_active_undo;


	function getUndoPoints()
	{
		return [undo_points,curr_undo_pos,last_active_undo]
	}
	
	function addUndo()
	{
		/*if (curr_undo_pos<30)
		{
			curr_undo_pos++;
		}*/
		curr_undo_pos++;
		undo_points[curr_undo_pos]=[fastClone(proj_elems.sub_elems),
		                            fastClone(func_block_help_strings),
									fastClone(func_block_barebone_strings),
									fastClone(func_block_pointers),
									fastClone(prog_var_types_enum),
									fastClone(hmi_image_variables),
									fastClone(prog_var_types_enum),
									];
									
		last_active_undo=curr_undo_pos;
		var i,num_undo,earliest_undo;
		
		earliest_undo=0;
		for(i=curr_undo_pos,num_undo=0;i>=0;i--,num_undo++)
		{
			if (undo_points[i]==undefined)
			{
				break;
			}
			earliest_undo=i;
		}
		if (num_undo>MAX_UNDO_POINTS)
		{
			delete undo_points[earliest_undo];
		}
			
		
	}
	function performRedo()
	{
		if (curr_undo_pos<last_active_undo)
		{
			curr_undo_pos++;
			var elem=undo_points[curr_undo_pos];
			proj_elems.sub_elems=fastClone(elem[0]);
			refillArray(func_block_help_strings,fastClone(elem[1]));
			refillArray(func_block_barebone_strings,fastClone(elem[2]));
			refillArray(func_block_pointers,fastClone(elem[3]));
			refillArray(prog_var_types_enum,fastClone(elem[4]));
			refillArray(hmi_image_variables,fastClone(elem[5]));
			refillArray(proj_elems.prog_var_types_enum,fastClone(elem[6]));
			setLocalStorage("prog_code",JSON.stringify(proj_elems));
			renderCombined(true);
		}
	}
	
	
	function addToCllipboard(act_elem)
	{
		clipboard_buffer[act_elem.type]=clone(act_elem);
		last_clip_element_type=act_elem.type;	
	}
	
	
	function findNameInParent(parent,search_str)
	{
		var i;
		for(i=0;i<parent.sub_elems.length;i++)
		{
			if (parent.sub_elems[i].values[0]==search_str)
			{
				return true;
			}
		}
		return false;
	}
	
	var adaptable_elements=
	[
		block_types.ladder_assign,block_types.assign,
		block_types.ladder_trace,block_types.trace,
		block_types.ladder_func_block_call,block_types.func_block_call,
	];
	
	// tries to allow copying elements from conditions to ifs and the other way around
	function adaptElementsBeforePaste(parent_to_type, list)
	{
		var i,j;
		var cmp_offset;
		var repl_offset;
		var parent_from_type=-1;
		
		// check if the parent element is in program segment or variable segment
		var parent_descr=findBlockDescr(parent_to_type);
		if (parent_to_type==block_types.prog_vars)
		{
			// check if the variables are coming from funct_block_elem_var
			for(i=0;i<list.length;i++)
			{
				if (list[i].type==block_types.funct_block_elem_var)
				{
					list[i].type=block_types.reg_var;
					list[i].values[2]=list[i].values[3]; // array elements
					list[i].values[3]=0; // segment
				}
			}
			return;
		}
		else if (parent_to_type==block_types.funct_block_var)
		{
			// check if the variables are coming from global vars
			for(i=0;i<list.length;i++)
			{
				if (list[i].type==block_types.reg_var)
				{
					delete list[i].sub_elems;
					list[i].type=block_types.funct_block_elem_var;
					list[i].values[3]=list[i].values[2]; // array elements
					list[i].values[2]=0; // segment
				}
			}
			return;
		}
		var jk1=1;
		
		for(i=0;i<list.length;i++)
		{
			if (cond_block_actions.indexOf(list[i].type)!=-1)
			{
				parent_from_type=block_types.ladder_condition;
				break;
			}
		}
		
		if ((parent_from_type==block_types.ladder_condition)&&(parent_to_type!=block_types.ladder_condition))
		{
			cmp_offset=0;
			repl_offset=1;
		}
		else if ((parent_from_type!=block_types.ladder_condition)&&(parent_to_type==block_types.ladder_condition))
		{
			cmp_offset=1;
			repl_offset=0;
		}
		else
		{
			// no adaptation nessesary
			return;
		}
			
		// check if adaptation is possible	
		for(i=0;i<list.length;i++)
		{
			var found=false;
			for(j=0;j<(adaptable_elements.length)/2;j++)
			{
				if (adaptable_elements[2*j+cmp_offset]==list[i].type)
				{
					found=true;
					break;
				}
			}
			if (found==false)
			{
				return; // no adaptation is possible
			}
		}
		// perform adaptation
		for(i=0;i<list.length;i++)
		{
			var found=false;
			for(j=0;j<(adaptable_elements.length)/2;j++)
			{
				if (adaptable_elements[2*j+cmp_offset]==list[i].type)
				{
					list[i].type=adaptable_elements[2*j+repl_offset];
					break;
				}
			}
		}
	}
	
	var sub_types_for_button_elimination=
	[
		block_types.do_while,block_types.if_then,block_types.else_if,
		block_types.else_done,block_types.ladder_condition,
		block_types.for_loop,block_types.hmi_grid_row,
		block_types.hmi_grid_section,block_types.hmi_block
	];
	
	
	var sub_types_for_conditional_button_elimination=
	[
		block_types.funct_block_def,block_types.hmi_grid_screen,block_types.hmi_block_screen,
	];
	
	function eleminateAddButtonsInProgPanel(elem)
	{
		var i;
		if (elem.sub_elems!=undefined)
		{
			if (sub_types_for_conditional_button_elimination.indexOf(elem.type)!=-1)
			{
				// delete last add block if the upper element has some other blocks
				if ((elem.sub_elems.length>1)&&(elem.sub_elems[elem.sub_elems.length-1].type==block_types.add_block))
				{
					elem.sub_elems.splice(elem.sub_elems.length-1,1);
				}
			}
			if (sub_types_for_button_elimination.indexOf(elem.type)!=-1)
			{
				var found=true;
				while(found==true)
				{
					found=false
					for(i=0;i<elem.sub_elems.length;i++)
					{
						var sub_elem=elem.sub_elems[i];
						if (sub_elem.type==block_types.add_block)
						{
							elem.sub_elems.splice(i,1);
							found=true;
						}
					}
				}
			}
			for(i=0;i<elem.sub_elems.length;i++)
			{
				eleminateAddButtonsInProgPanel(elem.sub_elems[i])
			}
		}
	}
	
	function restoreEndOfBlockAddButtons(elem)
	{
		var i;
		if (elem.sub_elems!=undefined)
		{
			if ((sub_types_for_button_elimination.indexOf(elem.type)!=-1)||
			(sub_types_for_conditional_button_elimination.indexOf(elem.type)!=-1))
			{
				if ((elem.sub_elems.length==0)||((elem.sub_elems[elem.sub_elems.length-1].type!=block_types.add_block)))
				{
					var new_elem=createNewElem(descr_lookup[block_types.add_block]);
					elem.sub_elems.splice(elem.sub_elems.length,0,new_elem);
				}
			}
			for(i=0;i<elem.sub_elems.length;i++)
			{
				restoreEndOfBlockAddButtons(elem.sub_elems[i])
			}
		}
	}
	
	
	function handleEvent(act_event,elem,optional_event_data_for_double_click)
	{
		var i,j;
		var index=JSON.parse(elem.dataset.elem_index);
		var elem_field=elem.dataset.elem_field;
		var val=parseInt(elem.value);
		var type=val;
		var parent=getParentArr(index);
		var last_index_elem=index[index.length-1];
		var act_elem=parent.sub_elems[last_index_elem];
		forced_refresh=false;

		var elem_with_focus=document.activeElement
		if (((elem_with_focus.tagName.toUpperCase()=="INPUT")||(elem_with_focus.tagName.toUpperCase()=="TEXTAREA"))&&(act_event!=event.CHANGE))
		{
			// onblur delayed -> force onblur
			handleEvent(event.CHANGE,elem_with_focus);
		}
			

		
		
		trigger_glob_refresh=false;
		clearErrorLine(); // clear Error line
		
		
		if (ARGEE_elem_dlg.getContextMenuDisplayed()==true)
		{
			clearBlockSelection();
			return;
		}
		
		if (elem.dataset.type_in_select=="1")
		{
			var id_str="add_block_select_"+getID_FromIndex(index);
			var sel=document.getElementById(id_str);
			type=parseInt(sel.value);
		}
		else if (elem.dataset.type_in_select=="0")
		{
			if (descr_lookup[parent.type].AddButtonBlockType!=undefined)
			{
				type=descr_lookup[parent.type].AddButtonBlockType;
			}
			else
			{
				type=descr_lookup[parent.type].nested_blocks[0];
			}
			
		}

		
		switch(act_event)
		{
			case event.FORCE_NON_ZERO_RENDER_ABOVE:
				var act_elem_descr=descr_lookup[act_elem.type];
				for(i=0;i<act_elem_descr.fields.length;i++)
				{
					if (act_elem_descr.fields[i].render_above==true)
					{
						if ((act_elem_descr.fields[i].empty_on_zero==true)&&((act_elem.values[i]=="")||(num(act_elem.values[i])==0)))
						{
							act_elem.values[i]=2;
						}
						else
						{
							act_elem.values[i]="0";
						}
					}
				}
			
				forced_refresh=true;
				break;
			case event.REMOVE_MODULE:
				var conf=confirm("Pressing \"OK\" will remove the function blocks and enums that are part of the function block group");
				if (conf==true)
				{
					handleElemOp(parent,0,index,event.DEL,0,0);
					for(i=last_index_elem;i<parent.sub_elems.length;)
					{
						if (parent.sub_elems[i].type==block_types.function_block_group)
						{
							break;
						}
						var ind1=fastClone(index);
						ind1[ind1.length-1]=i;
						// type,val,elem_field doesn't matter
						handleElemOp(parent,0,ind1,event.DEL,0,0);
					}
				}
				break;
			case event.EDIT_INIT:
				if (act_elem.editable==false)
				{
					act_elem.editable=true;
					act_elem.focus=true;
				}
				else
				{
					act_elem.editable=false;
				}
				
				break;
				
			case event.ADD_INIT:
				if (act_elem.sub_elems==undefined)
				{
					act_elem.sub_elems=[];
				}
				if ((prog_var_types_enum.indexOf(act_elem.values[1])<fixed_var_types_enum)&&(act_elem.values[2]==0)&&(act_elem.sub_elems.length==1))
				{
					act_elem.sub_elems[0].editable=true;
				}
				else
				{
					act_elem.sub_elems.splice(0,0,createNewElem(findBlockDescr(block_types.init_elem_var)));
				}
				act_elem.sub_elems[0].focus=true;
				forced_refresh=true;
			
			    break;
			case event.COMMENT_VAR:				
				parent.sub_elems.splice(last_index_elem,0,createNewElem(findBlockDescr(block_types.comment_var))); 
				forced_refresh=true;
				break;
			case event.CHANGE:
				val=elem.value;
				restorePrevCompilerMessage();
				if ((act_elem.editable!=undefined)&&(elem_field==1))
				{
					act_elem.editable=false;
					forced_refresh=true;
				}
				/*if (descr_lookup[act_elem.type].refresh_on_change==true)
				{
					forced_refresh=true;
				}*/
				if (descr_lookup[act_elem.type].refresh_on_change_prefix==true)
				{
					// find the first "(" symbol
					var act_str_pos=act_elem.values[0].indexOf("(");
					if (act_str_pos==-1)
					{
						act_str_pos=act_elem.values[0].length;
					}
					var new_str_pos=val.indexOf("(");
					if (new_str_pos==-1)
					{
						new_str_pos=val.length;
					}
					if ((act_str_pos!=new_str_pos)||
					   (act_elem.values[0].substr(0,act_str_pos)!=val.substr(0,new_str_pos)))
					{
						forced_refresh=true;
					}
				}
				
				if ((descr_lookup[act_elem.type].render_init==true)&&(elem_field==1))
				{
					delete act_elem.sub_elems;
					forced_refresh=true;
				}
				if ((act_elem.type==block_types.reg_var)&&
				    (elem_field==1)&&(act_elem.values[1]!="String")&&
					(prog_var_types_enum[num(val)]=="String")&&(act_elem.values[2]==0))
				{
					act_elem.values[2]=32;
					forced_refresh=true;
				}
				if ((act_elem.type==block_types.funct_block_elem_var)&&
				    (elem_field==1)&&(act_elem.values[1]!="String")&&
					(prog_var_types_enum[num(val)]=="String")&&(act_elem.values[3]==0))
				{
					act_elem.values[3]=32;
					forced_refresh=true;
				}
				
				
			case event.DEL:
			case event.ADD_ABOVE:
			case event.ADD_BELOW:
				 var add_another_button=false;
				 var another_button_type=0;
			     if (act_elem.type==block_types.add_block)
				 {
					 
					 /*if ((act_elem.selected!=undefined)&&(type!=act_elem.selected)&&(descr_lookup[type].screens.indexOf(screens.var_scr)!=-1))
					 {
						 add_another_button=true;
						 another_button_type=act_elem.selected;
					 }*/
					 act_elem.selected=type;
				 }
				 handleElemOp(parent,type,index,act_event,val,elem_field);
				 /*if (add_another_button==true)
				 {
					 var el=handleElemOp(parent,block_types.add_block,index,event.ADD_ABOVE,val,elem_field);
					 el.selected=another_button_type;
				 }*/
					 
				 break;
			case event.TOGGLE_BUTTON_BELOW:
			{
				if ((act_elem.type==block_types.prog_vars)||(act_elem.type==block_types.alias_vars))
				 {
					 clearBlockSelection();
					 return;
				 }
				 var new_index=fastClone(index);
				 new_index[new_index.length-1]=new_index[new_index.length-1]+1;
				 last_index_elem=new_index[new_index.length-1];
				 if ((parent.sub_elems.length>last_index_elem)&&(parent.sub_elems[last_index_elem].type==block_types.add_block))
				 {
					 handleElemOp(parent,type,new_index,event.DEL,val,elem_field);
				 }
				 else
				 {
					 handleElemOp(parent,block_types.add_block,index,event.ADD_BELOW,val,elem_field);
				 }
				 break;
			}
			
			case event.DBL_CLICK:
			{
				 if ((act_elem.type==block_types.prog_vars)||(act_elem.type==block_types.alias_vars))
				 {
					 clearBlockSelection();
					 return;
				 }
				 if (experimental_toggle_add_button_below==true)
				 {
					 if (optional_event_data_for_double_click!=null)
					 {
						var ctrl_key=optional_event_data_for_double_click.ctrlKey;
						var jk=1;
						if (ctrl_key==true)
						{
							return handleEvent(event.TOGGLE_BUTTON_BELOW,elem,null);
						}
					 }
				 }
					 
				 // add remove add_block
				 if (act_elem.type==block_types.init_elem_var)
				 {
					 handleElemOp(parent,act_elem.type,index,event.ADD_ABOVE,val,elem_field);
					 //forced_refresh=true;
					 //redraw_list[screens.var_scr].func();
				 }
				 /*else  if (index[index.length-1]==0)
				 {
					 break;
				 }*/
				 else
				 {
					 if (index[index.length-1]==0)
					 {
						handleElemOp(parent,block_types.add_block,index,event.ADD_ABOVE,val,elem_field);  
					 }
					 else
					 {
						 index[index.length-1]=index[index.length-1]-1;
						 last_index_elem=index[index.length-1];
						 if (parent.sub_elems[last_index_elem].type==block_types.add_block)
						 {
							 handleElemOp(parent,type,index,event.DEL,val,elem_field);
						 }
						 else
						 {
							 handleElemOp(parent,block_types.add_block,index,event.ADD_BELOW,val,elem_field);
						 }
					 }
				 }
				 break;
			}
			case event.COMMENT_OUT:
				 setCommentedState(act_elem,1);
				 break;
			case event.UNCOMMENT:
				 setCommentedState(act_elem,0);
				 break;				 
			case event.CUT:
			     handleElemOp(parent,type,index,event.DEL,val,elem_field);
				 clearBlockSelectedElements();
			case event.COPY:
				 clipboard_buffer[act_elem.type]=clone(act_elem);
				 last_clip_element_type=act_elem.type;
				 clearBlockSelectedElements();
				 break;
         case event.PASTE_INTO:
				 
				 if (block_selected_elements.length>1)
				 {
					var cloned_elements=fastClone(block_selected_elements); 
					adaptElementsBeforePaste(act_elem.type,cloned_elements);
					var first_elem=cloned_elements[0]; 
					if ((descr_lookup[act_elem.type].nested_blocks.indexOf(first_elem.type)!=-1)||
				     ((descr_lookup[act_elem.type].hidden_blocks!=undefined)&&(descr_lookup[act_elem.type].hidden_blocks.indexOf(first_elem.type)!=-1)))
					 {
						for(i=0;i<cloned_elements.length;i++)
						{
							act_elem.sub_elems.splice(0+i,0,cloned_elements[i]); 
						} 
					 }
				 }
				 else
				 {
                var elem_to_paste;
					 elem_to_paste=fastClone(clipboard_buffer[last_clip_element_type]);
					 if (elem_to_paste==undefined)
					 {
						 return false;
					 }
					 adaptElementsBeforePaste(act_elem.type,[elem_to_paste]);
					 if (descr_lookup[elem_to_paste.type].delete_from_clipboard_after_paste==true)
					 {
						 clipboard_buffer.splice(last_clip_element_type,1);
					 }
					 last_clip_element_type=elem_to_paste.type; // after adaptaion
					 
					 if ((descr_lookup[act_elem.type].nested_blocks.indexOf(last_clip_element_type)!=-1)||
						 ((descr_lookup[act_elem.type].hidden_blocks!=undefined)&&(descr_lookup[act_elem.type].hidden_blocks.indexOf(last_clip_element_type)!=-1)))
					 
					 {
						act_elem.sub_elems.splice(0,0,elem_to_paste);
						if (descr_lookup[elem_to_paste.type].custom_event_handle!=undefined){descr_lookup[elem_to_paste.type].custom_event_handle(act_event,null,elem_to_paste,null,null);}
					 }
				 }
				 break;
			case event.PASTE_ABOVE:
				 
				 if (block_selected_elements.length>1)
				 {
					var cloned_elements=fastClone(block_selected_elements); 
					adaptElementsBeforePaste(parent.type,cloned_elements);
					var first_elem=cloned_elements[0]; 
					if ((descr_lookup[parent.type].nested_blocks.indexOf(first_elem.type)!=-1)||
				     ((descr_lookup[parent.type].hidden_blocks!=undefined)&&(descr_lookup[parent.type].hidden_blocks.indexOf(first_elem.type)!=-1)))
					 {
						for(i=0;i<cloned_elements.length;i++)
						{
							parent.sub_elems.splice(last_index_elem+i,0,cloned_elements[i]); 
						} 
					 }
				 }
				 else
				 {
					 act_elem=fastClone(clipboard_buffer[last_clip_element_type]);
					 if (act_elem==undefined)
					 {
						 return false;
					 }
					 adaptElementsBeforePaste(parent.type,[act_elem]);
					 if (descr_lookup[act_elem.type].delete_from_clipboard_after_paste==true)
					 {
						 clipboard_buffer.splice(last_clip_element_type,1);
					 }
					 last_clip_element_type=act_elem.type; // after adaptaion
					 
					 if ((descr_lookup[parent.type].nested_blocks.indexOf(last_clip_element_type)!=-1)||
						 ((descr_lookup[parent.type].hidden_blocks!=undefined)&&(descr_lookup[parent.type].hidden_blocks.indexOf(last_clip_element_type)!=-1)))
					 
					 {
						 if (act_elem.type==block_types.funct_block_var)
						 {
							 while (DESCR.findFunctBlock(act_elem.values[0])!=null)
							 {
								act_elem.values[0]=act_elem.values[0]+"_1";
							 }
						 }
						 if ((act_elem.type==block_types.enum_var_elem)||(act_elem.type==block_types.funct_block_elem_var)||
							(act_elem.type==block_types.reg_var)||
							(act_elem.type==block_types.alias_var))
							{
								while (findNameInParent(parent,act_elem.values[0])==true)
								{
									act_elem.values[0]=act_elem.values[0]+"_1";
								}
							}
						parent.sub_elems.splice(last_index_elem,0,act_elem);
						if (descr_lookup[act_elem.type].custom_event_handle!=undefined){descr_lookup[act_elem.type].custom_event_handle(act_event,null,act_elem,null,null);}
					 }
				 }
				 break;
			case event.PASTE_BELOW:
			     
				 if (block_selected_elements.length>1)
				 {
					var cloned_elements=fastClone(block_selected_elements); 
					adaptElementsBeforePaste(parent.type,cloned_elements);
					var first_elem=cloned_elements[0]; 
					if ((descr_lookup[parent.type].nested_blocks.indexOf(first_elem.type)!=-1)||
				     ((descr_lookup[parent.type].hidden_blocks!=undefined)&&(descr_lookup[parent.type].hidden_blocks.indexOf(first_elem.type)!=-1)))
					 {
						for(i=0;i<cloned_elements.length;i++)
						{
							parent.sub_elems.splice(last_index_elem+1,0,cloned_elements[cloned_elements.length-1-i]);
						}
					 }
				 }
				 else
				 {
					 act_elem=fastClone(clipboard_buffer[last_clip_element_type]);
					 if (act_elem==undefined)
					 {
						 return false;
					 }
					 if (descr_lookup[act_elem.type].delete_from_clipboard_after_paste==true)
					 {
						 clipboard_buffer.splice(last_clip_element_type,1);
					 }
					 adaptElementsBeforePaste(parent.type,[act_elem]);
					 last_clip_element_type=act_elem.type;
					 if (descr_lookup[parent.type].nested_blocks.indexOf(last_clip_element_type)!=-1)
					 {
						 if (act_elem.type==block_types.funct_block_var)
						 {
							 while (DESCR.findFunctBlock(act_elem.values[0])!=null)
							 {
								act_elem.values[0]=act_elem.values[0]+"_1";
							 }
						 }
						 if ((act_elem.type==block_types.enum_var_elem)||(act_elem.type==block_types.funct_block_elem_var)||
							(act_elem.type==block_types.reg_var))
							{
								while (findNameInParent(parent,act_elem.values[0])==true)
								{
									act_elem.values[0]=act_elem.values[0]+"_1";
								}
							}
	 
						parent.sub_elems.splice(last_index_elem+1,0,act_elem);
						if (descr_lookup[act_elem.type].custom_event_handle!=undefined){descr_lookup[act_elem.type].custom_event_handle(act_event,null,act_elem,null,null);}
					 }
				 }
				 break;
			case event.TOGGLE_BREAKPOINT:
				/*if (act_elem.breakpoint_state==true)
				{
					act_elem.breakpoint_state=false;
				}
				else
				{
					act_elem.breakpoint_state=true;
				}*/
				var arr=GOM.getObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0);
				if (arr==undefined)
				{
					arr=[];
				}
				if (arr[act_elem.vis_elem_item]==true)
				{
					arr[act_elem.vis_elem_item]=false;
				}
				else
				{
					arr[act_elem.vis_elem_item]=true;
				}
				GOM.setObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0,arr);
				updateBreakPointList();
				if (debug_mode==true)
				{
					DEB.DEB_ConvertToNST_Breakpoints();
					DEB.BREAK_setClear();
				}
				break;
			case event.EXPORT_MODULE:
				var st_code=PRECOMP.preCompileElem(act_elem,0);
				var imgDLHelper = document.getElementById('imgdlhelper_1');
				var blob = new Blob([st_code], { type: 'text/plain;charset=utf-8' }); //new way
				var blobUrl = URL.createObjectURL(blob);
				imgDLHelper.download=convertString(act_elem.values[0])+"_V"+convertString(act_elem.values[1])+".st";

				imgDLHelper.href=blobUrl;
				imgDLHelper.click();
				break;
		}
		if (act_event!=event.TOGGLE_BREAKPOINT)
		{
			// any change in the code -> breakpoint list is invalidated
			GOM.setObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0,[]);
		}
		var descr=descr_lookup[act_elem.type];
		if (((act_event!=event.COPY)&&(act_event!=event.CHANGE))||(forced_refresh==true)||(trigger_glob_refresh==true))
		{
			eliminateDuplicateAddButtons(proj_elems);
			if (trigger_glob_refresh==true)
			{
				redraw_list[screens.prog_scr].func();
				redraw_list[screens.var_scr].func();
			}
			else if (
			    (act_elem.type==block_types.add_block)&&
			    (descr_lookup[parent.type].refresh_screens!=undefined)&&
				(descr_lookup[parent.type].refresh_screens.length==1)&&
				(descr_lookup[parent.type].refresh_screens[0]==screens.prog_scr)
			   )
			{
				redraw_list[screens.prog_scr].func();
			}
			else
			{
				if (descr.refresh_screens!=undefined)
				{
					for(i=0;i<descr.refresh_screens.length;i++)
					{
						redraw_list[descr.refresh_screens[i]].func();
					}
				}
			}
			var force_focus=document.querySelectorAll('[data-elem_focus=\"true\"]');
			if ((force_focus!=null)&&(force_focus.length==1))
			{
				/*if (force_focus[0].dataset.elem_focus_field!=undefined)
				{
					var jk1=1;
				}
				else*/
				{
					force_focus[0].focus();
				}
			}
		}
		proj_elems.editor=ENV.ARGEE;
		if (debug_mode==false)
		{
			//console.log("saving project ");
			proj_elems.prog_var_types_enum=fastClone(prog_var_types_enum);
			setLocalStorage("prog_code",JSON.stringify(proj_elems));
		}
		clearBlockSelection();
		
		/*if (descr_lookup[parent.type].screens.indexOf(screens.var_scr)==-1)*/
		{
			addUndo();
		}

	}
	
	var curr_img_sel_element;
	
	function onImportImg(e)
	{
		var hj=curr_img_sel_element;
		
		var index=JSON.parse(curr_img_sel_element.dataset.elem_index);
		var parent=getParentArr(index);
		var last_index_elem=index[index.length-1];
		var act_elem=parent.sub_elems[last_index_elem];

		var name=curr_img_sel_element.files[0].name.split(".");
		act_elem.values[0]=name[0];
		act_elem.values[1]=e.target.result;
		setLocalStorage("prog_code",JSON.stringify(proj_elems));
		renderProg();
	}

	
	function handleImageFileSelect(evt)
	{
		var files = evt.files; // FileList object
		curr_img_sel_element=evt;
		for (var i = 0, f; f = files[i]; i++) {

		  var reader = new FileReader();

		  // Closure to capture the file information.
		  reader.onload = (function(theFile) {
			return onImportImg;
		  })(f);

		  // Read in the image file as a data URL.
		  reader.readAsDataURL(f);
		}
		
		
	}
	
	var keyMenuTargElement;
	
	function actOnKeyDown(event_curr,elem)
	{
		var n = (window.Event) ? event_curr.which : event_curr.keyCode;
		keyMenuTargElement=elem;
		if (event_curr.ctrlKey==true)
		{
			var actElem=window.document.activeElement;
			var actElemBlock=DESCR.getElemFromIndex(JSON.parse(actElem.dataset.elem_index))
			var descr=descr_lookup[actElemBlock.type];

			switch(n)
			{
				// I
				case 73: ARGEE_elem_dlg.showContextMenu(event_type.LIO); return false;
				case 76:
				{
					if (
					     (actElemBlock.type==block_types.hmi_grid_screen)||
						 (actElemBlock.type==block_types.hmi_grid_row)||
						 (actElemBlock.type==block_types.hmi_grid_section)||
						 (actElemBlock.type==block_types.hmi_grid_elem)||
						 (actElemBlock.type==block_types.hmi_block)||
						 (actElemBlock.type==block_types.hmi_control)||
						 (actElemBlock.type==block_types.hmi_block_screen)
					   )
					{
						return;
					}
					 // L
					ARGEE_elem_dlg.showContextMenu(event_type.LOC); return false;
				}
				case 81: 
				{
					
					if (actElem.dataset.elem_init_inject=="true")
					{
						handleEvent(event.ADD_INIT,actElem);
						var jk=1;
						return false;
					}
					else
					{
						ARGEE_elem_dlg.showContextMenu(event_type.GLOB); return false; // Q
					}
				}
				case 83: ARGEE_elem_dlg.showContextMenu(event_type.ENUM); return false; // S
				case 70: ARGEE_elem_dlg.showContextMenu(event_type.FUNC); return false; // F
				//case 69: ARGEE_elem_dlg.showContextMenu(event_type.EDITOR); return false; // E
			}
			
		}

		
		return true;
	}

	var curr_prog_line=0;
	var curr_func_block_ptr;
	var comment_mode=false;
	var curr_block_line=0;

	var hmi_image_variables=[];
	
	function createHelpStringHTML(str)
	{
		var func_name=str.split("(");
		var args=func_name[1].split(")");
		func_name=func_name[0];
		args=args[0].split(",");
		var jk=1;
		var out="";
		out+="<table>"
		out+="<tr><td><b>"+func_name+"</b>(</td>";
		var i;
		for(i=0;i<args.length;i++)
		{
			var sep_char="<b>,</b>";
			if (i==(args.length-1))
			{
				sep_char=")";
			}
			if ((i>0)&&(((i%4)|0)==0))
			{
				out+="</tr><tr><td></td>"
			}

			
			out+="<td>"+args[i]+"</td><td>"+sep_char+"</td>";
		}
		out+="</tr></table>";
		return out;
	}
	
	
	
	function preRenderProg(elem,index,parent,funct_block_index)
	{
		var i,j;
		var str="";
		var curr_funct_block_index=funct_block_index;
		var rw=true;
		

		if ((elem.type==block_types.funct_block_def)||(elem.type==block_types.hmi))
		{
			curr_block_line=0;	
		}
		
		if ((debug_mode==true)||(print_mode==true))
		{
			rw=false;
		}
		
		if ((debug_mode==true)&&(elem.type==block_types.hmi)&&(comment_mode==false))
		{
			return;
		}
		
		var descr=descr_lookup[elem.type];
		if (descr.type==block_types.funct_block_var)
		{
			curr_funct_block_index=clone(index);
		}
		
		if (descr.screens.indexOf(screens.prog_scr)!=-1)
		{
			if (((descr.type==block_types.add_block)&&(descr_lookup[parent.type].screens.indexOf(screens.prog_scr)==-1))||
			    ((descr.type==block_types.add_block)&&(hide_add_buttons==true)))
			{
				
			}
			else
			{
				
				if (descr.type==block_types.funct_block_def)
				{
					curr_func_block_ptr=parent;
					//if (parseInt(parent.values[1])!=0)
					{
						str=parent.values[0];
					}
					/*else
					{
						var str_ind=prog_var_types_enum.indexOf(parent.values[0]);
						str=func_block_help_strings[str_ind];
					}*/
				}
				else if ((descr.type==block_types.function_block_group_def)||(descr.type==block_types.module_def))
				{
					if (parseInt(parent.values[1])!=0)
					{
						str=parent.values[0];
					}
					else
					{
						str="";
					}
				}
				else if (elem.sub_elems!=undefined)
				{
					if (descr.fields!=undefined)
					{
						if ((descr.fields.length==1)&&(descr.fields[0].render_name==undefined))
						{
							if ((rw==true)&&(elem.expanded!=false))
							{
								var vals=escapeHTML(elem.values[0])
								var rows=(elem.values[0].split(/\r\n|\r|\n/).length);
								var tmp_str1;
								tmp_str1="<textarea onkeyup=\"ARGEE_elem_descr.textAreaAdjust(this)\" rows=\""+rows+"\"  onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" style=\"width:100%\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this);\" data-elem_field=\"0\" data-elem_index=\""+JSON.stringify(index)+"\" data-glob_index=\""+JSON.stringify(glob_var_index)+"\" data-loc_index=\""+JSON.stringify(curr_funct_block_index)+"\" >"+vals+"</textarea>";
								
								if ((elem.values[0].length!=0)&&((elem.type==block_types.hmi_grid_screen)||
								                                 (elem.type==block_types.hmi_grid_section)||
																 (elem.type==block_types.hmi_grid_row)||
																 (elem.type==block_types.hmi_grid_elem)))
								{
									var tmp_str=elem.values[0].split("(");
									var func_descr;
									var str_help="";
									var hmi_functions_group_list=DESCR[descr.hmi_func_array];
									var help_str=findHmiFuncDescr(hmi_functions_group_list,tmp_str[0])
									if (help_str!=null)
									{
										
										str="<table style=\"width:100%\">";
										str+="<tr>";
										str+="<td>"+createHelpStringHTML(help_str)+"</td>";
										str+="</tr>"
										str+="<tr>";
										str+="<td>"+tmp_str1;
										str+="</td></tr></table>";
									}
									else
									{
										str=tmp_str1;
									}
								}
								else if ((elem.values[0].length!=0)&&((elem.type==block_types.hmi_block_screen)||
								                                 (elem.type==block_types.hmi_block)||
																 (elem.type==block_types.hmi_control)))
								{
									var tmp_str=elem.values[0].split("(");
									var help_descr=find_HMI_HelpDescr(tmp_str[0]);
									if ((help_descr!=null)&&(help_descr.help_string!=null))
									{
										str="<table style=\"width:100%\">";
										str+="<tr>";
										str+="<td>"+createHelpStringHTML(help_descr.help_string)+"</td>";
										str+="</tr>"
										str+="<tr>";
										str+="<td>"+tmp_str1;
										str+="</td></tr></table>";
									}
									else
									{
										str=tmp_str1;
									}
								}
								else
								{
									str=tmp_str1;
								}
								
								
							}
							else
							{
								str=escapeHTML(elem.values[0]);
							}
						}
						else
						{
							str="<table style=\"width:100%\">";
							for(j=0;j<descr.fields.length;j++)
							{
								str+="<tr>";
								str+="<td style=\"white-space: nowrap;width:1px\"><b>"+descr.fields[j].field_name+":</b></td>";
								
								if ((rw==true)&&(elem.expanded!=false))
								{
									str+="<td><input onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" type=\"text\" style=\"width:100%\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this);\" data-elem_field=\""+j+"\" data-elem_index=\""+JSON.stringify(index)+"\" data-glob_index=\""+JSON.stringify(glob_var_index)+"\" data-loc_index=\""+JSON.stringify(curr_funct_block_index)+"\" value=\""+escapeHTML(elem.values[j])+"\"></td>";
								}
								else
								{
									str+="<td>"+escapeHTML(elem.values[j])+"</td>";
								}
								str+="</tr>";
							}
							str+="</table>"
						}
					}
					else
					{
						str="";
					}
				}
				else
				{
					if (descr.fields==undefined)
					{
						if (descr.image_handler==true)
						{
							if (elem.values[0]==undefined)
							{
								str="<input type=\"file\" data-elem_index=\""+JSON.stringify(index)+"\"  onchange=\"DESCR.handleImageFileSelect(this);return false;\" name=\"files[]\" multiple />" 
							}
							else
							{
								// hmi_image_variables are repopulated on every refresh cycle -> to be used in Ctrl-I dialog on HMI
								hmi_image_variables[hmi_image_variables.length]=elem.values[0]
								
								str="<table>"
								str+="<tr><td><b>VarName:</b>"+elem.values[0]+"</tr></tr>";
								str+="<tr><td><img height=\"100px\" src=\""+elem.values[1]+"\"></td></tr>";
								str+="</table>";
							}
							
						}
						
					}
					else if ((descr.fields.length==1)&&(descr.fields[0].render_name==undefined))
					{
						str="";
						var color="inherit";
						if (descr.font_color!=undefined)
						{
							color=descr.font_color;
						}
						if (descr.render_text_area==true)
						{
							if ((rw==true)&&(elem.expanded!=false))
							{
								var vals=escapeHTML(elem.values[0])
								var rows=(elem.values[0].split(/\r\n|\r|\n/).length);
								if (vals=="")
								{
									var jk=1;
								}
								
								var tmp_str1;
								tmp_str1="<textarea onkeyup=\"ARGEE_elem_descr.textAreaAdjust(this)\" rows=\""+rows+"\"   onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" style=\"width:100%;color:"+color+";\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this);\" data-elem_field=\"0\" data-elem_index=\""+JSON.stringify(index)+"\" data-glob_index=\""+JSON.stringify(glob_var_index)+"\" data-loc_index=\""+JSON.stringify(curr_funct_block_index)+"\" >"+escapeHTML(elem.values[0])+"</textarea>";
								if ((elem.values[0].length!=0)&&((elem.type==block_types.hmi_grid_screen)||
								                                 (elem.type==block_types.hmi_grid_section)||
																 (elem.type==block_types.hmi_grid_row)||
																 (elem.type==block_types.hmi_grid_elem)))
								{
									var tmp_str=elem.values[0].split("(");
									var func_descr;
									var str_help="";
									var hmi_functions_group_list=DESCR[descr.hmi_func_array];
									var help_str=findHmiFuncDescr(hmi_functions_group_list,tmp_str[0])
									if (help_str!=null)
									{
										str="<table style=\"width:100%\">";
										str+="<tr>";
										str+="<td>"+createHelpStringHTML(help_str)+"</td>";
										str+="</tr>"
										str+="<tr>";
										str+="<td>"+tmp_str1;
										str+="</td></tr></table>";

									}
									else
									{
										str+=tmp_str1;
									}
										
								}
								else if ((elem.values[0].length!=0)&&((elem.type==block_types.hmi_block_screen)||
								                                 (elem.type==block_types.hmi_block)||
																 (elem.type==block_types.hmi_control)))
								{
									var tmp_str=elem.values[0].split("(");
									var help_descr=find_HMI_HelpDescr(tmp_str[0]);
									if ((help_descr!=null)&&(help_descr.help_string!=null))
									{
										str="<table style=\"width:100%\">";
										str+="<tr>";
										str+="<td>"+createHelpStringHTML(help_descr.help_string)+"</td>";
										str+="</tr>"
										str+="<tr>";
										str+="<td>"+tmp_str1;
										str+="</td></tr></table>";

									}
									else
									{
										str=tmp_str1;
									}
								}
								else
								{
									str+=tmp_str1;
								}
								
									
							}
							else
							{
								str+=escapeHTML(elem.values[0]);
							}
						}
						else
						{
							if ((rw==true)&&(elem.expanded!=false))
							{
								if ((elem.values[0].length!=0)&&((elem.type==block_types.func_block_call)||((elem.type==block_types.ladder_func_block_call))))
								{
									var tmp_str=elem.values[0].split("(");
									var func_descr;
									var str_help="";
									if ((tmp_str.length>0)&&((func_descr=findFunctionDescription(tmp_str[0]))!=null))
									{
										str_help=escapeHTML(func_descr);
									}
									if ((str_help=="")&&((func_descr=findUserFunctionOrProcedureDescription(tmp_str[0]))!=null))
									{
										// try to find the description based off FB name
										str_help=escapeHTML(func_descr);
									}
									if (str_help=="")
									{
										tmp_str=tmp_str[0].split(" ");
										tmp_str=tmp_str[0].split(".");
										var type=findLastType(tmp_str,curr_func_block_ptr,0);
										
										if (type!=null)
										{
											var str_ind=prog_var_types_enum.indexOf(type);
											if (str_ind!=-1)
											{
												str_help=func_block_help_strings[str_ind];
											}
										}
									}
									
									if (str_help!="")
									{
										  var vals=escapeHTML(elem.values[0])
										  var rows=(elem.values[0].split(/\r\n|\r|\n/).length);
										  
													str="<table style=\"width:100%\">";
													str+="<tr>";
													str+="<td>"+createHelpStringHTML(str_help)+"</td>";
													str+="</tr>"
													str+="<tr>";
													
										  str+="<td>"
													//str+="<td><input onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" type=\"text\" style=\"width:100%\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this);\" data-elem_field=\"0\" data-elem_index=\""+JSON.stringify(index)+"\" data-glob_index=\""+JSON.stringify(glob_var_index)+"\" data-loc_index=\""+JSON.stringify(curr_funct_block_index)+"\" value=\""+escapeHTML(elem.values[0])+"\">";
										  str+="<textarea onkeyup=\"ARGEE_elem_descr.textAreaAdjust(this)\" rows=\""+rows+"\"   onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" style=\"width:100%;color:"+color+";\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this);\" data-elem_field=\"0\" data-elem_index=\""+JSON.stringify(index)+"\" data-glob_index=\""+JSON.stringify(glob_var_index)+"\" data-loc_index=\""+JSON.stringify(curr_funct_block_index)+"\" >"+escapeHTML(elem.values[0])+"</textarea>";                              
													str+="</td></tr></table>";
									}
									else
									{
										  var vals=escapeHTML(elem.values[0])
										  var rows=(elem.values[0].split(/\r\n|\r|\n/).length);

													//str+="<input onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" type=\"text\" style=\"width:100%\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this);\" data-elem_field=\"0\" data-elem_index=\""+JSON.stringify(index)+"\" data-glob_index=\""+JSON.stringify(glob_var_index)+"\" data-loc_index=\""+JSON.stringify(curr_funct_block_index)+"\" value=\""+escapeHTML(elem.values[0])+"\">";
										  str+="<textarea onkeyup=\"ARGEE_elem_descr.textAreaAdjust(this)\" rows=\""+rows+"\"   onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" style=\"width:100%;color:"+color+";\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this);\" data-elem_field=\"0\" data-elem_index=\""+JSON.stringify(index)+"\" data-glob_index=\""+JSON.stringify(glob_var_index)+"\" data-loc_index=\""+JSON.stringify(curr_funct_block_index)+"\" >"+escapeHTML(elem.values[0])+"</textarea>";                              
									}
									
								}
								
								else
								{
								   var vals=escapeHTML(elem.values[0])
								   var rows=(elem.values[0].split(/\r\n|\r|\n/).length);
										 
											//str+="<input onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" type=\"text\" style=\"width:100%\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this);\" data-elem_field=\"0\" data-elem_index=\""+JSON.stringify(index)+"\" data-glob_index=\""+JSON.stringify(glob_var_index)+"\" data-loc_index=\""+JSON.stringify(curr_funct_block_index)+"\" value=\""+escapeHTML(elem.values[0])+"\">";
								   str+="<textarea onkeyup=\"ARGEE_elem_descr.textAreaAdjust(this)\" rows=\""+rows+"\"   onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" style=\"width:100%;color:"+color+";\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this);\" data-elem_field=\"0\" data-elem_index=\""+JSON.stringify(index)+"\" data-glob_index=\""+JSON.stringify(glob_var_index)+"\" data-loc_index=\""+JSON.stringify(curr_funct_block_index)+"\" >"+escapeHTML(elem.values[0])+"</textarea>";                              
								}
							}
							else
							{
								str+=escapeHTML(elem.values[0]);
							}
						}
					}
					else
					{
						str="<table style=\"width:100%\">";
						for(j=0;j<descr.fields.length;j++)
						{
							str+="<tr>";
							str+="<td style=\"white-space: nowrap;width:1px\"><b>"+descr.fields[j].field_name+":</b></td>";
							
							if (descr.fields[j].loc_index_parent==true)
							{
								// find the type of the function block
								var func_block_type_elem=getFuncBlockType(curr_funct_block_index,parent.values[0]);
								var loc_index=[];
								if (func_block_type_elem!=null)
								{
									loc_index=getFunctionBlockIndex(func_block_type_elem.values[0]);
								}
								if ((rw==true)&&(elem.expanded!=false))
								{
									str+="<td><input onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" type=\"text\" style=\"width:100%\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this);\" data-elem_field=\""+j+"\" data-elem_index=\""+JSON.stringify(index)+"\" data-glob_index=\""+JSON.stringify(loc_index)+"\" data-loc_index=\""+JSON.stringify(loc_index)+"\" value=\""+escapeHTML(elem.values[j])+"\"></td>";
								}
								else
								{
									str+="<td>"+escapeHTML(elem.values[j])+"</td>";
								}
									
							}
							else
							{
								if ((rw==true)&&(elem.expanded!=false))
								{
									str+="<td><input onkeydown=\"return ARGEE_elem_descr.actOnKeyDown(event,this);\" type=\"text\" style=\"width:100%\" onblur=\"ARGEE_elem_descr.handleEvent("+event.CHANGE+",this);\" data-elem_field=\""+j+"\" data-elem_index=\""+JSON.stringify(index)+"\" data-glob_index=\""+JSON.stringify(glob_var_index)+"\" data-loc_index=\""+JSON.stringify(curr_funct_block_index)+"\" value=\""+escapeHTML(elem.values[j])+"\"></td>";
								}
								else
								{
									str+="<td>"+escapeHTML(elem.values[j])+"</td>";
								}
							}
							str+="</tr>";
						}
						str+="</table>"
					}
				}
				if (descr.type==block_types.add_block)
				{
					if (rw==true)
					{
						pre_render_buf[pre_render_buf.length]={elem:elem,descr:descr,index:index,str:str,render_border:false};
					}
				}
				else
				{
					var render_border;
					if (
					     (((elem.sub_elems!=undefined)||(descr.render_text_area==true))&&(descr.dont_render_border!=true))||
						 (descr.type==block_types.module_def)
					   )
					{
						render_border=true;
					}
					else
					{
						render_border=false;
					}
					if ((descr.type==block_types.module_def)&&(index[0]==1))
					{
						var jk=1;
					}
					else if ((descr.type==block_types.funct_block_def)||(descr.type==block_types.funct_def)||(descr.type==block_types.hmi_screens)||(descr.type==block_types.function_block_group_def)||(descr.type==block_types.module_def))
					{

						pre_render_buf[pre_render_buf.length]={elem:elem,descr:descr,index:index,str:str,render_border:render_border};
					}
					else
					{

						pre_render_buf[pre_render_buf.length]={elem:elem,descr:descr,index:index,str:str,render_border:render_border,line:curr_prog_line,block_line:curr_block_line};
						pre_render_buf[pre_render_buf.length-1].elem.vis_elem_type=1;
						pre_render_buf[pre_render_buf.length-1].elem.index=clone(index);
						pre_render_buf[pre_render_buf.length-1].elem.vis_elem_item=pre_render_buf[pre_render_buf.length-1].line;
						curr_prog_line++;
						curr_block_line++;
					}
				}
				// check the last element and update prev_next relationships
				if (pre_render_buf.length>1)
				{
					var curr_prog_elem=pre_render_buf[pre_render_buf.length-1];
					var	prev_prog_elem=pre_render_buf[pre_render_buf.length-2];
					if ((curr_prog_elem.elem!=undefined)&&(prev_prog_elem.elem!=undefined))
					{
						curr_prog_elem.elem.prev_index=clone(prev_prog_elem.index);
						prev_prog_elem.elem.next_index=clone(curr_prog_elem.index);
					}
	
				}


			}
		}
		

			var act_pre_rend_elem;
			if ((elem.sub_elems!=undefined))
			{
				
				
				if ((debug_mode==true)&&(elem.type==block_types.funct_block_def))
				{
					var funct_block_name=parent.values[0];
					var ast=GEN.getFinalAST();
					var found=false;
					for(i=0;i<ast.list[1].list.length;i++)
					{
						if (ast.list[1].list[i].name.toUpperCase()==funct_block_name.toUpperCase())
						{
							found=true;
							break;
						}
					}
					if (found==false)
					{
						elem.expanded=false;
						act_pre_rend_elem=pre_render_buf[pre_render_buf.length-1];
						act_pre_rend_elem.dont_display=true;
					}
					var jk=1;
				}
				var mod_version=[];
				var mod_def_block=null;
				var hide_curr_mode_source=false;
				if (descr.type==block_types.module)
				{
					mod_version=elem.values[1].split(".");
				}
				
				if ((elem.type==block_types.funct_block_def)&&
				    ((parent.values[1]==func_block_type_num.STRUCT)||
					 (parent.values[1]==func_block_type_num.BITFIELD)
				   ))
				{
					elem.expanded=false;
					act_pre_rend_elem=pre_render_buf[pre_render_buf.length-1];
					act_pre_rend_elem.dont_display=true;
				}

				
				if ((descr.type==block_types.module)&&(mod_version.length==5)&&(mod_version[0]=="1"))
				{
					hide_curr_mode_source=true;
					//act_pre_rend_elem.start_hiding_at=pre_render_buf.length-1;
				}
				else if (elem.expanded==false)
				{
					act_pre_rend_elem=pre_render_buf[pre_render_buf.length-1];
					act_pre_rend_elem.start_hiding_at=pre_render_buf.length-1;
				}
				for(i=0;i<elem.sub_elems.length;i++)
				{
					var tmp=index.slice(0);
					tmp.splice(tmp.length,0,i);
					if ((elem.sub_elems[i].commented==1)&&(debug_mode==false))
					{
						debug_mode=true;
						comment_mode=true;
						preRenderProg(elem.sub_elems[i],tmp,elem,curr_funct_block_index,rw);
						debug_mode=false;
						comment_mode=false;
					}
					else
					{
						preRenderProg(elem.sub_elems[i],tmp,elem,curr_funct_block_index,rw);
					}
					
					if ((elem.sub_elems[i].type==block_types.module_def)&&
						(hide_curr_mode_source==true))
					{
						mod_def_block=pre_render_buf[pre_render_buf.length-1];
						mod_def_block.dont_display=true;
					}
				}

				
				if (hide_curr_mode_source==true)
				{
					mod_def_block.end_hiding_at=pre_render_buf.length-1;
				}
				else if (elem.expanded==false)
				{
					act_pre_rend_elem.end_hiding_at=pre_render_buf.length-1;
				}

			}
		
	}
	
	function saveElemContents(elem)
	{
		var index=JSON.parse(elem.dataset.elem_index);
		var sub_elem=parseInt(elem.dataset.elem_field);
		var elem_datastruct=getElemFromIndex(index);
		var val=elem.value;
		elem_datastruct.values[sub_elem]=val;
		return elem_datastruct;
	}

	var num_code_lines;
	
	function postRenderProg()
	{
		var str="";
		var i,j;
		var fixed_offset=-3;
		var prev_block_i=-1;
		var act_funct_block_var_index=[];
		str+="<table style=\"border-collapse:collapse;width:96%\" border=\"1\">"
		str+="<tr><td style=\"width:10px;border-left: 1px solid transparent;border-top: 1px solid transparent;border-right: 0px solid transparent;\"></td><td style=\"width:10px;border-left: 1px solid transparent;border-top: 1px solid transparent;border-right: 0px solid transparent;\"></td><td colspan=\"100%\" style=\"border-left: 1px solid transparent;border-top: 1px solid transparent;border-right: 0px solid transparent;\"></td></tr>";
		for(i=0;i<pre_render_buf.length;i++)
		{
			
			if (pre_render_buf[i].dont_display==true)
			{
				i=pre_render_buf[i].end_hiding_at;
				continue;
			}

			str+="<tr>"
			if (((pre_render_buf[i].descr.type==block_types.funct_block_def)||(pre_render_buf[i].descr.type==block_types.hmi_screens)||(pre_render_buf[i].descr.type==block_types.function_block_group_def)||(pre_render_buf[i].descr.type==block_types.module_def)))
			{
				if (i>0)
				{
					if ((prev_block_i!=-1)&&
					    (
					     (pre_render_buf[prev_block_i].elem.expanded==false)||
					     (pre_render_buf[prev_block_i].descr.nested_blocks==undefined)
					    )
					   )
					{
						str+="<td colspan=\"1\" height=\"30px\" width=\"10px\" style=\"border-left: 1px solid transparent;border-top: 1px solid black;border-right: 0px solid transparent;border-bottom: 1px solid black;\" ><hr style=\"border-width:1px;\"></td>";
					}
					else
					{
						str+="<td colspan=\"1\" height=\"30px\" width=\"10px\" style=\"border-left: 1px solid transparent;border-top: 1px solid transparent;border-right: 0px solid transparent;\" ><hr style=\"border-width:1px;\"></td>";
					}
					str+="<td colspan=\"100%\" height=\"30px\" width=\"10px\" style=\"border-left: 0px solid transparent;border-top: 1px solid black;border-right: 1px solid transparent;\" ><hr style=\"border-width:1px;\"></td>";
					str+="</tr><tr>";
				}
				prev_block_i=i;
			}
			
			if (i<(pre_render_buf.length-1))
			{
				if (pre_render_buf[i].index.length<pre_render_buf[i+1].index.length)
				{
					if ((pre_render_buf[i].index.length+fixed_offset)>0)
					{
						if (
						    (pre_render_buf[i].descr.type==block_types.funct_block_def)||
							(pre_render_buf[i].descr.type==block_types.hmi_screens)||
							(pre_render_buf[i].descr.type==block_types.function_block_group_def)||
							(pre_render_buf[i].descr.type==block_types.module_def)
							)
						{
							str+="<td width=\"10px\" style=\"border-bottom: 1px solid transparent;border-left: 1px solid transparent;\" ></td>";
						}
						else
						{
							str+="<td width=\"10px\" style=\"border-bottom: 1px solid transparent;border-left: 1px solid transparent;\" colspan=\""+(pre_render_buf[i].index.length+fixed_offset)+"\"></td>";
						}
					}
				}
				else
				{
					if ((pre_render_buf[i+1].index.length+fixed_offset)>0)
					{
						if ((pre_render_buf[i].descr.type==block_types.funct_block_def)||
						    (pre_render_buf[i].descr.type==block_types.hmi_screens)||
							(pre_render_buf[i].descr.type==block_types.function_block_group_def)||
							(pre_render_buf[i].descr.type==block_types.module_def)
							)
						{
							str+="<td width=\"10px\" style=\"border-bottom: 1px solid transparent;border-left: 1px solid transparent;\" ></td>";
						}
						else
						{
							str+="<td width=\"10px\" style=\"border-bottom: 1px solid transparent;border-left: 1px solid transparent;\" colspan=\""+(pre_render_buf[i+1].index.length+fixed_offset)+"\"></td>";
						}
					}
					if ((pre_render_buf[i].index.length-pre_render_buf[i+1].index.length)>0)
					{
						if (((pre_render_buf[i+1].descr.type==block_types.funct_block_def)||
						    (pre_render_buf[i+1].descr.type==block_types.hmi_screens)||
							(pre_render_buf[i+1].descr.type==block_types.function_block_group_def)
							))
						{
							str+="<td width=\"10px\" style=\"border-bottom: 1px solid transparent;border-left: 1px solid transparent;\" colspan=\""+(pre_render_buf[i].index.length-pre_render_buf[i+1].index.length)+"\"></td>";
						}
						else if (pre_render_buf[i+1].descr.type==block_types.module_def)
						{
							str+="<td width=\"10px\" style=\"border-bottom: 1px solid transparent;border-left: 1px solid transparent;\" colspan=\""+(pre_render_buf[i].index.length-pre_render_buf[i+1].index.length-1)+"\"></td>";
							
						}
						else
						{
							str+="<td width=\"10px\" style=\"border-bottom: 1px solid black;border-left: 1px solid transparent;\" colspan=\""+(pre_render_buf[i].index.length-pre_render_buf[i+1].index.length)+"\"></td>";
						}
					}
				}
			}
			else
			{
				if ((pre_render_buf[i].index.length+fixed_offset)>0)
				{
					str+="<td style=\"border-bottom: 1px solid transparent;border-left: 1px solid transparent;\" colspan=\""+(pre_render_buf[i].index.length+fixed_offset)+"\"></td>";
				}
				else
				{
					//str+="<td style=\"border-bottom: 1px solid transparent;border-left: 1px solid transparent;\" ></td>";
				}
			}
			if (pre_render_buf[i].descr.type==block_types.funct_block_def)
			{
				act_funct_block_var_index=pre_render_buf[i].index.slice(0,pre_render_buf[i].index.length-2);
				var contracted="";
				var exp_contr="<a id=\"func_block_id_"+getID_FromIndex(pre_render_buf[i].index)+"\" data-elem_index='"+JSON.stringify(pre_render_buf[i].index)+"' href='#' onclick=\"ARGEE_elem_descr.exp_contract(this)\">+</a>"
				if (pre_render_buf[i].elem.expanded==false)
				{
					contracted=" "+hide_str;
				}
				var func_block=findFunctBlock(pre_render_buf[i].str);
				if ((func_block!=null)&&(num(func_block.values[1])==func_block_type_num.TASK))
				{
					if (pre_render_buf[i].str.localeCompare(default_task_type)==0)
					{
						pre_render_buf[i].str=default_task_replace_type;
					}
					str+="<td bgcolor=\""+task_color_in_code+"\" colspan=\"100%\">"+exp_contr+"&nbsp&nbsp&nbsp Task - <b>"+pre_render_buf[i].str+"</b> "+contracted+" </td>";
				}
				/*else if ((func_block!=null)&&(
					     (num(func_block.values[1])==func_block_type_num.BITFIELD)||
						 (num(func_block.values[1])==func_block_type_num.STRUCT)
				))
				{
					str+="<td  colspan=\"100%\"></td>";
				}*/
				else if ((func_block!=null)&&(num(func_block.values[1])==func_block_type_num.FUNCTION))
				{
					var elem_help=find_HMI_HelpDescr(pre_render_buf[i].str);
					str+="<td bgcolor=\""+function_color_in_code+"\" colspan=\"100%\">"+exp_contr+"&nbsp&nbsp&nbsp Function - <b>"+elem_help.help_string+"</b> "+contracted+" </td>";
				}
				else if ((func_block!=null)&&(num(func_block.values[1])==func_block_type_num.PROCEDURE))
				{
					var elem_help=find_HMI_HelpDescr(pre_render_buf[i].str);
					str+="<td bgcolor=\""+procedure_color_in_code+"\" colspan=\"100%\">"+exp_contr+"&nbsp&nbsp&nbsp Procedure - <b>"+elem_help.help_string+"</b> "+contracted+" </td>";
				}
				else
				{
					str+="<td bgcolor=\""+function_block_color+"\" colspan=\"100%\">"+exp_contr+"&nbsp&nbsp&nbsp Function Block - <b>"+pre_render_buf[i].str+"</b> "+contracted+" </td>";
				}
				
			}
			else if (pre_render_buf[i].descr.type==block_types.function_block_group_def)
			{
				var contracted="";
				var exp_contr="<a id=\"func_block_id_"+getID_FromIndex(pre_render_buf[i].index)+"\" data-elem_index='"+JSON.stringify(pre_render_buf[i].index)+"' href='#' onclick=\"ARGEE_elem_descr.exp_contract(this)\">+</a>"
				if (pre_render_buf[i].elem.expanded==false)
				{
					contracted=" "+hide_str;
				}
				str+="<td bgcolor=\""+module_color+"\" colspan=\"100%\">"+exp_contr+"&nbsp&nbsp&nbsp Function Block Group - <b>"+pre_render_buf[i].str+"</b> "+contracted+" </td>";
				/*var func_block=findFunctBlock(pre_render_buf[i].str);
				if ((func_block!=null)&&(num(func_block.values[1])==1))
				{
					if (pre_render_buf[i].str.localeCompare(default_task_type)==0)
					{
						pre_render_buf[i].str=default_task_replace_type;
					}
					str+="<td bgcolor=\""+task_color_in_code+"\" colspan=\"100%\">"+exp_contr+"&nbsp&nbsp&nbsp Task - <b>"+pre_render_buf[i].str+"</b> "+contracted+" </td>";
				}
				else
				{
					str+="<td bgcolor=\"#FFF8C6\" colspan=\"100%\">"+exp_contr+"&nbsp&nbsp&nbsp Function Block - <b>"+pre_render_buf[i].str+"</b> "+contracted+" </td>";
				}*/
				
			}
			else if (pre_render_buf[i].descr.type==block_types.module_def)
			{
				var contracted="";
				var exp_contr="<a id=\"func_block_id_"+getID_FromIndex(pre_render_buf[i].index)+"\" data-elem_index='"+JSON.stringify(pre_render_buf[i].index)+"' href='#' onclick=\"ARGEE_elem_descr.exp_contract(this)\">+</a>"
				if (pre_render_buf[i].elem.expanded==false)
				{
					contracted=" "+hide_str;
				}
				str+="<td bgcolor=\""+pre_render_buf[i].descr.color+"\" colspan=\"100%\">&nbsp&nbsp&nbsp Library - <b>"+pre_render_buf[i].str+"</b>  </td>";
				/*var func_block=findFunctBlock(pre_render_buf[i].str);
				if ((func_block!=null)&&(num(func_block.values[1])==1))
				{
					if (pre_render_buf[i].str.localeCompare(default_task_type)==0)
					{
						pre_render_buf[i].str=default_task_replace_type;
					}
					str+="<td bgcolor=\""+task_color_in_code+"\" colspan=\"100%\">"+exp_contr+"&nbsp&nbsp&nbsp Task - <b>"+pre_render_buf[i].str+"</b> "+contracted+" </td>";
				}
				else
				{
					str+="<td bgcolor=\"#FFF8C6\" colspan=\"100%\">"+exp_contr+"&nbsp&nbsp&nbsp Function Block - <b>"+pre_render_buf[i].str+"</b> "+contracted+" </td>";
				}*/
				
			}
			else if (pre_render_buf[i].descr.type==block_types.hmi_screens)
			{
				var contracted="";
				var exp_contr="<a data-elem_index='"+JSON.stringify(pre_render_buf[i].index)+"' href='#' onclick=\"ARGEE_elem_descr.exp_contract(this)\">+</a>"
				if (pre_render_buf[i].elem.expanded==false)
				{
					contracted=" "+hide_str;
				}
				str+="<td bgcolor=\"#FFF8C6\" colspan=\"100%\">"+exp_contr+"&nbsp&nbsp&nbsp<i> HMI Screens </i> "+contracted+" </td>";
			}
			else if (pre_render_buf[i].descr.type==block_types.funct_def)
			{
				str+="<td bgcolor=\"aqua\" colspan=\"100%\">Function - "+pre_render_buf[i].str+" </td>";
			}
			else if (pre_render_buf[i].descr.type==block_types.add_block)
			{
				//str+="<td colspan=\"100%\">&nbsp<br>&nbsp&nbsp"
				str+="<td style=\"padding: 10px;\" colspan=\"100%\">"
				str+=generateAddButtonBlock(pre_render_buf[i].elem,pre_render_buf[i].index);
				str+="</td>"
				//str+="<br>&nbsp</td>"
			}
			else
			{
				pre_render_buf[i].elem.vis_elem_type=1;
				pre_render_buf[i].elem.index=clone(pre_render_buf[i].index);
				pre_render_buf[i].elem.vis_elem_item=pre_render_buf[i].line;
				var line=pre_render_buf[i].elem.vis_elem_item;
				var disp_line=pre_render_buf[i].block_line;/*indexToDotString(pre_render_buf[i].index.slice(3));*///
				var data_sub_exist=0;
				if (pre_render_buf[i].elem.sub_elems!=undefined)
				{
					data_sub_exist=1;
				}
				var backgr_color="inherit";
				var first_col_color=pre_render_buf[i].descr.color;
				if ((pre_render_buf[i].elem.commented==1)||(pre_render_buf[i].elem.commented==2))
				{
					first_col_color=backgr_color="grey";
					
				}
				
				var contracted="";
				var exp_contr="";
				
				
				if (pre_render_buf[i].descr.collapsable==true)
				{
					exp_contr="&nbsp&nbsp<a id=\"func_block_id_"+getID_FromIndex(pre_render_buf[i].index)+"\" data-elem_index='"+JSON.stringify(pre_render_buf[i].index)+"' href='#' onclick=\"ARGEE_elem_descr.exp_contract(this)\">+</a>"
					if (pre_render_buf[i].elem.expanded==false)
					{
						contracted="<br> "+hide_str;
					}
				}
				
				if ((pre_render_buf[i].descr.fields==undefined)&&(pre_render_buf[i].descr.small_height==true))
				{
					// smaller height
					str+="<td id=\"prog_elem_1_"+line+"\" data-elem_type='"+(pre_render_buf[i].elem.type)+"' data-sub_exist='"+data_sub_exist+"' data-elem_index='"+JSON.stringify(pre_render_buf[i].index)+"' ondblclick=\"ARGEE_elem_descr.handleEvent("+event.DBL_CLICK+",this,event);\"  style=\"background-color:"+backgr_color+";height:1.5em;white-space: nowrap;border: 1px solid black; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\"><a id=\"elem_line_id_"+getID_FromIndex(pre_render_buf[i].index)+"\" href='#' data-elem_index='"+JSON.stringify(pre_render_buf[i].index)+"' onclick=\"ARGEE_elem_descr.blockMenu(this)\">"+disp_line+"</a></td>";
				}
				else
				{
					str+="<td id=\"prog_elem_1_"+line+"\" data-elem_type='"+(pre_render_buf[i].elem.type)+"' data-sub_exist='"+data_sub_exist+"' data-elem_index='"+JSON.stringify(pre_render_buf[i].index)+"' ondblclick=\"ARGEE_elem_descr.handleEvent("+event.DBL_CLICK+",this,event);\"  style=\"background-color:"+backgr_color+";height:3.5em;white-space: nowrap;border: 1px solid black; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\"><a id=\"elem_line_id_"+getID_FromIndex(pre_render_buf[i].index)+"\" href='#' data-elem_index='"+JSON.stringify(pre_render_buf[i].index)+"' onclick=\"ARGEE_elem_descr.blockMenu(this)\">"+disp_line+"</a>"+exp_contr+"</td>";
				}
				
				
				if (pre_render_buf[i].render_border==true)
				{
					//str+="<td style=\"white-space: nowrap;border: 1px solid black; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\" bgcolor=\""+pre_render_buf[i].descr.color+"\">"+pre_render_buf[i].descr.title+"</td>";
					str+="<td id=\"prog_elem_2_"+line+"\" style=\"border-right: 1px solid transparent;white-space: nowrap; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\" bgcolor=\""+first_col_color+"\">"+pre_render_buf[i].descr.title+contracted+"</td>";
					str+="<td id=\"prog_elem_3_"+line+"\" valign=\"middle\" style=\"padding-bottom:5px;padding-top:8px;padding-left:5px;padding-right:10px;\" colspan=\"100%\" bgcolor=\""+pre_render_buf[i].descr.color+"\" >"
				}
				else
				{
					str+="<td id=\"prog_elem_2_"+line+"\" style=\"white-space: nowrap;border: 1px solid black; white-space: nowrap;padding-left:5px; padding-right:15px;\" width=\"1px\" bgcolor=\""+first_col_color+"\">"+pre_render_buf[i].descr.title+contracted+"</td>";
					str+="<td id=\"prog_elem_3_"+line+"\" style=\"padding:5px;\" colspan=\"100%\">"
				}
				str+=pre_render_buf[i].str;
				str+="</td>";
				
			}
			str+="</tr>";
			
			if (pre_render_buf[i].elem.expanded==false)
			{
				i=pre_render_buf[i].end_hiding_at;
			}
		}
		str+="</table>"
		num_code_lines=curr_prog_line+1;
		return str;
	}
	

	function showBlockMenu(id,index)
	{
			var elem=id;
			var tmp21=findPos(elem);
			var elem_datastruct=getElemFromIndex(index);
			var parent=getParentArr(index);
			
			var tbl="<table align=\"center\">"
			//var vert_offset=10;
			var vert_offset=0;
			
			if (debug_mode==false)			
			{
				
				
				if ((elem_datastruct.type==block_types.prog_vars)||(elem_datastruct.type==block_types.alias_vars)||(elem_datastruct.commented==2))
				{
					tbl+="<tr><td><font color=\"Yellow\"> No Actions Available </font></td></tr>";
				}
				else if (elem_datastruct.commented==1)
				{
					tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.UNCOMMENT+",this);hideCondMenu();\">Uncomment</button></td></tr>";	
				}
				else
				{
					if ((elem_datastruct.type==block_types.reg_var)||
					    (elem_datastruct.type==block_types.funct_block_elem_var))
					{
						if ((elem_datastruct.type==block_types.funct_block_elem_var)&&(parent.values[1]==func_block_type_num.BITFIELD))
						{
							
						}
						else
						{
							tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.FORCE_NON_ZERO_RENDER_ABOVE+",this);hideCondMenu();\">Make it Array</button></td></tr>";	
						}
					}
					if (elem_datastruct.type==block_types.enum_var_elem)
					{
						tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.FORCE_NON_ZERO_RENDER_ABOVE+",this);hideCondMenu();\">Make it a Constant</button></td></tr>";	
					}		
					
					if ((elem_datastruct.type!=block_types.init_elem_var)&&(elem_datastruct.type!=block_types.module))
					{
						tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.COPY+",this);hideCondMenu();\">Copy</button></td></tr>";	
					}
					tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.CUT+",this);hideCondMenu();\">Cut</button></td></tr>";
					if (elem_datastruct.type!=block_types.init_elem_var)
					{
						tbl+="<tr>"+
							  "<td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.PASTE_ABOVE+",this);hideCondMenu();\">Paste Above</button></td>"+
							  "</tr>";
						tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.PASTE_BELOW+",this);hideCondMenu();\">Paste Below</button></td></tr>";
						
						if (descr_lookup[elem_datastruct.type].screens.indexOf(screens.var_scr)==-1)
						{
                     if (descr_lookup[elem_datastruct.type].nested_blocks!=undefined)
                     {
                        tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.PASTE_INTO+",this);hideCondMenu();\">Paste Into</button></td></tr>";
                     }
							tbl+="<tr><td><hr></td></tr>";
							tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.COMMENT_OUT+",this);hideCondMenu();\">Comment Out</button></td></tr>";
							tbl+="<tr><td><hr></td></tr>";
						}
                  
						
						if (experimental_toggle_add_button_below==true)
						{
							tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.DBL_CLICK+",this,null);hideCondMenu();\">Toggle Add Button Above</button></td></tr>";

							tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.TOGGLE_BUTTON_BELOW+",this);hideCondMenu();\">Toggle Add Button Below</button></td></tr>";
							
						}
						else
						{
							tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.DBL_CLICK+",this,null);hideCondMenu();\">Toggle Add Button</button></td></tr>";
							
						}
					}
					
					if (elem_datastruct.type==block_types.init_elem_var)
					{
						tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.EDIT_INIT+",this);hideCondMenu();\">Toggle Edit</button></td></tr>";		
					}
					
					 if (descr_lookup[elem_datastruct.type].render_init==true)
					 {
						 if (elem_datastruct.values[1]!="Timer/Counter")
						 {
							tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.ADD_INIT+",this);hideCondMenu();\">Init</button></td></tr>";
						 }
					 }
					if (elem_datastruct.type==block_types.function_block_group)
					{
						 tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.REMOVE_MODULE+",this);hideCondMenu();\">Remove Function Blocks</button></td></tr>";
					}
					if (elem_datastruct.type==block_types.module)
					{
						tbl+="<tr><td>";
						tbl+="<a id=\"imgdlhelper_1\" style=\"display:none;\"  download=\"test.txt\" href=\"\">&nbsp;</a><br>";
						tbl+="<button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.EXPORT_MODULE+",this);hideCondMenu();\">Export Library</button>";
						tbl+="</td></tr>";	
					}
				}
				if (descr_lookup[elem_datastruct.type].screens.indexOf(screens.var_scr)!=-1)
				{
					if ((elem_datastruct.type==block_types.reg_var)||(elem_datastruct.type==block_types.alias_var)||(elem_datastruct.type==block_types.enum_var_elem)||(elem_datastruct.type==block_types.funct_block_elem_var))
					tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.COMMENT_VAR+",this);hideCondMenu();\">Comment</button></td></tr>";
				}
					
				
			}
			
			if (descr_lookup[elem_datastruct.type].screens.indexOf(screens.var_scr)==-1)
			{
				if ((elem_datastruct.commented!=2)&&(elem_datastruct.commented!=1)&&(block_types_with_breakspoints.indexOf(elem_datastruct.type)>=0))
				{
					//vert_offset-=22;
					tbl+="<tr><td><button  data-elem_index=\""+JSON.stringify(index)+"\"  style=\"width:100%;\" type=\"button\"  onclick=\"ARGEE_elem_descr.handleEvent("+event.TOGGLE_BREAKPOINT+",this);hideCondMenu();\">Toggle Breakpoint</button></td></tr>";			
				}
				else
				{
					if (debug_mode==true)
					{
						tbl+="<tr><td><font color=\"Yellow\"> No Actions Available </font></td></tr>";
					}
					else
					{
						//vert_offset-=8;
					}
				}
				if (debug_mode==true)
				{
					//vert_offset=25;
				}
				
			}
			
			
		   tbl+="</table>"
			/*if ((descr_lookup[elem_datastruct.type].screens.indexOf(screens.var_scr)!=-1)||(elem_datastruct.type==block_types.init_elem_var))
			{
				if (descr_lookup[elem_datastruct.type].render_init==true)
				{
					vert_offset=-15;
				}
				else if (elem_datastruct.type==block_types.init_elem_var)
				{
					vert_offset=15;
				}
				else
				{
					vert_offset=-5;
				}
			}*/
			var act_menu;
			act_menu=window.document.getElementById("act_menu");
			act_menu.innerHTML=tbl;
			act_menu.style.display="block";
		   act_menu.style.position="absolute";
		    vert_offset=act_menu.clientHeight/(-4.16);
			act_menu.style.left=tmp21[1]+id.offsetWidth+10+"px";
			act_menu.style.top=tmp21[0]/*-id.offsetTop*/+vert_offset+"px";
			act_menu.style.zIndex="100";
			return false;
	}
	

	function showHideElem(elem)
	{
		var index=JSON.parse(elem.dataset.elem_index);
		var elem_datastruct=getElemFromIndex(index);
		var expand=false;
		if ((elem_datastruct.hidden_sub==undefined)||(elem_datastruct.hidden_sub==true))
		{
			elem_datastruct.hidden_sub=false;
		}
		else
		{
			expand=true;
			elem_datastruct.hidden_sub=true;
		}
		renderEditVars();
		if (expand==true)
		{
			/*var id_var_str="elem_line_id_"+getID_FromIndex(index);
			id_elem=document.getElementById(id_var_str);
			if (id_elem!=null)
			{
				id_elem.scrollIntoView(true);
			}*/
		}
		
	}
	
	function blockMenu(elem)
	{
		var index=JSON.parse(elem.dataset.elem_index);
		var id_str="elem_line_id_"+getID_FromIndex(index);
		var link_elem=document.getElementById(id_str);
		showBlockMenu(link_elem,index);
		//var parent=getParentArr(index);
		
	}
	
	var lastErrLine=[];
	
	function findTD_Elem(list)
	{
		var i;
		for(i=0;i<list.length;i++)
		{
			if (list[i].nodeName=="TD")
			{
				return list[i];
			}
		}
		
	}

	function findFirstEditableElem(list)
	{
		var i;
		for(i=0;i<list.length;i++)
		{
			if ((list[i].nodeName=="TEXTAREA")||(list[i].nodeName=="INPUT"))
			{
				return list[i];
			}
		}
		
	}

	var TAB_ELEM={UP:0,DOWN:1,INSIDE:2,OUTSIDE:3,
				  UP_INSIDE_CURR_ELEM:4,DOWN_INSIDE_CURR_ELEM:5,
				  UP_NEXT:6, DOWN_NEXT:7,PAGE_UP:8,PAGE_DOWN:9,
				  };


	// field order -> top to bottom (when pressing down cursor)
	var navig_map=
	[
		{type:block_types.reg_var,field_order:[2,0]},
		{type:block_types.alias_var,field_order:[0,1]},
		{type:block_types.enum_var_elem,field_order:[1,0]},
		{type:block_types.funct_block_elem_var,field_order:[3,0]},
	];
		
	function findVarNavigRecord(type)
	{
		var i;
		for(i=0;i<navig_map.length;i++)
		{
			if (navig_map[i].type==type)
			{
				return navig_map[i];
			}
		}
		return null;
	}
	
	function findVarDomElem(index,field_num)
	{
		var list,i;
		list=document.querySelectorAll('[data-elem_index=\''+JSON.stringify(index)+'\']');
		for(i=0;i<list.length;i++)
		{
			if ((list[i].dataset.elem_field!=undefined)&&(parseInt(list[i].dataset.elem_field)==field_num))
			{
				return list[i];
			}
		}
		return null;
	}
	
	
	
	
	function navigateToNextVarElem(dir,curr_elem_index,curr_field)
	{
		var next_elem_index=fastClone(curr_elem_index);
		var next_field=parseInt(curr_field);
		var list=null;
		var i;
		
		var elem_data=getElemFromIndex(next_elem_index);
		var next_in_curr_elem=-1;
		var navig_rec=findVarNavigRecord(elem_data.type);
		var dom_elem;
		
		if (navig_rec==null)
		{
			return false;
		}
		var curr_elem=findVarDomElem(curr_elem_index,parseInt(curr_field));
		// navigate within curr_elem or go to the next one
		var curr_field_index=navig_rec.field_order.indexOf(parseInt(curr_field))
		if (dir==TAB_ELEM.DOWN_NEXT)
		{
			if ((curr_field_index>=0)&&(curr_field_index<navig_rec.field_order.length-1))
			{
				var next_field=navig_rec.field_order[curr_field_index+1];
				dom_elem=findVarDomElem(next_elem_index,next_field);
				if (dom_elem!=null)
				{
					curr_elem.blur();
					dom_elem=findVarDomElem(next_elem_index,next_field);
					dom_elem.focus();
					return true;
				}
			}
			// find next elem
			next_elem_index[next_elem_index.length-1]++;
			// find first available element
			for(i=0;i<navig_rec.field_order.length;i++)
			{
				dom_elem=findVarDomElem(next_elem_index,navig_rec.field_order[i]);
				if (dom_elem!=null)
				{
					curr_elem.blur();
					dom_elem=findVarDomElem(next_elem_index,navig_rec.field_order[i]);
					dom_elem.focus();
					return true;
				}
			}
			return false;
		}
		
		if (dir==TAB_ELEM.UP_NEXT)
		{
			if (curr_field_index>0)
			{
				var next_field=navig_rec.field_order[curr_field_index-1];
				dom_elem=findVarDomElem(next_elem_index,next_field);
				if (dom_elem!=null)
				{
					curr_elem.blur();
					dom_elem=findVarDomElem(next_elem_index,next_field);
					dom_elem.focus();
					return true;
				}
			}
			// find next elem
			next_elem_index[next_elem_index.length-1]--;
			// find first available element
			for(i=(navig_rec.field_order.length-1);i>=0;i--)
			{
				dom_elem=findVarDomElem(next_elem_index,navig_rec.field_order[i]);
				if (dom_elem!=null)
				{
					curr_elem.blur();
					dom_elem=findVarDomElem(next_elem_index,navig_rec.field_order[i]);
					dom_elem.focus();
					return true;
				}
			}
			return false;
		}
		
/*		
			while(1)
			{
				if (dir==TAB_ELEM.DOWN_NEXT)
				{
					next_elem_index[next_elem_index.length-1]++;
				}
				if (dir==TAB_ELEM.UP_NEXT)
				{
					next_elem_index[next_elem_index.length-1]--;
				}

				
				list=document.querySelectorAll('[data-elem_index=\''+JSON.stringify(next_elem_index)+'\']')
				if (list==null)
				{
					break;
				}
				if ((list.length==1)&&(list[0].nodeName=="BUTTON"))
				{

				}
				else
				{
					break;
				}
			}	
			var first_link_node=null,first_edit_node=null,last_edit_node=null;
			if ((list!=null)&&(list.length>0))
			{
				for(i=0;i<list.length;i++)
				{
					if ((dir==TAB_ELEM.DOWN_NEXT)||(dir==TAB_ELEM.UP_NEXT))
					{
						if ((list[i].dataset.elem_field!=undefined)&&(list[i].dataset.elem_field=="0"))
						{
							first_edit_node=list[i];
							last_edit_node=list[i];
						}
					}
					if ((dir==TAB_ELEM.DOWN_INSIDE_CURR_ELEM)||(dir==TAB_ELEM.UP_INSIDE_CURR_ELEM))
					{
						if (list[i].nodeName=="INPUT")
						{
							if ((list[i].dataset.elem_field!=undefined)&&(list[i].dataset.elem_field=="0"))
							{
								first_edit_node=list[i];
								last_edit_node=list[i];
							}
							else if ((list[i].dataset.elem_field!=undefined)&&(first_edit_node!=null)) 
							{
								last_edit_node=list[i];
							}
						}
					}
				}
				
				// need to navigate between array_size and array_name as well as enum_const and name
				// same applies to navigating between alias name and definition.
				if (dir==TAB_ELEM.DOWN_INSIDE_CURR_ELEM)
				{
					if (parseInt
			
				}
				
				if ((dir==TAB_ELEM.DOWN_NEXT)&&(first_edit_node!=null))
				{
					first_edit_node.focus();
					return true;
				}
				if ((dir==TAB_ELEM.UP_NEXT)&&(last_edit_node!=null))
				{
					last_edit_node.focus();
					return true;
				}	
			}
*/			
			return false;
	}
	
	function navigateToNextTabSubElem(dir,curr_elem_index)
	{
		var next_elem_index=fastClone(curr_elem_index);
		var elem_data=getElemFromIndex(next_elem_index);
			var list=null;
			while(1)
			{
				if (dir==TAB_ELEM.DOWN_NEXT)
				{
					if (elem_data.next_index==undefined)
					{
						return false;
					}
					next_elem_index=elem_data.next_index;
					elem_data=getElemFromIndex(next_elem_index);
				}
				if (dir==TAB_ELEM.UP_NEXT)
				{
					if (elem_data.prev_index==undefined)
					{
						return false;
					}
					next_elem_index=elem_data.prev_index;
					elem_data=getElemFromIndex(next_elem_index);
				}
				if (dir==TAB_ELEM.PAGE_DOWN)
				{
					next_elem_index[next_elem_index.length-1]++;
					elem_data=getElemFromIndex(next_elem_index);
				}
				if (dir==TAB_ELEM.PAGE_UP)
				{
					next_elem_index[next_elem_index.length-1]--;
					elem_data=getElemFromIndex(next_elem_index);
				}

				
				list=document.querySelectorAll('[data-elem_index=\''+JSON.stringify(next_elem_index)+'\']')
				if (list==null)
				{
					break;
				}
				if ((list.length==1)&&(list[0].nodeName=="BUTTON"))
				{

				}
				else
				{
					break;
				}
			}	
			var first_link_node=null,first_edit_node=null,last_edit_node=null;
			if ((list!=null)&&(list.length>0))
			{
				for(i=0;i<list.length;i++)
				{
					if ((first_link_node==null)&&(list[i].nodeName=="A"))
					{
						first_link_node=list[i];
					}
					if ((first_edit_node==null)&&((list[i].nodeName=="TEXTAREA")||(list[i].nodeName=="INPUT")))
					{
						first_edit_node=list[i];
						last_edit_node=list[i];
					}
					if ((first_edit_node!=null)&&((list[i].nodeName=="TEXTAREA")||(list[i].nodeName=="INPUT")))
					{
						last_edit_node=list[i];
					}
				}
				if (first_edit_node==null)
				{
					first_link_node.focus();
					return true;
				}
				if (dir==TAB_ELEM.PAGE_DOWN)
				{
					first_edit_node.focus();
					return true;
				}
				if (dir==TAB_ELEM.PAGE_UP)
				{
					first_edit_node.focus();
					return true;
				}
				if ((dir==TAB_ELEM.DOWN_NEXT)&&(first_edit_node!=null))
				{
					first_edit_node.focus();
					return true;
				}
				if ((dir==TAB_ELEM.UP_NEXT)&&(last_edit_node!=null))
				{
					last_edit_node.focus();
					return true;
				}	
			}
			return false;
	}

	function navigateToNextTabElem(dir,curr_elem)
	{
		if ((curr_elem.dataset==undefined)||(curr_elem.dataset.elem_index==undefined))
		{
			return false;
		}
		var curr_elem_index=JSON.parse(curr_elem.dataset.elem_index);
		var elem_field=parseInt(curr_elem.dataset.elem_field);
		var elem_data=getElemFromIndex(curr_elem_index);
		
		if (dir==TAB_ELEM.DOWN_INSIDE_CURR_ELEM)
		{
			var i;
			// find if there is a element with lower "elem_field"
			var list=document.querySelectorAll('[data-elem_index=\''+JSON.stringify(curr_elem_index)+'\']')
			for(i=0;i<list.length;i++)
			{
				if ((list[i].dataset!=undefined)&&(list[i].dataset!=null)&&
					(list[i].dataset.elem_field!=undefined)&&(parseInt(list[i].dataset.elem_field)==(elem_field+1)))
					{
						list[i].focus();
						return true;
					}
			}
			return false;
		}

		if (dir==TAB_ELEM.UP_INSIDE_CURR_ELEM)
		{
			var i;
			// find if there is a element with lower "elem_field"
			var list=document.querySelectorAll('[data-elem_index=\''+JSON.stringify(curr_elem_index)+'\']')
			for(i=0;i<list.length;i++)
			{
				if ((list[i].dataset!=undefined)&&(list[i].dataset!=null)&&
					(list[i].dataset.elem_field!=undefined)&&(parseInt(list[i].dataset.elem_field)==(elem_field-1)))
					{
						list[i].focus();
						return true;
					}
			}
			return false;
		}

		if ((dir==TAB_ELEM.PAGE_DOWN)||(dir==TAB_ELEM.PAGE_UP))
		{
			var stat=navigateToNextTabSubElem(dir,curr_elem_index)
			if (stat==true)
			{
				return true;
			}
			return false;
		}
		
		if (dir==TAB_ELEM.DOWN)
		{
			if ((elem_data.type==block_types.reg_var)||
		       (elem_data.type==block_types.funct_block_elem_var)||
			   (elem_data.type==block_types.enum_var_elem)||
			   (elem_data.type==block_types.alias_var)
			   )
			{
				var next_elem_index=fastClone(curr_elem_index);
				var stat=navigateToNextVarElem(TAB_ELEM.DOWN_NEXT,curr_elem_index,elem_field);
				if (stat==true)
				{
					return true;
				}
				
			}
		    else
			{
				var stat=navigateToNextTabElem(TAB_ELEM.DOWN_INSIDE_CURR_ELEM,curr_elem)
				if (stat==true)
				{
					return true;
				}
				var stat=navigateToNextTabSubElem(TAB_ELEM.DOWN_NEXT,curr_elem_index)
				if (stat==true)
				{
					return true;
				}
			}
			return false;

		}
		if (dir==TAB_ELEM.UP)
		{
			if ((elem_data.type==block_types.reg_var)||
		       (elem_data.type==block_types.funct_block_elem_var)||
			   (elem_data.type==block_types.enum_var_elem)||
			   (elem_data.type==block_types.alias_var)
			   )
			{
				var next_elem_index=fastClone(curr_elem_index);
				var stat=navigateToNextVarElem(TAB_ELEM.UP_NEXT,curr_elem_index,elem_field);
				if (stat==true)
				{
					return true;
				}
			}
		    else
			{
				var stat=navigateToNextTabElem(TAB_ELEM.UP_INSIDE_CURR_ELEM,curr_elem)
				if (stat==true)
				{
					return true;
				}
				var stat=navigateToNextTabSubElem(TAB_ELEM.UP_NEXT,curr_elem_index)
				if (stat==true)
				{
					return true;
				}
			}
			return false;
		}
	}


	
	function showErrorLine(index,type,mode)
	{
		var i;
		if (type==1)
		{
			var elem=getElemFromIndex(index.slice(0,2));
			var exp_el=elem;
			for(i=2;i<index.length;i++)
			{
				exp_el.sub_elems[index[i]].expanded=true;
				exp_el=exp_el.sub_elems[index[i]];
			}
			//elem.sub_elems[0].expanded=true;
			renderProg();
			var act_elem=getElemFromIndex(index);
			var act_elem_line=act_elem.vis_elem_item;
			lastErrLine=[act_elem.vis_elem_type,act_elem.vis_elem_item];
			var id_str="elem_line_id_"+getID_FromIndex(index);
			var link_elem=document.getElementById(id_str);
			link_elem.scrollIntoView();
			for(i=1;i<5;i++)
			{
				id_str="prog_elem_"+i+"_"+act_elem_line;
				var id_elem=document.getElementById(id_str);
				if (id_elem!=null)
				{
					if (mode==undefined)
					{
						id_elem.bgColor="red";	
					}
					else
					{
						id_elem.bgColor=mode;		
					}
					
				}
			}
		}
		else
		{
			if (index.length>2)
			{
				if ((index[0]==0)&&(index[1]==0))
				{
				}
				else
				{
					var upper=getElemFromIndex(index.slice(0,2));
					/*if (upper.type==block_types.funct_block_var)
					{
						upper.expanded=true;
					}
					else*/
					{
						upper.hidden_sub=true;
					}
					renderEditVars();
				}
			}
			var elem=getElemFromIndex(index);
			lastErrLine=[elem.vis_elem_type,elem.vis_elem_item,index];
			var actElem=findTD_Elem(document.querySelectorAll('[data-elem_index=\''+JSON.stringify(index)+'\']'));
			actElem.bgColor="red";
			var parent=actElem.parentNode;
			parent.bgColor="red";
			parent.scrollIntoView();
		}
	}
	
	function clearErrorLine()
	{
		var i;
		if (lastErrLine[0]!=undefined)
		{
			if (lastErrLine[0]==1)
			{
				line=lastErrLine[1];
				for(i=1;i<5;i++)
				{
					id_str="prog_elem_"+i+"_"+line;
					var id_elem=document.getElementById(id_str);
					if (id_elem!=null)
					{
						id_elem.bgColor=orig_line_colors[line][i-1];
					}
				}
			}
			else
			{
				var actElem=findTD_Elem(document.querySelectorAll('[data-elem_index=\''+JSON.stringify(lastErrLine[2])+'\']'));
				actElem.bgColor="white";
				var parent=actElem.parentNode;
				parent.bgColor="white";
			}
			lastErrLine=[];
		}
	}


	function exp_contract(elem)
	{
		var index=JSON.parse(elem.dataset.elem_index);
		var elem_datastruct=getElemFromIndex(index);
		
		if ((elem_datastruct.expanded==true)||(elem_datastruct.expanded==undefined))
		{
			elem_datastruct.expanded=false;
		}
		else
		{
			elem_datastruct.expanded=true;
		}
		proj_elems.editor=ENV.ARGEE;
		/*if (debug_mode==false)
		{
			setLocalStorage("prog_code",JSON.stringify(proj_elems));
		}*/
		renderProg();
	}	
	
	var curr_var_elem_cnt=1;
	var REND_MODE=
	{
		COMPACT:0,
		EXPANDED:1,
	};
	var rend_mode=REND_MODE.COMPACT;
   var keyboard_shortcuts_expanded_1=false;
	
	function copyCollapseExpand(elem,restore)
	{
		var i;
      
      if (elem==proj_elems)
		{
			if (restore==true)
			{
				keyboard_shortcuts_expanded=keyboard_shortcuts_expanded_1;
			}
			else
			{
				keyboard_shortcuts_expanded_1=keyboard_shortcuts_expanded;
			}
		}
      
		if (descr_lookup[elem.type].collapsable==true)
		{
			if (descr_lookup[elem.type].screens.indexOf(screens.var_scr)!=-1)
			{
				var ind;
				if ((elem.type==block_types.funct_block_var)&&(elem.values[1]==func_block_type_num.TASK))
				{
					ind=getFunctionBlockIndex(elem.values[0]);
				}
				if ((elem.type==block_types.funct_block_var)&&(elem.values[1]==func_block_type_num.TASK)&&(ind[0]==1))
				{
					// only user tasks are expanded by default
					if ((restore==false)&&(elem.expanded!=undefined))
					{
						elem.expanded_1=elem.expanded;
					}
					else if ((restore==true)&&(elem.expanded_1!=undefined))
					{
						elem.expanded=elem.expanded_1;
					}
				}
				else
				{
					if ((restore==false)&&(elem.hidden_sub!=undefined))
					{
						elem.hidden_sub_1=elem.hidden_sub;
					}
					else if ((restore==true)&&(elem.hidden_sub_1!=undefined))
					{
						elem.hidden_sub=elem.hidden_sub_1;
					}
				}
			}
		}
		if (descr_lookup[elem.type].screens.indexOf(screens.prog_scr)!=-1)
		{
			if ((elem.type==block_types.funct_block_def)||
			   (elem.type==block_types.hmi_screens)||
			   (elem.type==block_types.function_block_group_def)||
			   (descr_lookup[elem.type].collapsable==true)
			   )
		    {
					if ((restore==false)&&(elem.expanded!=undefined))
					{
						elem.expanded_1=elem.expanded;
					}
					else if ((restore==true)&&(elem.expanded_1!=undefined))
					{
						elem.expanded=elem.expanded_1;
					}
			}
		}
			
		
		if (elem.sub_elems!=undefined)
		{
			for(i=0;i<elem.sub_elems.length;i++)
			{
				copyCollapseExpand(elem.sub_elems[i],restore)
			}
		}
		
		
	}

	var COLEXP=
	{
		collapse_default:1,
		collapse_top_level:2,
		expand:3,
	};
	
	function handleCollapseExpand(elem,parent,new_val,prog_only)
	{
		var i,j;
		if (elem==proj_elems)
		{
			if (new_val==COLEXP.expand)
			{
				keyboard_shortcuts_expanded=true;
			}
			else
			{
				keyboard_shortcuts_expanded=false;
			}
		}
				
				
			
		if ((descr_lookup[elem.type].collapsable==true)&&(prog_only==false))
		{
			if (descr_lookup[elem.type].screens.indexOf(screens.var_scr)!=-1)
			{
				
				var ind;
				if ((elem.type==block_types.funct_block_var)&&(elem.values[1]==func_block_type_num.TASK))
				{
					ind=getFunctionBlockIndex(elem.values[0]);
				}
				
				
				if (elem.type==block_types.prog_vars)
				{
					elem.expanded=true;
				}
				else if (elem.type==block_types.alias_vars)
				{
					elem.expanded=true;
				}
				else if (elem.type==block_types.module_variables)
				{
					elem.expanded=true;
				}
				else if ((elem.type==block_types.funct_block_var)&&(elem.values[1]==func_block_type_num.TASK)&&(ind[0]==1)&&(new_val!=COLEXP.collapse_top_level))
				{
					// only user tasks are expanded by default
					elem.expanded=true;
				}
				else if (elem.type==block_types.function_block_group_def)
				{
				}
				else if (elem.type==block_types.module_def)
				{
					elem.expanded=true;
				}

				else
				{
					if ((new_val==COLEXP.collapse_default)||(new_val==COLEXP.collapse_top_level))
					{
						elem.hidden_sub=false;
					}
					else
					{
						elem.hidden_sub=true;
					}
				}
			}
		}
		if (descr_lookup[elem.type].screens.indexOf(screens.prog_scr)!=-1)
		{
			
			if ((elem.type==block_types.funct_block_def)||
			   (elem.type==block_types.hmi_screens)||
			   (elem.type==block_types.function_block_group_def)||
			   (elem.type==block_types.module_def)||
			   (descr_lookup[elem.type].collapsable==true)
			   )
		    {
				
					var ind;
					if ((elem.type==block_types.funct_block_def)&&(parent.values[1]==func_block_type_num.TASK))
					{
						ind=getFunctionBlockIndex(parent.values[0]);
					}				
				
					if ((elem.type==block_types.funct_block_def)&&(parent.values[1]==func_block_type_num.TASK)&&(ind[0]==1)&&(new_val!=COLEXP.collapse_top_level))
					{
						// only user tasks are expanded by default
						elem.expanded=true;
					}
					else if (elem.type==block_types.function_block_group_def)
					{
						elem.expanded=false;
					}
					else
					{
						if (descr_lookup[elem.type].collapsable==true)
						{
							if (descr_lookup[elem.type].default_collapse==true)
							{
								
								elem.expanded=false;
							}
							else
							{
								if ((new_val==COLEXP.collapse_top_level)&&
								    (
									  (elem.type!=block_types.module_def)
									)
								   )
								{
									var leaf=true;
									
									for(j=0;j<elem.sub_elems.length;j++)
									{
										if (elem.sub_elems[j].sub_elems!=undefined)
										{
											leaf=false;
											break;
										}
									}
									if (leaf==true)
									{
										elem.expanded=false;
									}
									else
									{
										elem.expanded=true;
									}
								}
								else
								{
									elem.expanded=true;
								}
							}
						}
						else
						{
							if ((new_val==COLEXP.collapse_default)||(new_val==COLEXP.collapse_top_level))
							{
								elem.expanded=false;
							}
							else
							{
								elem.expanded=true;
							}
						}
					}
			}
		}
			
		
		if (elem.sub_elems!=undefined)
		{
			for(i=0;i<elem.sub_elems.length;i++)
			{
				handleCollapseExpand(elem.sub_elems[i],elem,new_val,prog_only)
			}
		}
		
	}
	
	
	function setRendMode(mode)
	{
		if (mode==0)
		{
			rend_mode=REND_MODE.COMPACT;
			handleCollapseExpand(proj_elems,proj_elems,COLEXP.collapse_default,false);
		}
		else
		{
			rend_mode=REND_MODE.EXPANDED;
			handleCollapseExpand(proj_elems,proj_elems,COLEXP.expand,false);
		}
		renderCombined(true);
	}
		
	function varSegmResizerMouseDown(evt)
	{
		
		DESCR.varSegmResizeStart={x:evt.clientX,y:evt.clientY};
		var curr_left_width=((DESCR.varSegmResizeStart.x*100)/window.innerWidth)|0;
		DESCR.varSegmResizeStart.offset=left_col_width-curr_left_width;
		
		document.addEventListener('mousemove', DESCR.varSegmResizerMouseMove);
		document.addEventListener('mouseup',   DESCR.varSegmResizerMouseUp);
		evt.preventDefault();
		return false;
	}
	
	function varSegmResizerMouseUp(evt)
	{
		document.removeEventListener('mousemove', DESCR.varSegmResizerMouseMove);
		document.removeEventListener('mouseup',   DESCR.varSegmResizerMouseUp);
		evt.preventDefault();
		return false;
	}

	function varSegmResizerMouseMove(evt)
	{
		var curr_left_width=((DESCR.varSegmResizeStart.x*100)/window.innerWidth)|0;
		var new_left_width=((evt.clientX*100)/window.innerWidth)|0;
		if (curr_left_width!=new_left_width)
		{
			//if ((left_col_width<70)&&(left_col_width>30))
			{
				DESCR.varSegmResizeStart.x=evt.clientX;
				left_col_width=new_left_width+DESCR.varSegmResizeStart.offset;
				localStorage.ARGEE3_var_width=left_col_width;
				adjustMenuScreen(1);
			}
			//var var_resize_div=document.getElementById("var_resize_div");
			//var_resize_div.style.height=var_div.scrollHeight+"px";

		}
		/*else if (curr_left_width<new_left_width)
		{
			DESCR.varSegmResizeStart.x=evt.clientX;
			left_col_width=new_left_width+DESCR.varSegmResizeStart.offset;
			adjustMenuScreen(1);
			var var_resize_div=document.getElementById("var_resize_div");
			var_resize_div.style.height=var_div.scrollHeight+"px";

		}*/
		evt.preventDefault();
		
		return false;
	}


	function renderEditVars()
	{
		curr_var_elem_cnt=1;
		pre_render_buf=[];
		//preRenderEditVars(proj_elems,[],null);
		//var_div.innerHTML="<h1>&nbsp&nbsp&nbsp&nbsp<u>Variables and Program elements</u></h1>"+postRenderEditVars();
		var mode_str="";
		if (rend_mode==REND_MODE.EXPANDED)
		{
			mode_str="Compact";
		}
		else
		{
			mode_str="Expanded";
		}
		//</div><div id='draggable' style='height:100%;border:2px;'></div>
		var_div.innerHTML="<h1>&nbsp&nbsp&nbsp&nbspVariables and Definitions </h1><br><br>"+renderEditVars_imp(proj_elems,[],proj_elems)+"<br><br>";
		
		
	}
	var orig_line_colors=[];
	var orig_line_elem_types=[];
	var cnt_rend=0;
	var keyboard_shortcuts_expanded=false;
	
	
	function showHideKeybShortcuts()
	{
		if (keyboard_shortcuts_expanded==true)
		{
			keyboard_shortcuts_expanded=false;
		}
		else
		{
			keyboard_shortcuts_expanded=true;
		}
		renderCombined(true);
	}
		
	
	
	function renderProg()
	{
		var i,j;
		orig_line_colors=[];
		orig_line_elem_types=[];
		pre_render_buf=[];
		curr_prog_line=0;
		curr_block_line=0;
		createFuncBlockHelpStringCache();
		//console.log("prog_rend"+cnt_rend);cnt_rend++;
		hmi_image_variables=[];
		preRenderProg(proj_elems,[],null,null);
		prog_div.innerHTML="<h1>&nbsp&nbsp&nbsp&nbspARGEE Program</h1>"
		if (debug_mode==false)
		{
			var show_hide_str="<a href='#' onclick=\"ARGEE_elem_descr.showHideKeybShortcuts()\">+</a>&nbsp&nbsp";
			if (keyboard_shortcuts_expanded==true)
			{
				prog_div.innerHTML+=show_hide_str+"Keyboard shortcuts: <br>Press Ctrl-q for list of variables/functions/procedures/states/io points that can be inserted into the current editable element<br>"+
									  "<br>Block select program statements by clicking on the \"number area\" and dragging mouse down and selecting 2 or more statements. "+
									  "Once the block is selected, Ctrl-x can be used to cut statements, Ctrl-c to copy statements, Ctrl-d to comment out statements, Ctrl-Shift-d to uncomment statements. <br>";
			}
			else
			{
				prog_div.innerHTML+=show_hide_str+"Keyboard shortcuts <i>(hidden)</i>";
			}
		}

		
		
		prog_div.innerHTML+="<br><div id=\"first_prog_line\"></div>"+postRenderProg()+"<br><br>";
		if (scroll_prop!=-1)
		{
			prog_div.scrollTop=((prog_div.scrollHeight*scroll_prop)|0);
			scroll_prop=-1;
		}
		prev_dbg_line=-1;
		updateBreakPointList();
		for(i=0;i<num_code_lines;i++)
		{
			orig_line_colors[i]=[];
			for(j=1;j<4;j++)
			{
				var id_str="prog_elem_"+j+"_"+i;
				var id_elem=document.getElementById(id_str);
				if (id_elem!=null)
				{
					orig_line_colors[i][j-1]=id_elem.bgColor;
					if (j==1)
					{
						orig_line_elem_types[i]=id_elem.dataset.elem_type;
					}
				}
			}
		}
		if (debug_mode==false)
		{
			//prog_div.innerHTML+="<div onMouseOver=\"this.style.background='linear-gradient(90deg,  rgba(108,108,108,1) 0%, rgba(224,224,224,1) 50%, rgba(108,108,108,1) 100%)'\" onMouseOut=\"this.style.background='linear-gradient(90deg, rgba(224,224,224,1) 0%, rgba(108,108,108,1) 50%, rgba(215,215,215,1) 100%)'\"  style=\"position:absolute;width:10px;cursor:w-resize;left:5px;top:0px;background: linear-gradient(90deg, rgba(224,224,224,1) 0%, rgba(108,108,108,1) 50%, rgba(215,215,215,1) 100%);\" id=\"var_resize_div\"></div>"
			
			prog_div.innerHTML+="<div onMouseOver=\"this.style.background='linear-gradient(90deg,  rgba(108,108,108,1) 0%, rgba(224,224,224,1) 50%, rgba(108,108,108,1) 100%)'\" onMouseOut=\"this.style.background='linear-gradient(90deg, rgba(224,224,224,1) 0%, rgba(108,108,108,1) 50%, rgba(224,224,224,1) 100%)'\"  style=\"position:absolute;width:10px;cursor:w-resize;left:5px;top:0px;background: linear-gradient(90deg, rgba(224,224,224,1) 0%, rgba(108,108,108,1) 50%, rgba(224,224,224,1) 100%);\" id=\"var_resize_div\"></div>"
			
			var var_resize_div=document.getElementById("var_resize_div");
			var_resize_div.style.height=prog_div.scrollHeight+"px";
			var_resize_div.addEventListener('mousedown', DESCR.varSegmResizerMouseDown);
		}
	}
	/*function renderProgDeb()
	{
		pre_render_buf=[];
		preRenderProg(proj_elems,[],null,null,false);
		prog_div.innerHTML="<h1>&nbsp&nbsp&nbsp&nbsp<u>ARGEE Program</u></h1><br>"+postRenderProg();
	}*/
	

	var gen=null;
	var timer=null;
	function advanceGen()
	{
		gen.next();
	}
	function* wait(ms)
	{
		if (timer!=null)
		{
			window.clearTimeout(timer);
		}
		timer=window.setTimeout(advanceGen,ms);
		yield 1;
		window.clearTimeout(timer);
	}
	
	var first_time=true;
	function renderCombined(dontAdjustTextareas)
	{
		
		GOM.setObjNum("ARGEE_PROJ_TYPE",0,ENV.ARGEE);
		renderEditVars();
		renderProg();
		if (first_time==true)
		{
			prog_view=true;
			first_time=false;
		}
		

	}

	//var local_io_datapoints;
	//var combined_glob_io_alias_vars;
	//var combined_enumerations;
	//var hmi_image_variables_enum;
	//var function_list_datapoints;
	//var hmi_func_datapoints;
	
	
/*	function getCustElemDatabases(create)
	{
		if (create==true)
		{
			var elem=keyMenuTargElement;
			createDynamicDatapoints();
		}
		return {func:function_list_datapoints,local:local_io_datapoints,glob:combined_glob_io_alias_vars,enums:combined_enumerations,hmi_funcs:hmi_func_datapoints,hmi_vars:hmi_image_variables_enum};
	}
*/

	var debug_mode=false;
	var scroll_prop=-1;
	
	function setDebugMode(debug)
	{
		var top=prog_div.scrollTop;
		var height=prog_div.scrollHeight;
		scroll_to_elem_after_debug=false;
		if (debug==false)
		{
			copyCollapseExpand(proj_elems,true);
			scroll_prop=top/height;
			
			if ((debug==false)&&(lastDebugClickedElem!=null))
			{
				var index=lastDebugClickedElem.slice(0,2);	
				var var_def=getElemFromIndex(index);
				var func_index=index.slice(0);
				func_index[func_index.length]=0;
				var func_def=getElemFromIndex(func_index);
				var_def.hidden_sub=true;
				func_def.expanded=true;	
			}
		}
		else if (debug_mode==false)
		{
			copyCollapseExpand(proj_elems,false);
			handleCollapseExpand(proj_elems,proj_elems,COLEXP.expand,false); 
			keyboard_shortcuts_expanded=false;
			lastDebugClickedElem=null;
		}
		debug_mode=debug;
	}
	
	function findFunctionDescription(funcName)
	{
		var i,j;
		var funcUpper=funcName.toUpperCase();
		for(i=0;i<function_group_list.length;i++)
		{
			for(j=0;j<function_group_list[i].elements.length;j++)
			{
				var name=function_group_list[i].elements[j][0].split("(");
				if ((name.length>1)&&(funcUpper.localeCompare(name[0])==0))
				{
					return function_group_list[i].elements[j][0];
				}
			}
		}
		return null;
	}
	
	function findUserFunctionOrProcedureDescription(name)
	{
		var func_block=findFunctBlock(name);
		if (func_block!=null)
		{
			var args=[];
			// update the variable list in insert string
			var fb_type=parseInt(func_block.values[1]);
			if ((fb_type==func_block_type_num.PROCEDURE)||(fb_type==func_block_type_num.FUNCTION))
			{
				for(i=0;i<func_block.sub_elems.length;i++)
				{
					if (func_block.sub_elems[i].type==block_types.funct_block_elem_var)
					{
						var curr_elem=func_block.sub_elems[i];
						if (parseInt(func_block.sub_elems[i].values[2])>0)
						{
							args[args.length]=func_block.sub_elems[i].values[0];
						}
					}
				}
				var func_name=name;
				func_name+="("
				if (args.length>0)
				{
					func_name+=args[0];
				}
				if (args.length>1)
				{
					for(i=1;i<args.length;i++)
					{
						func_name+=","+args[i];
					}
				}
				return func_name;
			}
		}
		return null;
	}
	
	function findHmiFuncDescr(arr,funcName)
	{
		var i,j;
		var funcUpper=funcName.toUpperCase();
		for(j=0;j<arr.length;j++)
		{
			var name=arr[j][0].split("(");
			if ((name.length>1)&&(funcUpper.localeCompare(name[0])==0))
			{
				if (arr[j][2]!=undefined)
				{
					// special description for the help string
					return arr[j][2];
				}
				// default
				return arr[j][0];
			}
		}
		return null;
		
	}
	
	var hmi_disp_num_funcs=
	[
		["HEX(var)","HEX()"],
	];
	
	var hmi_finc_disp_val_range=
	[
		["Hex(var)","Hex()"],
	];
	
	
	var hmi_disp_screen_color=
	[
	];

	var hmi_disp_screens=
	[
	];

	
	var hmi_grid_screen_funcs=
	[
		["SCREEN_PROP(Title,width_in_percent_of_screen,enable_rounded_edges,background_color)","SCREEN_PROP(\"Title\",90,false,\"transparent\")"]
	];
	
	var hmi_grid_row_funcs=
	[
		["ROW_PROP(background_color)","ROW_PROP(\"transparent\")"]	
	
	]

	var hmi_grid_sect_funcs=
	[
		["CELL_PROP(column_span,border_style)","CELL_PROP(1,1)"]
	];

	var hmi_grid_elem_funcs=
	[
		["DISPLAY_VALUE(Title,var,units_string,color,size,background_color)","DISPLAY_VALUE(\"Title\",var_name,\"unit\",\"black\",\"1.5\",\"transparent\")"],
		["ENTER_VALUE(Title,var,units_string,color,size,background_color)","ENTER_VALUE(\"Title\",var_name,\"unit\",\"black\",\"1.5\",\"transparent\")"],
		["BUTTON(Title,var,color,size,background_color)","BUTTON(\"Title\",var_name,\"black\",\"1.5\",\"transparent\")"],		
		["STATIC_TEXT(Text,color,size,background_color,alignment)","STATIC_TEXT(\"Text\",\"black\",\"1.5\",\"transparent\",\"center\")"],
		["SCREEN_LIST(Title,title_font_size,title_color)",  "SCREEN_LIST(\"Screens\",\"2.5\",\"black\")"],		
		["STATIC_GRAPHICS(image_file_variable,background_color,default_zoom)","STATIC_GRAPHICS(,\"transparent\",100)"],
		["MULTI_STATE_DISPLAY_STRING(Title,var,size,title_color,title_background_color,	value1,......)",  "MULTI_STATE_DISPLAY_STRING(\"Title\",var_name,\"1.5\",\"black\",\"transparent\",\n0,\"Value 1 string\",\"black\",\"green\")",
		 "MULTI_STATE_DISPLAY_STRING(Title,var,size,title_color,title_background_color,	value1,string1,color1,background1,.......)"],
		["MULTI_STATE_DISPLAY_GRAPHICS(Title,var,title_size,title_color,title_background_color,image_zoom_level,value1,......)",  "MULTI_STATE_DISPLAY_GRAPHICS(\"Title\",var_name,3,\"black\",\"transparent\",100,\n0,,\"transparent\")",
		  "MULTI_STATE_DISPLAY_GRAPHICS(Title,var,title_size,title_color,title_background_color,image_zoom_level,value1,image1,background1...)"],
		["DROPDOWN_LIST(Title,var,size,title_color,background_color,value1,text1,value2,text2......)",  "DROPDOWN_LIST(\"Title\",var_name,\"1.5\",\"black\",\"transparent\",0,\"Value 1 string\")"],
		["DISPLAY_VALUE_WITH_HEALTH(Title,title_color,size,var,units_string,health_var)","DISPLAY_VALUE_WITH_HEALTH(\"Title\",\"black\",\"1.5\",var_name,\"unit\",health_var_name)"],
		["LINK(Title_var,value_var,background_color_var,size)","LINK(title_var_name,value_var_name,background_color_var_name,\"1.5\")"],
	];
   
   var hmi_elems_var_mapping=
   [
      {name:"DISPLAY_VALUE",var_list:[1]},
      {name:"HMI_DISP_NUM",var_list:[1]},
      {name:"HMI_DISP_RANGE",var_list:[1]},
      {name:"HMI_ENTER_NUM",var_list:[1]},
      {name:"HMI_BUTTON",var_list:[1]},
      {name:"HMI_ENTER_STATE",var_list:[1]},
      {name:"ENTER_VALUE",var_list:[1]},
      {name:"BUTTON",var_list:[1]},
      {name:"MULTI_STATE_DISPLAY_STRING",var_list:[1]},
      {name:"MULTI_STATE_DISPLAY_GRAPHICS",var_list:[1]},
      {name:"DROPDOWN_LIST",var_list:[1]},
      {name:"DISPLAY_VALUE_WITH_HEALTH",var_list:[3,5]},
      {name:"LINK",var_list:[0,1,2]},
      {name:"LOAD_FROM_FILE",var_list:[1,2,3,4,5]},
      {name:"STORE_TO_FILE",var_list:[1,2,3,4]},
   ];
      
      
   


	
	var function_group_list=
	[
		{group:"String/Arrays", 
				elements:[
							["STR_LEN(str)","STR_LEN()"],
							["STR_LEFT(source_str,num_elems,dest_str)","STR_LEFT(,,)"],
							["STR_RIGHT(source_str,num_elems,dest_str)","STR_RIGHT(,,)"],
							["STR_MID(source_str,start_pos,end_pos,dest_str)","STR_MID(,,,)"],
							["STR_COPY(source_str,dest_str)","STR_COPY(,)"],
							["STR_CAT(source_str,dest_str) - dest_str:=dest_str+source_str","STR_CAT(,)"],
							["STR_COMPARE(str1,str2) - return true if equal","STR_COMPARE(,)"],
							["STR_TO_INT(source_str,base) - Returns a number","STR_TO_INT(,)"],
							["INT_TO_STR(number,dest_str,base)","INT_TO_STR(,,)"],
							["ARRAY_INIT(dest_array,offset,val1,val2,.....)","ARRAY_INIT(,,,,)"],
						 ]
		},
		{group:"Timer", 
				elements:[
							["START_TIMER(Timer,expiration_time)","START_TIMER(,)"],
							["EXPIRED(Timer) - returns True if timer expired","EXPIRED()"],
							["COUNT(Timer) - returns the number of ms since the timer started","COUNT()"],
						 ]
		},
		{group:"Counter", 
				elements:[
							["EXPIRED(Counter) - returns True if Counter expired","EXPIRED()"],
							["COUNT(Counter) - returns the current count","COUNT()"],
						 ]
		},
		
		{group:"Math", 
				elements:[
							["+","+"],
							["-","-"],
							["*","*"],
							["/","/"],
							["% - Modulo","%"],
							["abs(number)","abs()"],
							["min(num1,num2)","min(,)"],
							["max(num1,num2)","max(,)"],
						 ]
		},
		{group:"Brackets", 
				elements:[
							["()","()"],
						 ]
		},
		{group:"Boolean Logic", 
				elements:[
							["& - Boolean AND","&"],
							["| - Boolean OR","|"],
							["! - Boolean NOT","!"],
						 ]
		},
		{group:"Compare", 
				elements:[
							[">",">"],
							["<","<"],
							[">=",">="],
							["<=","<="],
							["=","="],
							["<>","<>"],
						 ]
		},
		{group:"Trigger", 
				elements:[
							["F_COS(value) - true if Change of state","F_COS()"],
							["R_TRIG(value) - true if Rising edge","R_TRIG()"],
							["F_TRIG(value) - true if Falling edge","F_TRIG()"],
						 ]
		},
		{group:"Bit Operations", 
				elements:[
							["GET_BITS(curr_val,offset,length) - return bitfield","GET_BITS(,,)"],
							["SET_BITS(curr_val,offset,length,bitfield) - return curr_val with injected bitfield","SET_BITS(,,,)"],
							//["COPY_TO_BITFIELD(source_array,bitfield,array_offset) - copy data into bitfield","COPY_TO_BITFIELD(,,)"],
							//["COPY_FROM_BITFIELD(dest_array,bitfield,array_offset) - copy data from bitfield","COPY_from_BITFIELD(,,)"],
				]
		},
		{group:"Advanced IO/PLC Array/Int Operations - could overlap with mapped IO", 
				elements:[
							["GET_IO_INP_INT(slot,bit_io_offset,bit_length)","GET_IO_INP_INT(,,)"],
							["SET_IO_OUTP_INT(slot,bit_io_offset,bit_length,int_value)","SET_IO_OUTP_INT(,,,)"],
							["SET_IO_PARAM_INT(slot,bit_io_offset,bit_length,int_value)","SET_IO_PARAM_INT(,,,)"],
							["GET_IO_PARAM_INT(slot,bit_io_offset,bit_length)","SET_IO_PARAM_INT(,,)"],
							["GET_IO_DIAG_INT(slot,bit_io_offset,bit_length)","GET_IO_DIAG_INT(,,)"],
							["GET_IO_INP_ARR(slot,dest_arr,dst_arr_offset,byte_io_offset,byte_length)","GET_IO_INP_ARR(,,,,)"],
							["SET_IO_OUTP_ARR(slot,src_arr,src_arr_offset,byte_io_offset,byte_length)","SET_IO_OUTP_ARR(,,,,)"],
							["GET_IO_DIAG_ARR(slot,dest_arr,dst_arr_offset,byte_io_offset,byte_length)","GET_IO_DIAG_ARR(,,,,)"],
							["GET_PLC_INP_ARR(dest_arr,byte_plc_offset,byte_length)","GET_PLC_INP_ARR(,,)"],
							["SET_PLC_OUTP_ARR(src_arr,byte_plc_offset,byte_length)","SET_PLC_OUTP_ARR(,,)"],
							["WRITE_DS(stream_id,array,msg_len)","WRITE_DS(,,)"],
							["READ_DS(stream_id,array,received_len)","READ_DS(,,)"],
						 ]
		},
		{group:"Protocol Conversion - Endianess", 
				elements:[
							["LE_GET_16BIT(arr,offset) -  returns extracted value","LE_GET_16BIT(,)"],
							["BE_GET_16BIT(arr,offset) -  returns extracted value","BE_GET_16BIT(,)"],
							["LE_GET_32BIT(arr,offset) -  returns extracted value","LE_GET_32BIT(,)"],
							["BE_GET_32BIT(arr,offset) -  returns extracted value","BE_GET_32BIT(,)"],
							["LE_SET_16BIT(arr,offset,val) -  sets value in the array offset","LE_SET_16BIT(,,)"],							
							["BE_SET_16BIT(arr,offset,val) -  sets value in the array offset","BE_SET_16BIT(,,)"],
							["LE_SET_32BIT(arr,offset,val) -  sets value in the array offset","LE_SET_32BIT(,,)"],
							["BE_SET_32BIT(arr,offset,val) -  sets value in the array offset","BE_SET_32BIT(,,)"],
						 ]
		},
	];
	
	// from https://dev.to/urfan/leetcode-longest-common-prefix-with-javascript-32ca
	function longestCommonPrefix(strs) 
	{
		let prefix = ""
		if(strs === null || strs.length === 0) return prefix

		for (let i=0; i < strs[0].length; i++){ 
			const char = strs[0][i] // loop through all characters of the very first string. 

			for (let j = 1; j < strs.length; j++){ 
			  // loop through all other strings in the array
				if(strs[j][i] !== char) return prefix
			}
			prefix = prefix + char
		}

		return prefix
	}
		
	var unique_name_list=[];
	
	// This is only for var_reg and funct_block_elem_var
	function createDatapointHierarchy(elem,type,title,prefix,parent, nesting)
	{
		var i;
		var res={};
		var curr_title;
		var suffix="";
		var curr_prefix;
		res.list=[];
		res.parent=parent;
		
		curr_title=title;
		curr_prefix=prefix;
		
		
		
		if (
				(elem.type==block_types.reg_var)||
				(elem.type==block_types.funct_block_elem_var)
		   )
		{
			res.name=elem.values[0];
			res.type="("+elem.values[1]+")";
			res.act_type=elem.values[1];
			
			
			
			if (elem.type==block_types.funct_block_elem_var)
			{
				res.num_elems=elem.values[3];
			}
			else
			{
				res.num_elems=elem.values[2];
			}
			if (res.num_elems!=0)
			{
				res.type+=" []";
			}
		}
		else if (elem.type==block_types.enum_var)
		{
			res.name=title;
			res.type="";
			
		}
		else if (elem.type==block_types.alias_vars)
		{
			res.name=title;
			res.type="";
			
		}
		else if (elem.type==block_types.funct_block_var)
		{
			//res.name=elem.values[0];
			res.name=title;
			res.type="";
			var jk=1;
			
		}
		else if (elem.type==block_types.enum_var_elem)
		{
			res.name=elem.values[0]
			res.type="";
			res.insert_str=elem.values[0];
		}
		else if (elem.type==block_types.alias_var)
		{
			res.name=elem.values[0];
			res.type="";
			res.insert_str=elem.values[0];			
		}

		// modify the unique_name_list
		if ((elem.type==block_types.enum_var_elem)||
		    (elem.type==block_types.alias_var)||
			(elem.type==block_types.reg_var))
		{
			unique_name_list[unique_name_list.length]=res.name.toUpperCase();
		}

		// construct title/prefix for slaves to used
		if (
				(elem.type==block_types.reg_var)||
				(elem.type==block_types.funct_block_elem_var)
		   )
		{
			
			suffix=elem.values[0];
			if (curr_prefix.length==0)
			{
				curr_title+=" : ";
			}
			else if (curr_prefix.length>0)
			{
				curr_prefix+=".";
				curr_title+=".";
			}
			
			if (res.num_elems!=0)
			{
				suffix+="[]"
			}
			curr_title+=suffix;
			res.insert_str=curr_prefix+suffix;
			
			
			
		}
		res.title=curr_title;



		if (elem.sub_elems!=undefined)
		{
			for(i=0;i<elem.sub_elems.length;i++)
			{
				var curr_elem=elem.sub_elems[i];
				if (
					 (curr_elem.type==block_types.reg_var)||
					 (curr_elem.type==block_types.funct_block_elem_var)||
					 (curr_elem.type==block_types.enum_var_elem)||
					 (curr_elem.type==block_types.alias_var)
				   )
				{
					if (curr_elem.values[0]!=default_task_name)
					{
						res.list[res.list.length]=createDatapointHierarchy(curr_elem,type,curr_title,curr_prefix+suffix,res,nesting+1);
					}
				}
			}
		}
		if (
				(elem.type==block_types.reg_var)||
				(elem.type==block_types.funct_block_elem_var)
		   )
		{
		   
			if (((elem.sub_elems==undefined)||(elem.sub_elems.length==0))&&(prog_var_types_enum.indexOf(res.act_type)>=fixed_var_types_enum))
			{
				// combinational element
				var func_block=findFunctBlock(res.act_type);
				if (func_block!=null)
				{
					var args=0;
					var struct=false;
					// update the variable list in insert string
					
					
					
					for(i=0;i<func_block.sub_elems.length;i++)
					{
						if (func_block.sub_elems[i].type==block_types.funct_block_elem_var)
						{
							var curr_elem=func_block.sub_elems[i];
							res.list[res.list.length]=createDatapointHierarchy(curr_elem,type,curr_title,curr_prefix+suffix,res,nesting+1);
							if (parseInt(func_block.sub_elems[i].values[2])>0)
							{
								args++;
							}
						}
						if (func_block.sub_elems[i].type==block_types.funct_block_def)
						{
							struct=true;
						}
					}
					if (struct==false)
					{
						res.insert_str+="(";
						if (args>1)
						{
							for(i=0;i<(args-1);i++)
							{
								res.insert_str+=",";
							}
						}
						res.insert_str+=")";
					}
				}
				var jk=1;
			}
		}

		updateDatapointDisplayStruct(res);
		
		
		// recursion detection
		if (nesting>10)
		{
			throw "Too deep";
		}
		return res;
	}
	
	
	function createFuncProcDatapoint(elem,parent)
	{
		var res={};
		res.list=[];
		res.parent=parent;
		var title=elem.values[0];
		res.title=title;
		res.name=title;
		res.type="";
		res.insert_str=title;
		
		var args=[];
		var i;
		// update the variable list in insert string
		for(i=0;i<elem.sub_elems.length;i++)
		{
			if (elem.sub_elems[i].type==block_types.funct_block_elem_var)
			{
				var curr_elem=elem.sub_elems[i];
				if (parseInt(elem.sub_elems[i].values[2])>0)
				{
					args[args.length]=elem.sub_elems[i].values[0];
				}
			}
		}
		res.insert_str+="(";
		res.name+="("
		if (args.length>0)
		{
			res.name+=args[0];
		}
		if (args.length>1)
		{
			for(i=1;i<args.length;i++)
			{
				res.insert_str+=",";
				res.name+=","+args[i];
			}
		}
		res.insert_str+=")";
		res.name+=")"
		return res;
	}
	
	function updateDatapointDisplayStruct(res)
	{
		if (res.list.length>0)
		{
			// create complete string for each sub-item
			var left_arrow_present=false;
			var right_arrow_present=false;
			var longest_name=0;
			var longest_type=0;
			if (res.parent!=null)
			{
				left_arrow_present=true;
			}
			for(i=0;i<res.list.length;i++)
			{
				if (res.list[i].list.length>0)
				{
					right_arrow_present=true;
				}
			}
			for(i=0;i<res.list.length;i++)
			{
				if (res.list[i].name.length>longest_name)
				{
					longest_name=res.list[i].name.length;
				}
				if (res.list[i].type.length>longest_type)
				{
					longest_type=res.list[i].type.length;
				}
			}
			for(i=0;i<res.list.length;i++)
			{
				res.list[i].display_str="";
				if (left_arrow_present==true)
				{
					res.list[i].display_str+="<- ";
				}
				res.list[i].display_str+=res.list[i].name.padEnd(longest_name);
				res.list[i].display_str+=" ";
				res.list[i].display_str+=res.list[i].type.padEnd(longest_type);
				res.list[i].display_str+=" ";
				
				if (right_arrow_present==true)
				{
					if ((res.title.length+4)>res.list[i].display_str.length)
					{
						res.list[i].display_str=res.list[i].display_str.padEnd(res.title.length+4);
					}
					if (res.list[i].list.length>0)
					{
						res.list[i].display_str+="->";
					}
					else
					{
						res.list[i].display_str+="  ";
					}
				}
			}
			if (left_arrow_present==true)
			{
				res.act_elem_first_varname_char=3;
			}
			else
			{
				res.act_elem_first_varname_char=1;
			}
			
			if (right_arrow_present==true)
			{
				res.act_elem_last_varname_char=res.list[0].display_str.length-3;
			}
			else
			{
				res.act_elem_last_varname_char=res.list[0].display_str.length-1;
			}
			res.act_elem_max_chars=res.list[0].display_str.length;

			
		}
	
	
	}
	
	
	function createDatapointMenuItem(title,parent,type)
	{
		var res={};
		res.list=[];
		res.parent=parent;
		
		res.title=title;
		res.name=title;
		res.prefix="";
		res.type="";
		return res;
	}
	
	function addChildElemsToDatapointMenu(item,child_elems)
	{
		var i;
		for(i=0;i<child_elems.length;i++)
		{
			item.list[item.list.length]=child_elems[i];
			// adjust the parent pointer (needed for globals in modules which are then stripped from modules and added to the 
			// main global var list.
			child_elems[i].parent=item;
		}
		updateDatapointDisplayStruct(item);
	}
	
	
	
	var event_type=
	{
		GLOB:0, // global  variables
		LOC:1,
		LIO:2, // local_io, PLC vars
		ENUM:3,  // all states
		PROG_FUNC:4, // includes module and built-in functions
		PROG_PROC:5, // procedures
		HMI_FUNC:6,
		ALIAS:7,
		SPECIAL_GLOBAL_VARS:8, // PLC_CONNECTED, PROG_CYCLE_TIME
		BITMAP_NAMES:9, // used for HMI
		FUNC:10,      //  old event for functions. Should not be used in the bitfield
		EDITOR:11,     // add/remove blocks, selection, commenting 
		ADD_BLOCK_ABOVE:12,
		ADD_BLOCK_BELOW:13,
		ADD_BLOCK_INSIDE:14,
	};



	
	
	function getEnumAndGlobals()
	{
		keyMenuTargElement={dataset:{elem_index:"[0,0]",glob_index:"[0,0]"}};
		createAllDatapoints(event_type.GLOB);
		return unique_name_list;
	}

	function addBlockFromKeyboardShortcut(place,item)
	{
		keyMenuTargElement.blur();
		//handleEvent(event.CHANGE,keyMenuTargElement);
		var parent_elem=getParentArr(item.func_args[0]);
		var jk1=1;
		var elem=handleElemOp(parent_elem,item.func_args[1],item.func_args[0],place,0,0);		
		redraw_list[screens.prog_scr].func();
		//var newElem=findTD_Elem(document.querySelectorAll('[data-elem_index=\''+JSON.stringify(elem.index)+'\']'));
		var first_edit_elem=findFirstEditableElem(document.querySelectorAll('[data-elem_index=\''+JSON.stringify(elem.index)+'\']'));

		proj_elems.editor=ENV.ARGEE;
		setLocalStorage("prog_code",JSON.stringify(proj_elems));
		first_edit_elem.focus();
	}

	function BLOCK_add_inside(item)
	{
		addBlockFromKeyboardShortcut(event.ADD_INTO,item);
	}
	function BLOCK_add_above(item)
	{
		addBlockFromKeyboardShortcut(event.ADD_ABOVE,item);
	}
	
	function BLOCK_add_below(item)
	{
		addBlockFromKeyboardShortcut(event.ADD_BELOW,item);
	}
	
	function createAllDatapoints(event_passed)
	{
		var datapoints=[];
		var i,j,k;
		
		unique_name_list=[];
		
		try
		{
			var actElemBlock=DESCR.getElemFromIndex(JSON.parse(keyMenuTargElement.dataset.elem_index));
			var actElem=keyMenuTargElement;
			var event_bitfield=0;
			
			
			// first select allowed actions based off the shortcuts
			if (event_passed==event_type.GLOB)
			{
					event_bitfield|=(1<<event_type.GLOB)|
								   (1<<event_type.LOC)|
								   (1<<event_type.LIO)|
								   
								   (1<<event_type.ENUM)|
								   (1<<event_type.BITMAP_NAMES)|
								   (1<<event_type.PROG_FUNC)|
								   (1<<event_type.PROG_PROC)|
								   (1<<event_type.SPECIAL_GLOBAL_VARS)|
								   (1<<event_type.ALIAS)|
								   
								   (1<<event_type.HMI_FUNC);
			}
			else if (event_passed==event_type.LIO)
			{
					event_bitfield|=(1<<event_type.LIO);
			}
			else if (event_passed==event_type.LOC)
			{
					event_bitfield|=(1<<event_type.LOC);
			}
			else if (event_passed==event_type.FUNC)
			{
					event_bitfield|=(1<<event_type.PROG_FUNC);
					event_bitfield|=(1<<event_type.HMI_FUNC);
			}
			else if (event_passed==event_type.ENUM)
			{
					event_bitfield|=(1<<event_type.ENUM);
					event_bitfield|=(1<<event_type.BITMAP_NAMES);
			}
			else if (event_passed==event_type.ADD_BLOCK_ABOVE)
			{
					event_bitfield|=(1<<event_type.ADD_BLOCK_ABOVE);
			}
			else if (event_passed==event_type.ADD_BLOCK_BELOW)
			{
					event_bitfield|=(1<<event_type.ADD_BLOCK_BELOW);
			}
			else if (event_passed==event_type.ADD_BLOCK_INSIDE)
			{
					event_bitfield|=(1<<event_type.ADD_BLOCK_INSIDE);
			}
			
			

			// reduce the event_bitfield based on the specifics of the field it is invoked in.
			if (actElem.dataset.elem_force_glob_and_io_disp!=undefined)
			{
				event_bitfield=(1<<event_type.LIO)|(1<<event_type.GLOB);
			}
			else if (actElem.dataset.elem_force_enum_value_disp!=undefined)
			{
				event_bitfield=(1<<event_type.ENUM);
		
			}
			else if (actElem.dataset.glob_index==undefined)
			{
				event_bitfield=1<<event_type.ENUM;
			}
			else if (
					     (actElemBlock.type==block_types.hmi_grid_screen)||
						 (actElemBlock.type==block_types.hmi_grid_row)||
						 (actElemBlock.type==block_types.hmi_grid_section)||
						 (actElemBlock.type==block_types.hmi_grid_elem)||
						 (actElemBlock.type==block_types.hmi_block)||
						 (actElemBlock.type==block_types.hmi_control)||
						 (actElemBlock.type==block_types.hmi_block_screen)
					)
			{
				event_bitfield&=~(1<<event_type.PROG_FUNC);
				event_bitfield&=~(1<<event_type.PROG_PROC);
				event_bitfield&=~(1<<event_type.LOC);
			}
			else 
			{
				if (
					     (actElemBlock.type!=block_types.hmi_grid_screen)&&
						 (actElemBlock.type!=block_types.hmi_grid_row)&&
						 (actElemBlock.type!=block_types.hmi_grid_section)&&
						 (actElemBlock.type!=block_types.hmi_grid_elem)&&
						 (actElemBlock.type!=block_types.hmi_block)&&
						 (actElemBlock.type!=block_types.hmi_control)&&
						 (actElemBlock.type!=block_types.hmi_block_screen)
					)
				{
					event_bitfield&=~(1<<event_type.BITMAP_NAMES);
					event_bitfield&=~(1<<event_type.HMI_FUNC);
				}
				if ((event_passed==event_type.GLOB)&&(actElem.dataset.loc_index!=undefined)&&(actElem.dataset.glob_index.localeCompare(actElem.dataset.loc_index)==0))
				{
					event_bitfield=1<<event_type.LOC;
				}
				
			}
			
			
			
			
			
		
			var root=createDatapointMenuItem("Root",null,0);
			
			
				
				
			
				var global_datapoints=createDatapointMenuItem("Globals",root,0);
				addChildElemsToDatapointMenu(global_datapoints,createDatapointHierarchy(getElemFromIndex([0,0]),0,"Globals","",global_datapoints,0).list);
				
				//datapoints[datapoints.length]=createDatapointHierarchy(getElemFromIndex([0,0]),0,"Globals","",null,0);
				
				var enums_datapoints=createDatapointMenuItem("States",root,0);
				
				// alias variables
				var alias_datapoints=createDatapointHierarchy(getElemFromIndex([0,1]),0,"Aliases","",root,0);
				
				// Local function block vars
				var loc_var_datapoints=createDatapointMenuItem("Local Vars",root,0);
				if ((actElem.dataset.loc_index!=undefined)&&(actElem.dataset.loc_index!="null"))
				{
					var loc_func_block_index=JSON.parse(actElem.dataset.loc_index);
					var loc_fb=getElemFromIndex(loc_func_block_index);
					if ((descr_lookup[loc_fb.type].render_init==true)||(loc_fb.sub_elems==undefined))
					{
						var type=num(getProgTypeInd(loc_fb.values[1]))
						loc_fb=findFunctBlock(prog_var_types_enum[type]);
					}

					// overwrite
					loc_var_datapoints=createDatapointHierarchy(loc_fb,0,"Local Vars","",root,0);
				}
				/*var func_block_local_datapoints=createDatapointMenuItem("Local Vars",root,1);
				datapoints[datapoints.length]=func_block_local_datapoints;
				
				addChildElemsToDatapointMenu(func_block_local_datapoints,
															  [createDatapointHierarchy(loc_fb,0,loc_fb.values[0],"",func_block_local_datapoints,0)]);
				*/
				
				var user_func_datapoints=createDatapointMenuItem("Functions   (User Defined)",root,0);
				var user_proc_datapoints=createDatapointMenuItem("Procedures  (User Defined)",root,0);
				
				
				for(i=0;i<proj_elems.sub_elems.length;i++)
				{
			
					if (proj_elems.sub_elems[i].type==block_types.module)
					{
						var proc_datapoints=createDatapointMenuItem(proj_elems.sub_elems[i].values[0]+" Procedures",user_proc_datapoints,0);
						var functions_datapoints=createDatapointMenuItem(proj_elems.sub_elems[i].values[0]+" Functions",user_func_datapoints,0);
						for(j=0;j<proj_elems.sub_elems[i].sub_elems.length;j++)
						{
							if (proj_elems.sub_elems[i].sub_elems[j].type==block_types.funct_block_var)
							{
								var fb_type=parseInt(proj_elems.sub_elems[i].sub_elems[j].values[1]);
								
								if (fb_type==func_block_type_num.PROCEDURE)
								{
									proc_datapoints.list[proc_datapoints.list.length]=createFuncProcDatapoint(proj_elems.sub_elems[i].sub_elems[j],
																											  proc_datapoints);	
								}
								if (fb_type==func_block_type_num.FUNCTION)
								{
									var func_datapoint=createFuncProcDatapoint(proj_elems.sub_elems[i].sub_elems[j],
																											  functions_datapoints);	
									func_datapoint.display_help_at_top=true;
									functions_datapoints.list[functions_datapoints.list.length]=func_datapoint;
								}
								var jk1=1;
								//addChildElemsToDatapointMenu(func_block_local_datapoints,
								//							  [createDatapointHierarchy(proj_elems.sub_elems[i].sub_elems[j],0,proj_elems.sub_elems[i].sub_elems[j].values[0],"",func_block_local_datapoints,0)]);
							}
							if (proj_elems.sub_elems[i].sub_elems[j].type==block_types.module_variables)
							{
								addChildElemsToDatapointMenu(global_datapoints,createDatapointHierarchy(proj_elems.sub_elems[i].sub_elems[j],0,"Globals","",global_datapoints,0).list);
								//datapoints[datapoints.length]=createDatapointHierarchy(proj_elems.sub_elems[i].sub_elems[j],0,"Globals","",null,0);
							}
							// also need to handle alias variables and enums
							if (proj_elems.sub_elems[i].sub_elems[j].type==block_types.enum_var)
							{
								var k;
								var strs=[];
								for(k=0;k<proj_elems.sub_elems[i].sub_elems[j].sub_elems.length;k++)
								{
									if (proj_elems.sub_elems[i].sub_elems[j].sub_elems[k].type==block_types.enum_var_elem)
									{
										strs[k]=proj_elems.sub_elems[i].sub_elems[j].sub_elems[k].values[0];
									}
								}
								addChildElemsToDatapointMenu(enums_datapoints,[createDatapointHierarchy(proj_elems.sub_elems[i].sub_elems[j],0,longestCommonPrefix(strs)+"...","",enums_datapoints,0)]);
							}
						}
						if (proc_datapoints.list.length>0)
						{
							updateDatapointDisplayStruct(proc_datapoints);
							addChildElemsToDatapointMenu(user_proc_datapoints,[proc_datapoints]);

						}
						if (functions_datapoints.list.length>0)
						{
							updateDatapointDisplayStruct(functions_datapoints);
							addChildElemsToDatapointMenu(user_func_datapoints,[functions_datapoints]);
						}
					}
				}
				
				var delete_block_datapoints=createDatapointMenuItem("Delete Block",root,0);
				var descr=findBlockDescr(actElemBlock.type);
				var add_above,add_below,add_inside;
				add_above=createDatapointMenuItem("Add Above",root,0);
				add_below=createDatapointMenuItem("Add Below",root,0);	
				add_inside=createDatapointMenuItem("Add Inside",root,0);	
			
			
			
				{
					// rearrange global variables
					function reArrangeVars(a,b)
					{
						if (a.name<b.name)
						{
							return -1;
						}
						if (a.name>b.name)
						{
							return 1;
						}
						return 0;
					}
					global_datapoints.list.sort(reArrangeVars);
					
				}
				
				{
					var curr_blocks=[];	
					var parent_elem=getParentArr(JSON.parse(keyMenuTargElement.dataset.elem_index));
					var parent_descr=findBlockDescr(parent_elem.type);
					
					
					var all_add_blocks=[add_above,add_below,add_inside];
					var all_add_blocks_func_names=["BLOCK_add_above","BLOCK_add_below","BLOCK_add_inside"];
					for(i=0;i<3;i++)
					{
						curr_level_blocks=[];	
						var ref_parent=null; 
						if ((i==2)&&(descr.nested_blocks!=undefined))
						{
							
							ref_parent=descr;
						}
						else
						{
							ref_parent=parent_descr;
						}
						if (ref_parent!=null)
						{
							for(j=0;j<ref_parent.nested_blocks.length;j++)
							{
								var elem_descr=findBlockDescr(ref_parent.nested_blocks[j]);
								var tmp_block=createDatapointMenuItem(elem_descr.title,all_add_blocks[i],0);
								tmp_block.type="";
								tmp_block.insert_str="";
								tmp_block.exec_func=all_add_blocks_func_names[i]
								tmp_block.func_args=[actElemBlock.index,ref_parent.nested_blocks[j]];
								curr_level_blocks[curr_level_blocks.length]=tmp_block;
							}
							addChildElemsToDatapointMenu(all_add_blocks[i],curr_level_blocks);
						}
					}
				}
				
				
				
				// Add special variables to global datapoints
				{
					var special_var_list=[];
					var special_var;
					special_var=createDatapointMenuItem("PLC_CONNECTED",global_datapoints,0);
					special_var.type="(Number)"
					special_var.insert_str="PLC_CONNECTED";
					special_var_list[special_var_list.length]=special_var;

					special_var=createDatapointMenuItem("PROG_CYCLE_TIME",global_datapoints,0);
					special_var.type="(Number)"
					special_var.insert_str="PROG_CYCLE_TIME";
					special_var_list[special_var_list.length]=special_var;
					
					addChildElemsToDatapointMenu(global_datapoints,special_var_list);

				}
				
				
				var hmi_image_list=createDatapointMenuItem("HMI Images",root,0);
				var hmi_image_var_list=[];
				for(i=0;i<hmi_image_variables.length;i++)
				{
					var tmp=createDatapointMenuItem(hmi_image_variables[i],hmi_image_list);
					tmp.insert_str="\""+hmi_image_variables[i]+"\"";
					hmi_image_var_list[hmi_image_var_list.length]=tmp;
				}
				addChildElemsToDatapointMenu(hmi_image_list,hmi_image_var_list);
				
				
				
				// build-in functions
				var build_in_func_list=createDatapointMenuItem("Functions   (Built-in)",root,0);
				var func_groups=[];
				for(i=0;i<function_group_list.length;i++)
				{
					var func_group=createDatapointMenuItem(function_group_list[i].group,build_in_func_list,0);
					var child_group=[];
					for(j=0;j<function_group_list[i].elements.length;j++)
					{
						var func_elem=createDatapointMenuItem(function_group_list[i].elements[j][0],func_group,0);
						func_elem.insert_str=function_group_list[i].elements[j][1];
						func_elem.display_help_at_top=true;
						child_group[child_group.length]=func_elem;
					}
					addChildElemsToDatapointMenu(func_group,child_group);
					func_groups[func_groups.length]=func_group;
				}
				addChildElemsToDatapointMenu(build_in_func_list,func_groups);
				
				// IO datapoints
				io_datapoints=createDatapointMenuItem("IO", root, 0);
				var slot_group=[];
				for(i=0;i<IO_ids.length;i++)
				{
					var slice_index=findIndex(IO_ids[i]);
					var slot_name=SIM.getSlotName(i,true);
					var slot_datapoint=createDatapointMenuItem(slot_name, io_datapoints, 0);
					var sect_list=[];
					slot_datapoint.type="  ("+slices[slice_index].name+") ";
					for(j=0;j<slices[slice_index].sections.length;j++)
					{
						if (j!=sect_type.param)
						{
							var section_datapoint=createDatapointMenuItem("IO_"+slot_name+"_"+sect_names[j], slot_datapoint, 0);
							var io_data_list=[];
							for(k=0;k<slices[slice_index].sections[j].objects.length;k++)
							{
								var act_datapoint=createDatapointMenuItem("IO_"+slot_name+"_"+sect_names[j]+"_"+slices[slice_index].sections[j].objects[k].name, section_datapoint, 0);
								act_datapoint.insert_str="IO_"+slot_name+"_"+sect_names[j]+"_"+slices[slice_index].sections[j].objects[k].name;
								io_data_list[io_data_list.length]=act_datapoint;
							}
							addChildElemsToDatapointMenu(section_datapoint,io_data_list);
							sect_list[sect_list.length]=section_datapoint;
						}
					}
					addChildElemsToDatapointMenu(slot_datapoint,sect_list);
					slot_group[slot_group.length]=slot_datapoint;
				}
				
				{
					for(j=0;j<2;j++,i++)
					{
						// Add PLC datapoints
						var slot_name;
						if (j==0)
						{
							slot_name="ARGEE_TO_PLC";
						}
						else
						{
							slot_name="PLC_TO_ARGEE";
						}
						var slot_datapoint=createDatapointMenuItem(slot_name, io_datapoints, 0);
						
						var io_data_list=[]	
						for(k=0;k<240;k++)
						{
							var act_datapoint=createDatapointMenuItem("IO_"+slot_name+"_Word"+k, slot_datapoint, 0);
							act_datapoint.insert_str="IO_"+slot_name+"__Word"+k;
							io_data_list[io_data_list.length]=act_datapoint;
						}
						addChildElemsToDatapointMenu(slot_datapoint,io_data_list);
						slot_group[slot_group.length]=slot_datapoint;
					}
				}
				addChildElemsToDatapointMenu(io_datapoints,slot_group);
				
				
				
				// HMI Functions handling
				var hmi_func_list=createDatapointMenuItem("Functions   (HMI)",root,0);				
				{
					var descr=descr_lookup[actElemBlock.type];
					if (descr.hmi_func_array!=undefined)
					{
				
						var child_group=[];
						var hmi_functions_group_list=DESCR[descr.hmi_func_array];
						for(i=0;i<hmi_functions_group_list.length;i++)
						{
							var func_elem=createDatapointMenuItem(hmi_functions_group_list[i][0],hmi_func_list,0);
							func_elem.insert_str=hmi_functions_group_list[i][1];
							child_group[child_group.length]=func_elem;
						}
						addChildElemsToDatapointMenu(hmi_func_list,child_group);
					}
					else
					{
						var fb_type=-1;
						if (descr.type==block_types.hmi_block)
						{
							fb_type=func_block_type_num.HMI_BLOCK;
						}
						else if (descr.type==block_types.hmi_control)
						{
							fb_type=func_block_type_num.HMI_CONTROL;
						}
						else if (descr.type==block_types.hmi_block_screen)
						{
							fb_type=func_block_type_num.HMI_BLOCK;
						}
							
						if (fb_type!=-1)
						{
							var j=0;
							var child_group=[];							
							for(i=0;i<func_blocks_with_hmi_helpers.length;i++)
							{
								
								if (func_blocks_with_hmi_helpers[i].ptr.values[1]==fb_type)
								{
									var func_elem=createDatapointMenuItem(func_blocks_with_hmi_helpers[i].help_string,hmi_func_list,0);
									func_elem.insert_str=func_blocks_with_hmi_helpers[i].barebone_string;
									child_group[child_group.length]=func_elem;
								}
							}
							addChildElemsToDatapointMenu(hmi_func_list,child_group);
						}
					}
				}
				
				
				// add datapoints only if they are in the bitfield
				if ((event_bitfield&(1<<event_type.GLOB))!=0)
				{
					if (global_datapoints.list.length>0)
					{
						datapoints[datapoints.length]=global_datapoints;
					}
				}
				if ((event_bitfield&(1<<event_type.ALIAS))!=0)
				{
					if (alias_datapoints.list.length>0)
					{
						datapoints[datapoints.length]=alias_datapoints;
					}
				}

				if ((event_bitfield&(1<<event_type.LOC))!=0)
				{
					if (loc_var_datapoints.list.length>0)
					{
						datapoints[datapoints.length]=loc_var_datapoints;
					}
				}
					
				if ((event_bitfield&(1<<event_type.PROG_PROC))!=0)
				{
					if (user_proc_datapoints.list.length>0)
					{
						datapoints[datapoints.length]=user_proc_datapoints;
					}
				}
				if ((event_bitfield&(1<<event_type.PROG_FUNC))!=0)
				{
					datapoints[datapoints.length]=build_in_func_list;
				}
				
				if ((event_bitfield&(1<<event_type.PROG_FUNC))!=0)
				{
					if (user_func_datapoints.list.length>0)
					{
						datapoints[datapoints.length]=user_func_datapoints;
					}
				}

				if ((event_bitfield&(1<<event_type.ENUM))!=0)
				{
					if (enums_datapoints.list.length>0)
					{
						datapoints[datapoints.length]=enums_datapoints;
					}
				}

				if ((event_bitfield&(1<<event_type.HMI_FUNC))!=0)
				{
					if (hmi_func_list.list.length>0)
					{
						datapoints[datapoints.length]=hmi_func_list;
					}
				}
				
				if ((event_bitfield&(1<<event_type.LIO))!=0)
				{
					datapoints[datapoints.length]=io_datapoints;
				}

				if ((event_bitfield&(1<<event_type.ADD_BLOCK_ABOVE))!=0)
				{
					datapoints[datapoints.length]=add_above;
				}
				if ((event_bitfield&(1<<event_type.ADD_BLOCK_BELOW))!=0)
				{
					datapoints[datapoints.length]=add_below;
				}
				if ((event_bitfield&(1<<event_type.ADD_BLOCK_INSIDE))!=0)
				{
					datapoints[datapoints.length]=add_inside;
				}
				
				if ((event_bitfield&(1<<event_type.BITMAP_NAMES))!=0)
				{
					datapoints[datapoints.length]=hmi_image_list;
				}
				

				

				
				addChildElemsToDatapointMenu(root,datapoints);
				if (root.list.length==1)
				{
					// only 1 item in the root -> shift the root
					root=root.list[0];
					root.parent=null;
				}
		}
		catch(e)
		{
			alert("Possible recursion detected");
		}

		
		return root;

	
	}
	
	/*function createGlobAndEnumLists()
	{
		var i,ii,iii,name,j,k;
		// create combined global/PLC variables
		combined_glob_io_alias_vars=createNewElem(findBlockDescr(block_types.comb_glob_vars));
		
		
		var source=getElemFromIndex([0,0]);
		for(i=0;i<source.sub_elems.length;i++)
		{
			if ((source.sub_elems[i].type==block_types.reg_var)&&(source.sub_elems[i].values[0].localeCompare(default_task_name)==0))
			{
			}
			else
			{
				combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length]=source.sub_elems[i];
			}
		}
		source=getElemFromIndex([0,1]);
		for(i=0;i<source.sub_elems.length;i++)
		{
			combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length]=source.sub_elems[i];
		}
		
		combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length]=createNewElem(findBlockDescr(block_types.enum_var_elem));	
		combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length-1].values[0]="PLC_CONNECTED";
		combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length]=createNewElem(findBlockDescr(block_types.enum_var_elem));			
		combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length-1].values[0]="PROG_CYCLE_TIME";
		
		
		
		// Global variables inside modules
		for (k=0;k<proj_elems.sub_elems.length;k++)
		{
			if (proj_elems.sub_elems[k].type==block_types.module)
			{
				var source=proj_elems.sub_elems[k];
				for(i=0;i<source.sub_elems.length;i++)
				{
					if (source.sub_elems[i].type==block_types.module_variables)
					{
						for(j=0;j<source.sub_elems[i].sub_elems.length;j++)
						{
							combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length]=source.sub_elems[i].sub_elems[j];
						}
					}
				}
			}
		}

		
		
      combined_enumerations=createNewElem(findBlockDescr(block_types.comb_state_vars));
		for (k=0;k<proj_elems.sub_elems.length;k++)
		{
			if (proj_elems.sub_elems[k].type==block_types.module)
			{
				var source=proj_elems.sub_elems[k];
				for(i=0;i<source.sub_elems.length;i++)
				{
					if (source.sub_elems[i].type==block_types.enum_var)
					{
						for(j=0;j<source.sub_elems[i].sub_elems.length;j++)
						{
                     combined_enumerations.sub_elems[combined_enumerations.sub_elems.length]=source.sub_elems[i].sub_elems[j];						
                  }
					}
				}
			}
		}
		
	}
	*/
	
	function findParamDatapointDescr(name_to_compare)
	{
		var i,ii,iii,name;
		// IO Variables
		for(i=0;i<IO_ids.length;i++)
		{
			var slice_index=findIndex(IO_ids[i]);
			//for(ii=0;ii<slices[slice_index].sections.length;ii++)
			ii=sect_type.param;
			{
				//if (slices[slice_index].sections[ii].type==sect_type.param)
				{
					for(iii=0;iii<slices[slice_index].sections[ii].objects.length;iii++)
					{
						name="IO_"+SIM.getSlotName(i,true)+"_"+sect_names[ii]+"_"+slices[slice_index].sections[ii].objects[iii].name;
						if (name_to_compare.toUpperCase().localeCompare(name.toUpperCase())==0)
						{
							return {slot:i,sect:ii,obj:iii};
						}
					}
				}
			}
		}
		return null;
	}
	
/*	function createDynamicDatapoints()
	{
		var i,j,k,slot;
		
		//createAllDatapoints(event_type.GLOB);
		
		
		function_list_datapoints=createNewElem(findBlockDescr(block_types.local_io_var));
		for(i=0;i<function_group_list.length;i++)
		{
			function_list_datapoints.sub_elems[i]=createNewElem(findBlockDescr(block_types.local_io_slot));
			function_list_datapoints.sub_elems[i].values[0]=function_group_list[i].group;
			for(j=0;j<function_group_list[i].elements.length;j++)
			{
				function_list_datapoints.sub_elems[i].sub_elems[j]=createNewElem(findBlockDescr(block_types.local_io_elem));	
				function_list_datapoints.sub_elems[i].sub_elems[j].values[0]=function_group_list[i].elements[j][0];
				function_list_datapoints.sub_elems[i].sub_elems[j].values[4]=function_group_list[i].elements[j][1];
			}
		}
		
		
		local_io_datapoints=createNewElem(findBlockDescr(block_types.local_io_var));
		var local_io_param_only=false;
		

		for(i=0;i<IO_ids.length;i++)
		{
			var slice_index=findIndex(IO_ids[i]);
			local_io_datapoints.sub_elems[i]=createNewElem(findBlockDescr(block_types.local_io_slot));
			// slot number
			local_io_datapoints.sub_elems[i].values[0]=SIM.getSlotName(i,true);
			local_io_datapoints.sub_elems[i].values[1]=slices[slice_index].name;
			local_io_datapoints.sub_elems[i].values[2]=slices[slice_index].id;
			
			for(j=0;j<slices[slice_index].sections.length;j++)
			{
				if ((((j!=sect_type.param)&&(local_io_param_only==false))||
				      ((j==sect_type.param)&&(local_io_param_only==true)))&&(slices[slice_index].sections[j].objects.length>0))
				{
					var latest_segm=local_io_datapoints.sub_elems[i].sub_elems.length;
					local_io_datapoints.sub_elems[i].sub_elems[latest_segm]=createNewElem(findBlockDescr(block_types.local_io_sect));	
					local_io_datapoints.sub_elems[i].sub_elems[latest_segm].values[0]=sect_names[j];
					for(k=0;k<slices[slice_index].sections[j].objects.length;k++)
					{
						local_io_datapoints.sub_elems[i].sub_elems[latest_segm].sub_elems[k]=createNewElem(findBlockDescr(block_types.local_io_elem));
						local_io_datapoints.sub_elems[i].sub_elems[latest_segm].sub_elems[k].values[0]=slices[slice_index].sections[j].objects[k].name;
						local_io_datapoints.sub_elems[i].sub_elems[latest_segm].sub_elems[k].values[1]=slices[slice_index].sections[j].objects[k].offset;
						local_io_datapoints.sub_elems[i].sub_elems[latest_segm].sub_elems[k].values[2]=slices[slice_index].sections[j].objects[k].length;
					}
				}
			}
		}
		if (local_io_param_only==false)
		{
			for(j=0;j<2;j++,i++)
			{
				// Add PLC datapoints
				local_io_datapoints.sub_elems[i]=createNewElem(findBlockDescr(block_types.local_io_slot));
				// slot number
				if (j==0)
				{
					local_io_datapoints.sub_elems[i].values[0]="ARGEE_TO_PLC";
				}
				else
				{
					local_io_datapoints.sub_elems[i].values[0]="PLC_TO_ARGEE";
				}
				local_io_datapoints.sub_elems[i].values[1]="";
				local_io_datapoints.sub_elems[i].values[2]=0;
				
				for(k=0;k<240;k++)
				{
					local_io_datapoints.sub_elems[i].sub_elems[k]=createNewElem(findBlockDescr(block_types.local_io_elem));
					local_io_datapoints.sub_elems[i].sub_elems[k].values[0]="Word"+k;
					local_io_datapoints.sub_elems[i].sub_elems[k].values[1]=0;
					local_io_datapoints.sub_elems[i].sub_elems[k].values[2]=0;
				}
			}
		}

		
		
		
		// create combined global/PLC variables
		combined_glob_io_alias_vars=createNewElem(findBlockDescr(block_types.comb_glob_vars));
		var source=getElemFromIndex([0,0]);
		for(i=0;i<source.sub_elems.length;i++)
		{
			if ((source.sub_elems[i].type==block_types.reg_var)&&(source.sub_elems[i].values[0].localeCompare(default_task_name)==0))
			{
			}
			else
			{
				combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length]=source.sub_elems[i];
			}
		}
		var source=getElemFromIndex([0,1]);
		for(i=0;i<source.sub_elems.length;i++)
		{
			combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length]=source.sub_elems[i];
		}
		
		combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length]=createNewElem(findBlockDescr(block_types.enum_var_elem));	
		combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length-1].values[0]="PLC_CONNECTED";
		combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length]=createNewElem(findBlockDescr(block_types.enum_var_elem));			
		combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length-1].values[0]="PROG_CYCLE_TIME";
				


		// Global variables inside modules
		for (k=0;k<proj_elems.sub_elems.length;k++)
		{
			if (proj_elems.sub_elems[k].type==block_types.module)
			{
				var source=proj_elems.sub_elems[k];
				for(i=0;i<source.sub_elems.length;i++)
				{
			
					if (source.sub_elems[i].type==block_types.module_variables)
					{
						for(j=0;j<source.sub_elems[i].sub_elems.length;j++)
						{
							combined_glob_io_alias_vars.sub_elems[combined_glob_io_alias_vars.sub_elems.length]=source.sub_elems[i].sub_elems[j];
						}
					}
				}
			}
		}


		var actElemBlock=DESCR.getElemFromIndex(JSON.parse(keyMenuTargElement.dataset.elem_index))
		var descr=descr_lookup[actElemBlock.type];
		if (descr.hmi_func_array!=undefined)
		{
			hmi_func_datapoints=createNewElem(findBlockDescr(block_types.comb_state_vars));
			var hmi_functions_group_list=DESCR[descr.hmi_func_array];
			for(i=0;i<hmi_functions_group_list.length;i++)
			{
				hmi_func_datapoints.sub_elems[i]=createNewElem(findBlockDescr(block_types.local_io_elem));
				hmi_func_datapoints.sub_elems[i].values[0]=hmi_functions_group_list[i][0];	
				hmi_func_datapoints.sub_elems[i].values[4]=hmi_functions_group_list[i][1];	
			}
			hmi_image_variables_enum=createNewElem(findBlockDescr(block_types.comb_state_vars));
			{
				for(i=0;i<hmi_image_variables.length;i++)
				{
					hmi_image_variables_enum.sub_elems[i]=createNewElem(findBlockDescr(block_types.local_io_elem));
				
					hmi_image_variables_enum.sub_elems[i].values[0]="\""+hmi_image_variables[i]+"\"";
					hmi_image_variables_enum.sub_elems[i].values[4]="\""+hmi_image_variables[i]+"\"";
				}
			}
		}
		else
		{
			var fb_type=-1;
			if (descr.type==block_types.hmi_block)
			{
				fb_type=func_block_type_num.HMI_BLOCK;
			}
			else if (descr.type==block_types.hmi_control)
			{
				fb_type=func_block_type_num.HMI_CONTROL;
			}
			else if (descr.type==block_types.hmi_block_screen)
			{
				fb_type=func_block_type_num.HMI_BLOCK;
			}
				
			if (fb_type!=-1)
			{
				var j=0;
				hmi_func_datapoints=createNewElem(findBlockDescr(block_types.comb_state_vars));
				for(i=0;i<func_blocks_with_hmi_helpers.length;i++)
				{
					if (func_blocks_with_hmi_helpers[i].ptr.values[1]==fb_type)
					{
						hmi_func_datapoints.sub_elems[j]=createNewElem(findBlockDescr(block_types.local_io_elem));
						hmi_func_datapoints.sub_elems[j].values[0]=func_blocks_with_hmi_helpers[i].help_string;	
						hmi_func_datapoints.sub_elems[j].values[4]=func_blocks_with_hmi_helpers[i].barebone_string;	
						j++;
					}
				}
			}
			else
			{
				hmi_func_datapoints=null;
				hmi_image_variables_enum=null;
			}
		}
		
		
		// create combined enumeration
		combined_enumerations=createNewElem(findBlockDescr(block_types.comb_state_vars));
		if (keyMenuTargElement.dataset.elem_force_param_value_disp=="true")
		{
			var elem=keyMenuTargElement;
			var index=JSON.parse(elem.dataset.elem_index);
			var parent=getParentArr(index);
			var last_index_elem=index[index.length-1];
			var act_elem=parent.sub_elems[last_index_elem];
			var struct=findParamDatapointDescr(act_elem.values[0]);
			var obj=slices[struct.slot].sections[struct.sect].objects[struct.obj];
			if (obj.enumList!=undefined)
			{
				for(j=0;j<obj.enumList.length;j++)
				{
					combined_enumerations.sub_elems[combined_enumerations.sub_elems.length]=createNewElem(findBlockDescr(block_types.enum_var_elem));
					combined_enumerations.sub_elems[combined_enumerations.sub_elems.length-1].values[0]=obj.enumList[j].str;
				}
			}
		}
		else
		{
			for (k=0;k<proj_elems.sub_elems.length;k++)
			{
				if (proj_elems.sub_elems[k].type==block_types.module)
				{
					var source=proj_elems.sub_elems[k];
					for(i=0;i<source.sub_elems.length;i++)
					{
						if (source.sub_elems[i].type==block_types.enum_var)
						{
							for(j=0;j<source.sub_elems[i].sub_elems.length;j++)
							{
								combined_enumerations.sub_elems[combined_enumerations.sub_elems.length]=source.sub_elems[i].sub_elems[j];
							}
						}
					}
				}
			}
		}
	}
*/

	// initialize
	function init()
	{
		proj_elems=createNewElem(findBlockDescr(block_types.root));
		proj_elems.sub_elems[0]=createNewElem(findBlockDescr(block_types.device));
		// program variable initialization
		proj_elems.sub_elems[0].sub_elems[0].sub_elems.splice(0,0,createNewElem(findBlockDescr(block_types.reg_var)));
		proj_elems.sub_elems[0].sub_elems[0].sub_elems[0].values[0]="reg1";
		proj_elems.sub_elems[0].sub_elems[0].sub_elems.splice(0,0,createNewElem(findBlockDescr(block_types.reg_var)));
		proj_elems.sub_elems[0].sub_elems[0].sub_elems[0].values[0]="reg2";
		
		proj_elems.sub_elems[0].sub_elems[0].sub_elems.splice(0,0,createNewElem(findBlockDescr(block_types.reg_var)));
		proj_elems.sub_elems[0].sub_elems[0].sub_elems[0].values[0]="main_task";
		proj_elems.sub_elems[0].sub_elems[0].sub_elems[0].values[1]=7;
		
		

		
		proj_elems.sub_elems[1].sub_elems.splice(0,0,createNewElem(findBlockDescr(block_types.funct_block_var)));
		proj_elems.sub_elems[1].sub_elems[0].values[0]="MainTask"
		proj_elems.sub_elems[1].sub_elems[0].sub_elems[1].values[1]=5;
		proj_elems.sub_elems[1].sub_elems[0].sub_elems[1].values[0]="tm1";
		proj_elems.sub_elems[1].sub_elems[0].sub_elems.splice(1,0,createNewElem(findBlockDescr(block_types.funct_block_elem_var)));
		proj_elems.sub_elems[1].sub_elems[0].sub_elems[1].values[1]=5;
		proj_elems.sub_elems[1].sub_elems[0].sub_elems[1].values[0]="tm2";
		proj_elems.sub_elems[1].sub_elems[0].sub_elems.splice(1,0,createNewElem(findBlockDescr(block_types.funct_block_elem_var)));
		proj_elems.sub_elems[1].sub_elems[0].sub_elems[1].values[1]=5;
		proj_elems.sub_elems[1].sub_elems[0].sub_elems[1].values[0]="cnt1";
		
		
		
		
	}


	function updateHiddenTypes()
	{

	}	
	
	/*function exp_enum(elem)
	{
		var temp=1;
		elem.size=10;
		
	}*/
	
	function renderInCompactMode()
	{
		handleCollapseExpand(proj_elems,proj_elems,COLEXP.collapse_default,false); 
		renderCombined(true);
	}
	
	function gotoFuncBlock(elem)
	{
		var index=JSON.parse(elem.dataset.elem_index);
		rend_mode=REND_MODE.COMPACT;
		var prev_elem_pos=getOffset(elem,var_div).top;
		var curr_elem_pos;
		if (rend_mode==REND_MODE.COMPACT)
		{
			
			handleCollapseExpand(proj_elems,proj_elems,COLEXP.collapse_default,true); 
			// expand only the specific function block variables as well as function block code
			var var_def=getElemFromIndex(index);
			var func_index=index.slice(0);
			func_index[func_index.length]=0;
			var func_def=getElemFromIndex(func_index);
			var_def.hidden_sub=true;
			func_def.expanded=true;
			renderCombined(true);
			
			
			/*var id_var_str="elem_line_id_"+getID_FromIndex(index);
			id_elem=document.getElementById(id_var_str);
			if (id_elem!=null)
			{
				curr_elem_pos=getOffset(id_elem,var_div).top;
				var elem_pos_diff=curr_elem_pos-prev_elem_pos;
				console.log("positions:"+curr_elem_pos+"  " + prev_elem_pos+ "diff="+elem_pos_diff+" scrollTop="+var_div.scrollTop);
				if (Math.abs(elem_pos_diff)>5)
				{
					var_div.scrollTop+=elem_pos_diff;
				}
			}*/
			
		}
		
			
		index[index.length]=0;
		var id=getID_FromIndex(index);
		var id_str="func_block_id_"+id;
		id_elem=document.getElementById(id_str);
		if (id_elem!=null)
		{
			id_elem.scrollIntoView(true);
			prog_div.scrollTop-=10;
		}
	}

	function replaceFuncCallWithFuncBlockCall(elem)
	{
		if (elem.type==block_types.func_call)
		{
			elem.type=block_types.func_block_call;
		}
		if (elem.sub_elems!=undefined)
		{
			var i;
			for(i=0;i<elem.sub_elems.length;i++)
			{
				replaceFuncCallWithFuncBlockCall(elem.sub_elems[i]);
			}
		}
	}
		
	
	function loadLocal()
	{
		var new_proj_elems=JSON.parse(getLocalStorage("prog_code"));
		replaceFuncCallWithFuncBlockCall(new_proj_elems);
		eliminateDuplicateAddButtons(new_proj_elems);
		proj_elems.sub_elems=new_proj_elems.sub_elems;
		
		prog_var_types_enum.splice(0,prog_var_types_enum.length);
		var compl_types=new_proj_elems.prog_var_types_enum;
		for(i=0;i<compl_types.length;i++)
		{
			prog_var_types_enum.splice(prog_var_types_enum.length,0,compl_types[i]);
		}
	}
	
		
	function updateBreakPointList()
	{
		var i;
		var arr=GOM.getObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0);
		if (arr==undefined)
		{
			return;
		}
		for(i in arr)
		{
			var id_str="prog_elem_1_"+i;
			var id_elem=document.getElementById(id_str);
			if (id_elem==null)
			{
				continue;
			}
			if (arr[i]==true)
			{
				//id_elem.bgColor="red";
				id_elem.style.backgroundColor="red"
			}
			else		
			{
				//id_elem.bgColor="white";
				id_elem.style.backgroundColor="inherit"
			}
		}
	}
	var debug_iter=0;
	var prev_dbg_line=-1;
	
	var exception_descr=
	[
"ARGEE_EXCEPTION_OUT_OF_BOUNDS_ACCESS                 ",
"ARGEE_EXCEPTION_BYTE_ARRAY_TOO_SMALL_FOR_ARP         ",
"ARGEE_EXCEPTION_BYTE_ARRAY_TOO_SMALL_FOR_RESPONSE    ",
"ARGEE_EXCEPTION_DIFFERENT_BYTE_ARRAY_PASSED          ",
"ARGEE_EXCEPTION_RECEIVE_BUFFER_TOO_SMALL             ",
"ARGEE_EXCEPTION_NUM_ARR_LESS_THAN_12_BYTES           ",
"ARGEE_EXCEPTION_BYTE_ARRAY_TOO_SMALL                 ",
"ARGEE_EXCEPTION_CURR_SLAVE_LARGER_THAN_NUM_SLAVES    ",
"ARGEE_EXCEPTION_OT_SIZE_BIGGER_THAN_BYTE_ARR         ",
"ARGEE_EXCEPTION_TO_SIZE_BIGGER_THAN_LONG_ARR         ",
"ARGEE_EXCEPTION_BYTE_ARR_LESS_THAN_TOTAL_INP_OUTP    ",
"ARGEE_EXCEPTION_STRLEN_CANT_FIND_STR_TERMINATOR      ",
"ARGEE_EXCEPTION_ACCESS_BEYOND_SOURCE_ARR             ",
"ARGEE_EXCEPTION_ACCESS_BEYOND_DST_ARR                ",
"ARGEE_EXCEPTION_PREMATURE_SRC_STR_TERMINATOR         ",
"ARGEE_EXCEPTION_NUMBER_STRING_TOO_LARGE              ",
"ARGEE_EXCEPTION_STRING_TOO_SMALL                     ",
"ARGEE_EXCEPTION_INVALID_IO_SLOT                      ",
"ARGEE_EXCEPTION_INVALID_OFFSET_OR_SIZE_OR_SLOT       ",
"ARGEE_EXCEPTION_NUM_ARR_LESS_THAN_20_BYTES           ",
"ARGEE_EXCEPTION_IO_MAPPING_ARRAY_NOT_DEFINED         ",
"ARGEE_EXCEPTION_IO_MAPPING_ARRAY_TOO_SMALL           ",
	]
	
	function refreshCodeInDebug()
	{
		var i;
		var line_bg_color=fastClone(orig_line_colors);
		var inst_trace_lines=GOM.getObjArr("INSTR_TRACE",0);
		var wait_trace=GOM.getObjArr("WAIT_TRACE",0);
		var line_elem_types=orig_line_elem_types;
		// check if a line has a trace element highlighting it
		for(i=0;i<inst_trace_lines.length;i++)
		{
			if (line_bg_color[inst_trace_lines[i]]==undefined)
			{
				continue;
			}
			if (inst_trace_lines[i]>=0)
			{
				if (parseInt(line_elem_types[inst_trace_lines[i]])==block_types.wait_until)
				{
					if ((debug_iter%2)==0)
					{
						//line_bg_color[wait_trace[i]][1]="#f2d00d";
						line_bg_color[inst_trace_lines[i]][1]="#e6e600";
					}
					else
					{
						line_bg_color[inst_trace_lines[i]][1]="#ccb533";
					}
					
					line_bg_color[inst_trace_lines[i]][2]="#ecec13";
				}
				else
				{
					
					if ((debug_iter%2)==0)
					{
						line_bg_color[inst_trace_lines[i]][1]="#90fe00";
					}
					else
					{
						line_bg_color[inst_trace_lines[i]][1]="#90ee90";
					}
					
					line_bg_color[inst_trace_lines[i]][2]="Chartreuse";
				}
			}
		}
		
		
		for(i=0;i<wait_trace.length;i++)
		{
			if (line_bg_color[wait_trace[i]]==undefined)
			{
				continue;
			}
			if (wait_trace[i]>=0)
			{
				if ((debug_iter%2)==0)
				{
					//line_bg_color[wait_trace[i]][1]="#f2d00d";
					line_bg_color[wait_trace[i]][1]="#e6e600";
				}
				else
				{
					line_bg_color[wait_trace[i]][1]="#ccb533";
				}
				
				line_bg_color[wait_trace[i]][2]="#ecec13";
			}
		}

		if (GOM.getObjNum("GOTO_LINE",0)!=-1)
		{
			if (GOM.getObjNum("GOTO_LINE",0)==-2)
			{
				prev_dbg_line=-1;
				GOM.setObjNum("GOTO_LINE",0,-1);
			}
			else
			{
				var nst_line=GOM.getObjNum("GOTO_LINE",0);
				var argee_line=PARSE.getARGEE_Prog_Line_From_NST(nst_line);
				var id_str;
				if (argee_line>4)
				{
					id_str="prog_elem_1_"+(argee_line-4);
				}
				else
				{
					id_str="first_prog_line"
					//id_str="prog_elem_1_"+(argee_line);
				}
				var id_elem=document.getElementById(id_str);
				if (id_elem!=null)
				{
					console.log("new position "+(new Date()).getTime());
					id_elem.scrollIntoView();
				}
				//
				GOM.setObjNum("GOTO_LINE",0,-1);
			}
		}	
		
		debug_iter++;
		if (GOM.getObjNum("DEV_RUN",0)==0)
		{
			var task_trace_level=GOM.getObjNum("DBG_TASK_TRACE_LEVEL",0);

			var task_trace=GOM.getObjNum("DBG_TASK_TRACE",0);
			
			var pc=task_trace[task_trace_level].pc;
			var nst_line=DEB.DEB_getLineNumFromPC(pc);
			if (nst_line>=0)
			{
				var argee_line=PARSE.getARGEE_Prog_Line_From_NST(nst_line);
				line_bg_color[argee_line][2]="red";
				if ((debug_iter%2)==0)
				{
					line_bg_color[argee_line][1]="red";
				}
				else
				{
					if (GOM.getObjNum("DEV_EXCEPTION",0)==1)
					{
						setCompilerMessage(false,true,"Exception detected in the Program item: "+ (argee_line)+" Exception:  "+exception_descr[GOM.getObjNum("DEV_EXCEPTION_NUM",0)]);
						line_bg_color[argee_line][1]="black";
					}
					else
					{
						line_bg_color[argee_line][1]="pink";
					}
				}
				if (prev_dbg_line!=argee_line)
				{
					var id_str;
					if (argee_line>4)
					{
						id_str="prog_elem_1_"+(argee_line-4);
					}
					else
					{
						id_str="prog_elem_1_"+(argee_line);
					}
					var id_elem=document.getElementById(id_str);
					if (id_elem!=null)
					{
						console.log("new position "+(new Date()).getTime());
						id_elem.scrollIntoView();
					}
					prev_dbg_line=argee_line;
				}
			}
		}
		else
		{
			prev_dbg_line=-1;
		}
		for(i=0;i<num_code_lines;i++)
		{
			for(j=0;j<3;j++)
			{
				var id_str="prog_elem_"+(j+1)+"_"+i;
				var id_elem=document.getElementById(id_str);
				if (id_elem!=null)
				{
					/*if ((j==0)&&((id_elem.dataset.elem_type==block_types.func_block_call)||(id_elem.dataset.elem_type==block_types.ladder_func_block_call)))
					{
						break;
					}*/
					if ((j==0)&&((id_elem.dataset.sub_exist==1)||(id_elem.dataset.elem_type==block_types.wait_until))&&((id_elem.dataset.elem_type!=block_types.func_block_call)||(id_elem.dataset.elem_type!=block_types.ladder_func_block_call))&&(line_bg_color[i][1]==orig_line_colors[i][1]))
					{
						line_bg_color[i][1]="lightgrey";
						line_bg_color[i][2]="lightgrey";
					}
					id_elem.bgColor=line_bg_color[i][j];
				}
			}
		}
	}
	function setNewTypeEnum(enum_types,bypass_checks)
	{
		var i,j;
		
		// list of types is only updated with non HMI types
		
		prog_var_types_enum.splice(0,prog_var_types_enum.length);
		j=0;
		for(i=0;i<enum_types.length;i++)
		{
			if (bypass_checks==false)
			{
				var func_blk=findFunctBlock(enum_types[i]);
				if (func_blk!=null)
				{
					if ((func_blk.values[1]==func_block_type_num.HMI_BLOCK)||
						(func_blk.values[1]==func_block_type_num.HMI_CONTROL)||
						(func_blk.values[1]==func_block_type_num.PROCEDURE)||
						(func_blk.values[1]==func_block_type_num.FUNCTION)
					   )
					{
						continue;
					}
				}
			}
			prog_var_types_enum[j]=enum_types[i];
			j++;
		}
		proj_elems.prog_var_types_enum=prog_var_types_enum;
	}
	function getTypeEnum()
	{
		return prog_var_types_enum;
	}
	
	var print_mode=false;

	var helpWindow=null;

	function setPrintMode(mode)	
	{
		print_mode=mode;
	}
		

	
	function delayedScrollTo(elem_id)
	{
		if ((helpWindow!=null)&&(helpWindow.closed==false))
		{
			var elem=helpWindow.window.document.getElementById(elem_id);
			elem.scrollIntoView();
		}
	}
	
	function dispPrintPreview_imp(show_print_prev,scroll_to_id,proj_preview,gom,slices_arr)
	{
		var prog;
		var new_window=false;
		
		
		

		if ((helpWindow==null)||(helpWindow.closed==true)||(proj_preview==true))
		{
         copyCollapseExpand(proj_elems,false);
			IO_CONF.setRW_RenderMode(false);
			var i;
			var device_info="<h1>Device Info:</h1><h2><b>"+gom.arrToString(gom.getObjArr("ARGEE_DEV_NAME",0))+"</b>&nbsp&nbsp (<b>"+gom.arrToString(gom.getObjArr("IP_ADDRESS",0))+"</b>) <b>"+gom.arrToString(gom.getObjArr("SAPI_APP_VER_STRING",0))+"</b></h2>";
			device_info+="<h2>Project Title:"+gom.arrToString(gom.getObjArr("ARGEE_PROJ_TITLE",0))+"</h2><br><br>";
			var win_title=gom.arrToString(gom.getObjArr("ARGEE_PROJ_TITLE",0))+" On "+gom.arrToString(gom.getObjArr("ARGEE_DEV_NAME",0));

			var params="<h1>&nbsp&nbsp&nbsp&nbsp<u>Non-Default Parameters</u></h1><br>";
			for(i=1;i<slices_arr.length;i++)
			{
				var curr_slot_params=IO_CONF.BEP_RenderParams(i,slices_arr,gom);
				if (curr_slot_params!="")
				{
					params+="<br><br>"
				}
				params+=curr_slot_params;
			}
			print_mode=true;
			curr_var_elem_cnt=1;
			pre_render_buf=[];
			handleCollapseExpand(proj_elems,proj_elems,COLEXP.expand,false);
			var var_rend="<h1>&nbsp&nbsp&nbsp&nbsp<u>Variables and Definitions</u></h1><br>"+renderEditVars_imp(proj_elems,[],proj_elems);
			new_window=true;
			orig_line_colors=[];
			pre_render_buf=[];
			curr_prog_line=0;
			createFuncBlockHelpStringCache();
			//console.log("prog_rend"+cnt_rend);cnt_rend++;
			
			preRenderProg(proj_elems,[],null,null);
			prog="<DIV style=\"page-break-after:always\"></DIV><h1>&nbsp&nbsp&nbsp&nbsp<u>ARGEE Program</u></h1><br><div id=\"first_prog_line\"></div>"+postRenderProg();

			var printWindow;
			if (proj_preview==false)
			{
				printWindow = window.open('', '', 'height=400,width=800');
						printWindow.document.write('<html><head><title>'+win_title+'</title>');
						printWindow.document.write('<style>  body { font-size: 75%; }</style></head><body >');
						printWindow.document.write(device_info);
						printWindow.document.write(params);
						printWindow.document.write(var_rend);
						printWindow.document.write(prog);
						printWindow.document.write('</body></html>');
						printWindow.document.close();
				if (show_print_prev==false)
				{				
					var links = printWindow.window.document.getElementsByTagName("a");
					for(var i=0;i<links.length;i++)
					{
						links[i].removeAttribute('href');
					}
				}
				if (show_print_prev==true)
				{
					printWindow.print();
				}
				helpWindow=printWindow;
			}
			else
			{
				var html="<html><head><title>"+win_title+"</title><style>  body { font-size: 75%; }</style></head><body >"+device_info+params+var_rend+prog+"</body></html>";
				return html;
			}
				
			copyCollapseExpand(proj_elems,true);		
			print_mode=false;		

		}
		if (scroll_to_id!=null)
		{
			if (new_window==true)
			{
				setTimeout(delayedScrollTo,100,scroll_to_id);
			}
			else
			{
				delayedScrollTo(scroll_to_id);
			}
		}
	}
	
	

	
	function dispPrintPreview()
	{
		dispPrintPreview_imp(true,null,false,GOM,slices);
	}	

	
	function textAreaAdjust(elem)
	{
		var rows=(elem.value.split(/\r\n|\r|\n/).length);
		/*if ((elem.scrollHeight > elem.offsetHeight)&&(elem.value.charAt(elem.value.length-1)!='\n'))
		{
			elem.value+="\n";
			rows++;
		}*/		
		elem.rows=rows;
	}	


	
	function renderDefaultView(changeToCompact)
	{
		initDragAndDrop();
		if (changeToCompact==true)
		{
			renderInCompactMode()
		}
		else
		{
			renderCombined(true);
		}
		curr_undo_pos=-1;
		last_active_undo=-1;
		undo_points=[];
		addUndo();
		if (lastDebugClickedElem!=null)
		{
			lastDebugClickedElem=null;
			var id_elem=document.getElementById(lastDebugClickedElemId);
			if (id_elem!=null)
			{
				id_elem.scrollIntoView(true);
				// these are relative to the viewport
				var top = lastDebugClickedViewportPos.top;
				prog_div.scrollTop-=top;
			}
		}
	}
			
	

	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	// Block selection mouse hook - Begin
	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	var selection_in_prog=false

	var curr_selection_arr=[];
	var block_selected_elements=[];
	var block_selected_first_index=null;

	function clearBlockSelection()
	{
		curr_selection_arr=[];
		
	}
	
	function clearBlockSelectedElements()
	{
		block_selected_elements=[];
	}
		

	function updateTDs(ind1,ind2,color)
	{
		var first_index=ind1;
		var last_elem=ind2;
		var curr=clone(first_index);
		
		if (ind1[ind1.length-1]==ind2[ind2.length-1])
		{
			return;
		}
		
		var break_point_list=GOM.getObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0);
		for(i=first_index[first_index.length-1];i<=last_elem[last_elem.length-1];i++)
		{
			curr[curr.length-1]=i;
			var td_elem=DESCR.findTD_Elem(document.querySelectorAll('[data-elem_index=\''+JSON.stringify(curr)+'\']'));
			if (td_elem!=null)
			{
				var elem_id_arr=td_elem.id.split("prog_elem_1_");
				if (color=="inherit")
				{
					var curr_elem=getElemFromIndex(curr);
					if ((curr_elem.commented==1)||(curr_elem.commented==2))
					{
						td_elem.style.backgroundColor="grey";
					}
					else if ((elem_id_arr.length==2)&&(break_point_list[num(elem_id_arr[1])]==true))
					{
						td_elem.style.backgroundColor="red";
					}
					else
					{
						td_elem.style.backgroundColor="inherit";
					}
				}
				else
				{
					td_elem.style.backgroundColor=color;
				}
				
			}
		}
		
	}

	function updateSelectionColor(color)
	{
		var i;
		if (curr_selection_arr.length==2)
		{
			var first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);
			var last_elem=JSON.parse(curr_selection_arr[1].dataset.elem_index);
			updateTDs(first_index,last_elem,color);
		}
	}

	var mouse_down=false;
	var elementMouseIsOver;
	var lastDebugClickedElem=null;
	var lastDebugClickedElemId;
	var lastDebugClickedViewportPos;
	
	document.onmousedown=function(evt)
	{
		/*if (prog_view==false)
		{
			return true;
		}*/
		var x = evt.clientX, y = evt.clientY;
		elementMouseIsOver = document.elementFromPoint(x, y);
		if (debug_mode==true)
		{
			if ((elementMouseIsOver.dataset.elem_index!=undefined)&&(elementMouseIsOver.dataset.elem_type!=undefined)&&(elementMouseIsOver.nodeName=="TD"))
			{
				lastDebugClickedElem=JSON.parse(elementMouseIsOver.dataset.elem_index);			
				lastDebugClickedElemId=elementMouseIsOver.id;
				
				lastDebugClickedViewportPos = elementMouseIsOver.getBoundingClientRect();
				
				//var elm=DESCR.getElemFromIndex(lastDebugClickedElem)
			}
		}
		if (elementMouseIsOver==null)
		{
			return true;
		}
		if ((prog_view!=true)||(elementMouseIsOver.dataset==undefined))
		{
			return true;
		}
		
		// check if there is an active element we are typing in
		
		updateSelectionColor("inherit");
		mouse_down=true;
		
		if (elementMouseIsOver.dataset.elem_edit_index!=undefined)
		{
			//var act_elem=JSON.parse(elementMouseIsOver.dataset.elem_edit_index);
			//var elem=DESCR.getElemFromIndex(act_elem);
			elementMouseIsOver.dataset.elem_index=elementMouseIsOver.dataset.elem_edit_index;
			handleEvent(event.EDIT_INIT,elementMouseIsOver);
			return false;
		}
		else if ((elementMouseIsOver.dataset.elem_index!=undefined)&&(elementMouseIsOver.dataset.elem_type!=undefined)&&(elementMouseIsOver.nodeName=="TD"))
		{
			//if (evt.ctrlKey==true)
			{
				if (document.activeElement!=null)
				{
					document.activeElement.blur();
				}
				updateSelectionColor("inherit");
				clearBlockSelection();
				curr_selection_arr[0]=elementMouseIsOver;
				curr_selection_arr[1]=elementMouseIsOver;
				selection_in_prog=true;
				//block_selected_elements=[]; // new selection
				//block_selected_first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);;
				document.addEventListener("mousemove",selectionMouseMove,false);
				//console.log("Elem pressed "+elementMouseIsOver.dataset.elem_index);
				//curr_selection_arr[curr_selection_arr.length]=elementMouseIsOver;
				updateSelectionColor("lightgreen");
			}
			return false;
		}
			
		
		return true;
	}
	function selectionMouseMove(evt)
	{
		if (selection_in_prog==false)
		{
			return true;
		}
		var x = evt.clientX, y = evt.clientY,
		elementMouseIsOver = document.elementFromPoint(x, y);
		if (elementMouseIsOver==null)
		{
			return;
		}
		if ((elementMouseIsOver.dataset.elem_index!=undefined)&&(elementMouseIsOver.dataset.elem_type!=undefined)&&(elementMouseIsOver.nodeName=="TD"))
		{
			var index_first=JSON.parse(curr_selection_arr[0].dataset.elem_index);
			var index_last=JSON.parse(curr_selection_arr[1].dataset.elem_index);
			var index_curr=JSON.parse(elementMouseIsOver.dataset.elem_index);
			if (index_curr.length!=index_first.length)
			{
				//console.log("Elem index length wrong");
				return false;
			}
			if (arrayCmp(index_last,index_curr,0,index_last.length-1)==false)
			{
				//console.log("Elem different function block");
				// different function block element
				return false;
			}
			if (index_first[index_first.length-1]>index_curr[index_curr.length-1])
			{
				//console.log("smaller than first elem");
				// can't select beyond the first element
				return false;
			}
			if (index_last[index_last.length-1]!=index_curr[index_curr.length-1])
			{
				if (index_last[index_last.length-1]>=index_curr[index_curr.length-1])
				{
					updateTDs(index_curr,index_last,"inherit");
				}
				curr_selection_arr[1]=elementMouseIsOver;
				updateSelectionColor("lightgreen");
				//console.log("Elem added "+elementMouseIsOver.dataset.elem_index);
				return false;
			}
		}
		return false;
	}

	function getCurrSelectedBlocks()
	{
		var block_elements=[];
		if (curr_selection_arr.length>=2)
		{
			var first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);
			var last_index=JSON.parse(curr_selection_arr[1].dataset.elem_index);
			for(i=0,j=first_index[first_index.length-1];j<=last_index[last_index.length-1];i++,j++)
			{
				first_index[first_index.length-1]=j;
				block_elements[i]=fastClone(DESCR.getElemFromIndex(first_index));
			}
		}
		return block_elements;
	}
	
	
	document.onmouseup=function(evt)
	{
		mouse_down=false;
		if (selection_in_prog==true)
		{
			//updateSelectionColor("inherit");
			document.removeEventListener("mousemove",selectionMouseMove,true);
			
/*			var first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);
			var last_index=JSON.parse(curr_selection_arr[1].dataset.elem_index);
			for(i=0,j=first_index[first_index.length-1];j<=last_index[last_index.length-1];i++,j++)
			{
				first_index[first_index.length-1]=j;
				block_cut_elements[i]=block_selected_elements[i]=fastClone(DESCR.getElemFromIndex(first_index));
			}
			if (first_index[first_index.length-1]==last_index[last_index.length-1])
			{
				// only one element is selected -> same as copy
				DESCR.addToCllipboard(block_selected_elements[0]);
				
			}
			*/
		}
		selection_in_prog=false;
		return true;
	}
	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	// Block selection mouse hook - End
	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

	var hide_add_buttons=false;


	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	// Drag and Drop hooks - Begin
	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	function initDragAndDrop()
	{
		/*
		//var drop_div="navigation";
		var drop_div="prog";
		var nav_div=window.document.getElementById(drop_div);
		//var background_saved="inherit";
		var drop_import_str_heading="<div style=\"background:lightgreen;margin:20px;-moz-border-radius: 15px; border-radius: 15px;bottom:0px;height:80%;\"><center><h1>Drop project to import</h1></center></div>";

		var drop_preview_str_heading="<div style=\"background:lightgreen;margin:20px;-moz-border-radius: 15px; border-radius: 15px;bottom:0px;height:80%;\"><center><h1>Drop project to preview</h1></center></div>";
		
		
		nav_div.ondragover=function(e)
		{
			if ((prog_view==true)&&(e.dataTransfer.files.length>0))
			{
				var file_extension=e.dataTransfer.files[0].name.split(".");
				if ((file_extension[file_extension.length-1].toUpperCase()!="ARG")&&
				   (file_extension[file_extension.length-1].toUpperCase()!="ARGL")&&
				   (file_extension[file_extension.length-1].toUpperCase()!=="ARG3"))
				{
					return true;
				}					

				//console.log("dragover");
				if ((nav_div.innerHTML!=drop_import_str_heading)&&(nav_div.innerHTML!=drop_preview_str_heading))
				{
					drag_saved_segm=nav_div.innerHTML;
					if (e.ctrlKey==true)
					{
						nav_div.innerHTML=drop_preview_str_heading;
					}
					else
					{						
						nav_div.innerHTML=drop_import_str_heading;
					}
				}
				
				e.stopPropagation();
				e.preventDefault();
			}
		};
		
		nav_div.ondragenter=function(e)
		{
			if ((prog_view==true)&&(e.dataTransfer.files.length>0))
			{
				var file_extension=e.dataTransfer.files[0].name.split(".");
				if ((file_extension[file_extension.length-1].toUpperCase()!="ARG")&&
				   (file_extension[file_extension.length-1].toUpperCase()!="ARGL")&&
				   (file_extension[file_extension.length-1].toUpperCase()!=="ARG3"))
				{
					return true;
				}					
				
				if ((nav_div.innerHTML!=drop_import_str_heading)&&(nav_div.innerHTML!=drop_preview_str_heading)&&(e.dataTransfer.files.length>0))
				{
					drag_saved_segm=nav_div.innerHTML;
					if (e.ctrlKey==true)
					{
						nav_div.innerHTML=drop_preview_str_heading;
					}
					else
					{						
						nav_div.innerHTML=drop_import_str_heading;
					}

				}
				e.stopPropagation();
				e.preventDefault();
			}
		};
		nav_div.ondragleave=function(e)
		{
			if ((prog_view==true)&&(e.dataTransfer.files.length>0))
			{
				var file_extension=e.dataTransfer.files[0].name.split(".");
				if ((file_extension[file_extension.length-1].toUpperCase()!="ARG")&&
				   (file_extension[file_extension.length-1].toUpperCase()!="ARGL")&&
				   (file_extension[file_extension.length-1].toUpperCase()!=="ARG3"))
				{
					return true;
				}					

				
				
				nav_div.innerHTML=drag_saved_segm;
				nav_div.style.background="inherit";
				e.stopPropagation();
				e.preventDefault();
			}
		};
		
		
		nav_div.ondrop=function(e) 
		{
			if ((prog_view==true)&&(e.dataTransfer.files.length>0))
			{
				var file_extension=e.dataTransfer.files[0].name.split(".");
				if ((file_extension[file_extension.length-1].toUpperCase()!="ARG")&&
				   (file_extension[file_extension.length-1].toUpperCase()!="ARGL")&&
				   (file_extension[file_extension.length-1].toUpperCase()!=="ARG3"))
				{
					return true;
				}					

				
				
				if (e.ctrlKey==true)
				{
					
					proj_preview_window = window.open('', '', 'height=400,width=800');
					
				}

				nav_div.innerHTML=drag_saved_segm;
				e.stopPropagation();
				e.preventDefault();
				
				var files = e.dataTransfer.files; // Array of all files
				globalFileHandle=files[0];
				for (var i = 0, f; f = files[i]; i++) 
				{

				  var reader = new FileReader();

				  // Closure to capture the file information.
				  reader.onload = (function(theFile) 
				  {
					  if (e.ctrlKey==true)
					  {
						console.log("drop in preview mode1");
						return loadProjInPreview;   
					  }
					  else
					  {
						return onImportProj;
					  }
				  })(f);

				  // Read in the image file as a data URL.
				  reader.readAsArrayBuffer(f);
				}
			}
		};
		*/
	}
	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	// Drag and Drop hooks - End
	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	// Global keyboard hook - Begin
	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	document.onkeydown = function(evt) 
	{
		evt = evt || window.event;
		
		if ((prog_view==true)&&(mouse_down==true)&&(evt.ctrlKey==true)&&(selection_in_prog==false))
		{
			if (elementMouseIsOver==null)
			{
			}
			else ((elementMouseIsOver.dataset.elem_index!=undefined)&&(elementMouseIsOver.dataset.elem_type!=undefined)&&(elementMouseIsOver.nodeName=="TD"))
			{
				// control key is pushed too late 
				updateSelectionColor("inherit");
				clearBlockSelection();
				curr_selection_arr[0]=elementMouseIsOver;
				curr_selection_arr[1]=elementMouseIsOver;
				selection_in_prog=true;
				//block_selected_elements=[]; // new selection
				//block_selected_first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);;

				document.addEventListener("mousemove",selectionMouseMove,false);
				//console.log("Elem pressed "+elementMouseIsOver.dataset.elem_index);
				//curr_selection_arr[curr_selection_arr.length]=elementMouseIsOver;
				updateSelectionColor("lightgreen");
				return false;
			}
		}



        if ((prog_view==true)&&(evt.keyCode == 13))
        {
            var elem=document.activeElement;
            var jk=1;
            if ((((document.activeElement.tagName.toUpperCase()=="INPUT")&&(document.activeElement.type=="text"))||
                  ((document.activeElement.tagName.toUpperCase()=="TEXTAREA")&&(document.activeElement.type=="textarea")))
                  )
            {
                  var curr_elem=getElemFromIndex(JSON.parse(document.activeElement.dataset.elem_index));
				  if (
				       (curr_elem.type==block_types.reg_var)||
					   (curr_elem.type==block_types.alias_var)||
					   (curr_elem.type==block_types.funct_block_elem_var)||
				       (curr_elem.type==block_types.enum_var_elem)
				  )
				  {
					  return false;
				  }
				  
                  if (curr_elem.vis_elem_type==0)
                  {
                      document.activeElement.blur();
                      return false;
                  }
            }
        }
			
		if ((prog_view==true)&&(evt.keyCode == 40))
		{
			// down arrow
			if (evt.ctrlKey==true)
			{
				if (elementMouseIsOver.dataset.elem_index!=undefined)
				{
					var curr_elem_index=JSON.parse(document.activeElement.dataset.elem_index);
					var curr_elem=getElemFromIndex(curr_elem_index);
					if (
				       (curr_elem.type==block_types.reg_var)||
					   (curr_elem.type==block_types.alias_var)||
					   (curr_elem.type==block_types.funct_block_elem_var)||
				       (curr_elem.type==block_types.enum_var_elem)
					)
					{
						// copy current,paste below
						var act_dom_elem=document.activeElement;
						handleEvent(event.COPY,act_dom_elem);
						handleEvent(event.PASTE_BELOW,act_dom_elem);
						curr_elem_index[curr_elem_index.length-1]++;
						var dom_elem=findVarDomElem(curr_elem_index,0);
						dom_elem.focus();
						//var parent=getElemFromIndex(curr_elem_index.slice(0,curr_elem_index.length-1));
						//handleElemOp(parent,curr_elem.type
						return false;
					}
			
				}
				ARGEE_elem_dlg.showContextMenu(event_type.ADD_BLOCK_BELOW); return false;	

			}
			else
			{
				if (document.activeElement.tagName.toUpperCase()=="TEXTAREA")
				{
					var curr_pos=window.document.activeElement.selectionStart;
					var text_before_curr_pos=document.activeElement.value.slice(0,curr_pos);
					var rows_total=(document.activeElement.value.split(/\r\n|\r|\n/).length);
					var curr_row=text_before_curr_pos.split(/\r\n|\r|\n/).length;
					if (curr_row==rows_total)
					{
						navigateToNextTabElem(TAB_ELEM.DOWN,document.activeElement);
						return false;
					}
				}
				if (document.activeElement.tagName.toUpperCase()=="INPUT")
				{
					navigateToNextTabElem(TAB_ELEM.DOWN,document.activeElement);
					return false;
				}
			}
			return true;
		}
		if ((prog_view==true)&&(evt.keyCode == 33))
		{
			// page up	
			if ((document.activeElement.tagName.toUpperCase()=="TEXTAREA")||
			(document.activeElement.tagName.toUpperCase()=="INPUT"))
			{
				 navigateToNextTabElem(TAB_ELEM.PAGE_UP,document.activeElement);
				 return false;
			}
		 	return true;
		}

		if ((prog_view==true)&&(evt.keyCode == 34))
		{
			// page down	
			if ((document.activeElement.tagName.toUpperCase()=="TEXTAREA")||
			   (document.activeElement.tagName.toUpperCase()=="INPUT"))
			   {
					navigateToNextTabElem(TAB_ELEM.PAGE_DOWN,document.activeElement);
					return false;
			   }
			return true;
		}


		if ((prog_view==true)&&(evt.keyCode == 38))
		{
			// up arrow
			if (evt.ctrlKey==true)
			{
				ARGEE_elem_dlg.showContextMenu(event_type.ADD_BLOCK_ABOVE); return false;	
			}
			else
			{
				if (document.activeElement.tagName.toUpperCase()=="TEXTAREA")
				{
					var curr_pos=window.document.activeElement.selectionStart;
					var text_before_curr_pos=document.activeElement.value.slice(0,curr_pos);
					var rows_total=(document.activeElement.value.split(/\r\n|\r|\n/).length);
					var curr_row=text_before_curr_pos.split(/\r\n|\r|\n/).length;
					if (curr_row==1)
					{
						navigateToNextTabElem(TAB_ELEM.UP,document.activeElement);
						return false;
					}
				}
				if (document.activeElement.tagName.toUpperCase()=="INPUT")
				{
					navigateToNextTabElem(TAB_ELEM.UP,document.activeElement);
					return false;
				}
			}
			return true;
		}
		if ((prog_view==true)&&(evt.ctrlKey==true)&&(evt.keyCode == 39))
		{
			// ctrl ->
			//if (evt.ctrlKey==true)
			{
				var curr_elem=window.document.activeElement;
				
				if ((curr_elem.dataset==undefined)||(curr_elem.dataset.elem_index==undefined))
				{
					return false;
				}
				var curr_elem_index=JSON.parse(curr_elem.dataset.elem_index);
				var elem_field=parseInt(curr_elem.dataset.elem_field);
				var elem_data=getElemFromIndex(curr_elem_index);
				var descr=findBlockDescr(elem_data.type);
				if (descr.nested_blocks!=undefined)
				{
					ARGEE_elem_dlg.showContextMenu(event_type.ADD_BLOCK_INSIDE); return false;		
				}
				
			}
			return true;
		}




		if ((evt.altKey==true)&&(evt.keyCode == 40))
		{
			// "alt" + "down arrow"
			if (evt.shiftKey==true)
			{
				// collapse all except top level
				handleCollapseExpand(proj_elems,proj_elems,COLEXP.collapse_top_level,false); 
			}
			else
			{
				// collapse all - default
				handleCollapseExpand(proj_elems,proj_elems,COLEXP.collapse_default,false); 
			}
			renderCombined(true);
			return false;
		}
		
		/*if ((evt.shiftKey==false)&&(evt.keyCode == 9))
		{
			var jk1=1;
			var curr_elem=document.activeElement;	
			navigateToNextTabElem(TAB_ELEM.DOWN,curr_elem);
			return false;
		}
		if ((evt.shiftKey==true)&&(evt.keyCode == 9))
		{
			var jk1=1;
			var curr_elem=document.activeElement;	
			navigateToNextTabElem(TAB_ELEM.UP,curr_elem);
			return false;
		}*/


		/*if ((evt.altKey==true)&&(evt.keyCode == 39))
		{
			if (prog_view==false)
			{
				return false;
			}
			// alt ->
			// increase variable section
			if (left_col_width<70)
			{
				left_col_width++;
				localStorage.ARGEE3_var_width=left_col_width;
				adjustMenuScreen(1);
			}
		}
		if ((evt.altKey==true)&&(evt.keyCode == 37))
		{
			if (prog_view==false)
			{
				return false;
			}
			// ctrl <-
			// decrease variable section
			if (left_col_width>30)
			{
				left_col_width--;
				localStorage.ARGEE3_var_width=left_col_width;
				adjustMenuScreen(1);
			}
		}
		*/
		
		if ((evt.keyCode == 112)||(evt.keyCode == 113))
		{ // F1 or F2
			if (prog_view==false)
			{
				return false;
			}
			var sel_text=window.getSelection().toString();
			var ind=DESCR.getFunctionBlockIndex(sel_text);
			if (ind==null)
			{
				if (evt.keyCode == 112)
				{
					//F1
					HelpDlgShow();
				}
				else
				{
					//F2
					DESCR.dispPrintPreview_imp(false,null,false,GOM,slices)
				}
			}
			else
			{
				ind[ind.length]=0;
				var id=DESCR.getID_FromIndex(ind);
				var id_str="func_block_id_"+id;
				DESCR.dispPrintPreview_imp(false,id_str,false,GOM,slices)
			}
				
			return false;
		}
		if (evt.keyCode == 114)
		{
			// F3 pressed
			
			var i,j,k,l;
			var page="";
			var sect_names=["Input","Output","Diagnostics","Parameters"];
			//var sect_colors=["Aqua","#FFEEAC","#0FF8DC","#F29136"];
			var sect_colors=["Aqua","#FFEEAC","#dd92dd","#F29136"];
			for(i=0;i<slices.length;i++)
			{
				var name=SIM.getSlotName(i);
				page+="<h2>Slot "+i+" - "+name+"</h2>";
				for(j=0;j<4;j++)
				{
					if (slices[i].sections[j].objects.length>0)
					{
						page+="<h3><div style=\"width:fit-content;background-color:"+sect_colors[j]+";\">"+sect_names[j]+"</div></h3>";
						page+="<table border='1'>"
						page+="<tr><td>&nbspName</td><td>Bit Offset</td><td>Bit Length</td><td>Enum Values</td></tr>";
						for(k=0;k<slices[i].sections[j].objects.length;k++)
						{
							page+="<tr>";
							page+="<td>&nbsp"+slices[i].sections[j].objects[k].name+"&nbsp</td>";
							page+="<td>&nbsp"+slices[i].sections[j].objects[k].offset+"</td><td>&nbsp"+slices[i].sections[j].objects[k].length+"</td>";
							page+="<td>";
							if (slices[i].sections[j].objects[k].enumList!=undefined)
							{
								for(l=0;l<slices[i].sections[j].objects[k].enumLen;l++)
								{
									page+="&nbsp"+slices[i].sections[j].objects[k].enumList[l].val+" - "+slices[i].sections[j].objects[k].enumList[l].str+"<br>";
								}
							}
							page+="</td>"
							page+="</tr>";
						}
						page+="</table>";
					}
				}
			}
			var printWindow1 = window.open('', '', 'height=400,width=800');
					printWindow1.document.write('<html><head><title> IO Description </title>');
					printWindow1.document.write('<style>  body { font-size: 75%; }</style></head><body >');
					printWindow1.document.write(page);
					printWindow1.document.write('</body></html>');
					printWindow1.document.close();
			
			return false;
			var jk=1;				
				
		}
		if ((evt.ctrlKey==true)&&(evt.keyCode == 90))
		{
			// ctrl-z // undo
			if (prog_view==false)
			{
				return true;
			}
			var elementDOM = evt.target;
			if ((elementDOM.nodeName=="INPUT")||(elementDOM.nodeName=="TEXTAREA"))
			{
				return true;
			}
			else
			{
				performUndo();
				return false;
			}
		}
		if ((evt.altKey==true)&&(evt.keyCode == 188))
		{
			// alt-< 
			// hide all add buttons
			eleminateAddButtonsInProgPanel(proj_elems);
			renderCombined(true);
		}
		if ((evt.altKey==true)&&(evt.keyCode == 190))
		{
			// alt-> 
			// show all add buttons
			restoreEndOfBlockAddButtons(proj_elems);
			renderCombined(true);
		}
		
		if ((evt.ctrlKey==true)&&(evt.keyCode == 89))
		{
			// ctrl-y // redo
			if (prog_view==false)
			{
				return true;
			}
			var elementDOM = evt.target;
			if ((elementDOM.nodeName=="INPUT")||(elementDOM.nodeName=="TEXTAREA"))
			{
				return true;
			}
			else
			{
				performRedo();
				return false;
			}
		}
		if ((evt.ctrlKey==true)&&((evt.keyCode == 88)||(evt.keyCode == 67)))
		{
			// ctrl-x ,ctrl-c
			var ctrl_c=false;
			var block_sel=getCurrSelectedBlocks();
			if ((prog_view==false)||(block_sel.length==0))
			{
				return true;
			}
			if (evt.keyCode == 67)
			{
				ctrl_c=true;
			}
	
			var block_selected_first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);
			updateSelectionColor("inherit");
			document.removeEventListener("mousemove",selectionMouseMove,true);
			var parent=getParentArr(block_selected_first_index);
			var last_index_elem=block_selected_first_index[block_selected_first_index.length-1];
			var first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);
			var last_index=JSON.parse(curr_selection_arr[1].dataset.elem_index);
			var first_elem=DESCR.getElemFromIndex(first_index);
			block_cut_elements=[];
			block_selected_elements=[];
			for(i=0,j=first_index[first_index.length-1];j<=last_index[last_index.length-1];i++,j++)
			{
				first_index[first_index.length-1]=j;
				block_selected_elements[i]=fastClone(DESCR.getElemFromIndex(first_index));
				if (ctrl_c==false)
				{
					block_cut_elements[i]=block_selected_elements[i];
				}
			}
			if (ctrl_c==false)
			{
				parent.sub_elems.splice(last_index_elem,block_selected_elements.length);
			}
			block_selected_first_index=null;
			if (ctrl_c==false)
			{
				// clear breakpoint list
				GOM.setObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0,[]);
				if ((first_elem.type==block_types.reg_var)||
				    (first_elem.type==block_types.funct_block_elem_var)||
					(first_elem.type==block_types.enum_var_elem)||
					(first_elem.type==block_types.alias_var))
				{
					redraw_list[screens.var_scr].func();
				}
				else
				{
					redraw_list[screens.prog_scr].func();
				}
				
				
				addUndo();
			}
			return false;
		}
		/*
		if ((evt.ctrlKey==true)&&(evt.keyCode == 86))
		{
			// ctrl-v
			var block_sel=getCurrSelectedBlocks();
			if ((prog_view==false)||(block_sel.length==0))
			{
				return true;
			}
			// clear breakpoint list
			GOM.setObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0,[]);
			addUndo();
			var block_selected_first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);
			selection_in_prog=false;
			updateSelectionColor("inherit");
			document.removeEventListener("mousemove",selectionMouseMove,true);
			var parent=getParentArr(block_selected_first_index);
			var last_index_elem=block_selected_first_index[block_selected_first_index.length-1];
			var cloned_elements=fastClone(block_selected_elements);
			var first_elem=cloned_elements[0];
			var act_elem=getElemFromIndex(block_selected_first_index);
			if ((descr_lookup[act_elem.type].nested_blocks==undefined)||(act_elem.type==block_types.ladder_condition))
			{
				// paste above
				if (descr_lookup[parent.type].nested_blocks.indexOf(first_elem.type)!=-1)
				{
					for(i=0;i<cloned_elements.length;i++)
					{
						parent.sub_elems.splice(last_index_elem+i,0,cloned_elements[i]); 
					}
				}
			}
			else
			{
				// paste only if empty block
				if (descr_lookup[act_elem.type].nested_blocks.indexOf(first_elem.type)!=-1)
				{
					for(i=0;i<cloned_elements.length;i++)
					{
						act_elem.sub_elems.splice(0+i,0,cloned_elements[i]); 
					}
				}
			}
			block_selected_first_index=null;
			redraw_list[screens.prog_scr].func();
			return false;
		}
		*/
		/*if ((debug_mode==true)&&(evt.ctrlKey==true))
		{
			switch(evt.keyCode)
			{
				case 66: DEB.DISP_Bin(); break; //ctrl-b
				case 72: DEB.DISP_Hex(); break; //ctrl-h
				case 85: DEB.DISP_DecUnsigned(); break; //ctrl-u
				case 83: DEB.DISP_DecSigned(); break; //ctrl-s
				case 68: DEB.DISP_Default(); break; //ctrl-d
			}
		}*/
		
		if ((evt.ctrlKey==true)&&(evt.shiftKey==false)&&(evt.keyCode == 68))
		{
			// ctrl-d  // comment-out block
			var block_sel=getCurrSelectedBlocks();
			if ((prog_view==false)||(block_sel.length==0))
			{
				return true;
			}
			// clear breakpoint list
			GOM.setObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0,[]);
			//addUndo();
			selection_in_prog=false;
			//updateSelectionColor("inherit");
			var block_selected_first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);
			document.removeEventListener("mousemove",selectionMouseMove,true);
			var parent=getParentArr(block_selected_first_index);
			var last_index_elem=block_selected_first_index[block_selected_first_index.length-1];
			var first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);
			var last_index=JSON.parse(curr_selection_arr[1].dataset.elem_index);
			block_cut_elements=[];
			for(i=0,j=first_index[first_index.length-1];j<=last_index[last_index.length-1];i++,j++)
			{
				first_index[first_index.length-1]=j;
				setCommentedState(getElemFromIndex(first_index),1);
			}
			block_selected_first_index=null;
			redraw_list[screens.prog_scr].func();
			addUndo();
			return false;
		}
		if ((evt.ctrlKey==true)&&(evt.shiftKey==true)&&(evt.keyCode == 68))
		{
			// ctrl-shift-d  // uncomment block
			var block_sel=getCurrSelectedBlocks();
			if ((prog_view==false)||(block_sel.length==0))
			{
				return true;
			}
			// clear breakpoint list
			GOM.setObjArr("NST_ARGEE_BREAKPOINT_ITEM_LIST",0,[]);
			selection_in_prog=false;
			//updateSelectionColor("inherit");
			document.removeEventListener("mousemove",selectionMouseMove,true);
			var block_selected_first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);
			
			var parent=getParentArr(block_selected_first_index);
			var last_index_elem=block_selected_first_index[block_selected_first_index.length-1];
			var first_index=JSON.parse(curr_selection_arr[0].dataset.elem_index);
			var last_index=JSON.parse(curr_selection_arr[1].dataset.elem_index);
			block_cut_elements=[];
			for(i=0,j=first_index[first_index.length-1];j<=last_index[last_index.length-1];i++,j++)
			{
				first_index[first_index.length-1]=j;
				setCommentedState(getElemFromIndex(first_index),0);
			}
			block_selected_first_index=null;
			redraw_list[screens.prog_scr].func();
			addUndo();
			return false;
		}
		
		
	};
	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	// Global keyboard hook - END
	// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!





preProcessBlockSeqDescr();
init();
	/*if (localStorage.prog_code!=undefined)
	{
		proj_elems=JSON.parse(localStorage.prog_code);
		var new_prog_vars=proj_elems.prog_var_types_enum;;
		if (new_prog_vars!=undefined)
		{
			for(i=0;i<new_prog_vars.length;i++)
			{
				prog_var_types_enum[i]=new_prog_vars[i];
			}
		}
	}*/
	
return {
	renderCombined:renderCombined,
	handleEvent:handleEvent,
	proj_elems:proj_elems,
	actOnKeyDown:actOnKeyDown,
	blockMenu:blockMenu,
	block_descr:block_descr,
	block_types:block_types,
	descr_lookup:descr_lookup,
	createNewElem:createNewElem,
	findBlockDescr:findBlockDescr,
	descr_lookup:descr_lookup,
	prog_var_types_enum:prog_var_types_enum,
	getElemFromIndex:getElemFromIndex,
	fixed_var_types_enum:fixed_var_types_enum,
	findFunctBlock:findFunctBlock,
	exp_contract:exp_contract,
	showHideElem:showHideElem,
	renderProg:renderProg,
	setDebugMode:setDebugMode,
	getProgTypeInd:getProgTypeInd,
	loadLocal:loadLocal,
	refreshCodeInDebug:refreshCodeInDebug,
	isTypeEnum:isTypeEnum,
	gotoFuncBlock:gotoFuncBlock,
	setNewTypeEnum:setNewTypeEnum,
	getStringTypeInd:getStringTypeInd,
	setRendMode:setRendMode,
	findParamDatapointDescr:findParamDatapointDescr,
	//getVarTypesEnum:getVarTypesEnum,
	//exp_enum:exp_enum,
	dispPrintPreview:dispPrintPreview,
	findLastType:findLastType,
	textAreaAdjust:textAreaAdjust,
	renderInCompactMode:renderInCompactMode,
	getFunctBlockBareboneString:getFunctBlockBareboneString,
	//createGlobAndEnumLists:createGlobAndEnumLists,
	getTypeEnum:getTypeEnum,
	indexToDotString:indexToDotString,
	showErrorLine:showErrorLine,
	getVarElemAndLineFromIndex:getVarElemAndLineFromIndex,
	hmi_disp_num_funcs:hmi_disp_num_funcs,
	hmi_finc_disp_val_range:hmi_finc_disp_val_range,
	hmi_disp_screen_color:hmi_disp_screen_color,
	hmi_disp_screens:hmi_disp_screens,
	dispPrintPreview_imp:dispPrintPreview_imp,
	getFunctionBlockIndex:getFunctionBlockIndex,
	getID_FromIndex:getID_FromIndex,
	findTD_Elem:findTD_Elem,
	addToCllipboard:addToCllipboard,
	initDragAndDrop:initDragAndDrop,
	clearBlockSelection:clearBlockSelection,
	setCommentedState:setCommentedState,
	setPrintMode:setPrintMode,
	getUndoPoints:getUndoPoints,	
	renderDefaultView:renderDefaultView,
	hmi_grid_screen_funcs:hmi_grid_screen_funcs,
	hmi_grid_sect_funcs:hmi_grid_sect_funcs,
	hmi_grid_elem_funcs:hmi_grid_elem_funcs,
	hmi_grid_row_funcs:hmi_grid_row_funcs,
   hmi_elems_var_mapping:hmi_elems_var_mapping,
	handleImageFileSelect:handleImageFileSelect,
	showHideKeybShortcuts:showHideKeybShortcuts,
   exception_descr:exception_descr,
   func_block_type_num:func_block_type_num,
   createAllDatapoints:createAllDatapoints,
   getEnumAndGlobals:getEnumAndGlobals,
   BLOCK_add_above:BLOCK_add_above,
   BLOCK_add_below:BLOCK_add_below,
   BLOCK_add_inside:BLOCK_add_inside,
   VAR_FrameChangeSize:VAR_FrameChangeSize,   
   varSegmResizerMouseDown:varSegmResizerMouseDown,
   varSegmResizerMouseUp:varSegmResizerMouseUp,
   varSegmResizerMouseMove:varSegmResizerMouseMove,
   
}
}());
	
var DESCR=ARGEE_elem_descr; 
 
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// END: Initialization code
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

/********************************************************************************
 *
 * Copyright (c) 2016 by TUSA
 *
 ********************************************************************************
 *
 *  Initial Author       : Roman Glistvain
 *  Maintainers          : Roman Glistvain
 *
 *
 ********************************************************************************
 *
 *  DESCRIPTION: Common configuration variables for the ARGEE IDE
 *
 *******************************************************************************/

// HMI renderer development area
var hmi_debug_renderes=false;
function setCompilerMessage(without_upload,error,string)
{
	if (error==true)
	{
		msg=string;
	}
	else
	{
		msg=string;
	}
   console.log(msg);
   return true;
}

var IO_ids=[];


startProg();	
